(window.webpackJsonp = window.webpackJsonp || []).push([['chunk-8e889ea0'], { '0046': function (e, t, i) { var n = i('6d8b'); var a = n.each; var r = n.createHashMap; var o = i('4f85'); var s = i('3301'); var l = o.extend({ type: 'series.parallel', dependencies: ['parallel'], visualColorAccessPath: 'lineStyle.color', getInitialData: function (e, t) { var i = this.getSource(); return u(i, this), s(i, this) }, getRawIndicesByActiveState: function (e) { var t = this.coordinateSystem; var i = this.getData(); var n = []; return t.eachActiveState(i, function (t, a) { e === t && n.push(i.getRawIndex(a)) }), n }, defaultOption: { zlevel: 0, z: 2, coordinateSystem: 'parallel', parallelIndex: 0, label: { show: !1 }, inactiveOpacity: 0.05, activeOpacity: 1, lineStyle: { width: 1, opacity: 0.45, type: 'solid' }, emphasis: { label: { show: !1 } }, progressive: 500, smooth: !1, animationEasing: 'linear' } }); function u (e, t) { if (!e.encodeDefine) { var i = t.ecModel.getComponent('parallel', t.get('parallelIndex')); if (i) { var n = e.encodeDefine = r(); a(i.dimensions, function (e) { var t = c(e); n.set(e, t) }) } } } function c (e) { return +e.replace('dim', '') }e.exports = l }, '004f': function (e, t, i) { var n = i('6d8b'); var a = i('72b6'); var r = i('2306'); var o = i('a15a'); var s = o.createSymbol; var l = i('f934'); var u = i('cbb0'); var c = a.extend({ type: 'visualMap.piecewise', doRender: function () { var e = this.group; e.removeAll(); var t = this.visualMapModel; var i = t.get('textGap'); var a = t.textStyleModel; var o = a.getFont(); var s = a.getTextColor(); var u = this._getItemAlign(); var c = t.itemSize; var h = this._getViewData(); var d = h.endsText; var f = n.retrieve(t.get('showLabel', !0), !d); function p (a) { var l = a.piece; var h = new r.Group(); h.onclick = n.bind(this._onItemClick, this, l), this._enableHoverLink(h, a.indexInModelPieceList); var d = t.getRepresentValue(l); if (this._createItemSymbol(h, d, [0, 0, c[0], c[1]]), f) { var p = this.visualMapModel.getValueState(d); h.add(new r.Text({ style: { x: u === 'right' ? -i : c[0] + i, y: c[1] / 2, text: l.text, textVerticalAlign: 'middle', textAlign: u, textFont: o, textFill: s, opacity: p === 'outOfRange' ? 0.5 : 1 } })) }e.add(h) }d && this._renderEndsText(e, d[0], c, f, u), n.each(h.viewPieceList, p, this), d && this._renderEndsText(e, d[1], c, f, u), l.box(t.get('orient'), e, t.get('itemGap')), this.renderBackground(e), this.positionGroup(e) }, _enableHoverLink: function (e, t) { function i (e) { var i = this.visualMapModel; i.option.hoverLink && this.api.dispatchAction({ type: e, batch: u.makeHighDownBatch(i.findTargetDataIndices(t), i) }) }e.on('mouseover', n.bind(i, this, 'highlight')).on('mouseout', n.bind(i, this, 'downplay')) }, _getItemAlign: function () { var e = this.visualMapModel; var t = e.option; if (t.orient === 'vertical') return u.getItemAlign(e, this.api, e.itemSize); var i = t.align; return i && i !== 'auto' || (i = 'left'), i }, _renderEndsText: function (e, t, i, n, a) { if (t) { var o = new r.Group(); var s = this.visualMapModel.textStyleModel; o.add(new r.Text({ style: { x: n ? a === 'right' ? i[0] : 0 : i[0] / 2, y: i[1] / 2, textVerticalAlign: 'middle', textAlign: n ? a : 'center', text: t, textFont: s.getFont(), textFill: s.getTextColor() } })), e.add(o) } }, _getViewData: function () { var e = this.visualMapModel; var t = n.map(e.getPieceList(), function (e, t) { return { piece: e, indexInModelPieceList: t } }); var i = e.get('text'); var a = e.get('orient'); var r = e.get('inverse'); return (a === 'horizontal' ? r : !r) ? t.reverse() : i && (i = i.slice().reverse()), { viewPieceList: t, endsText: i } }, _createItemSymbol: function (e, t, i) { e.add(s(this.getControllerVisual(t, 'symbol'), i[0], i[1], i[2], i[3], this.getControllerVisual(t, 'color'))) }, _onItemClick: function (e) { var t = this.visualMapModel; var i = t.option; var a = n.clone(i.selected); var r = t.getSelectedMapKey(e); i.selectedMode === 'single' ? (a[r] = !0, n.each(a, function (e, t) { a[t] = t === r })) : a[r] = !a[r], this.api.dispatchAction({ type: 'selectDataRange', from: this.uid, visualMapId: this.visualMapModel.id, selected: a }) } }); var h = c; e.exports = h }, '007d': function (e, t, i) { var n = i('3eba'); i('cb8f'), i('a96b'), i('42f6'), n.registerAction({ type: 'showTip', event: 'showTip', update: 'tooltip:manuallyShowTip' }, function () {}), n.registerAction({ type: 'hideTip', event: 'hideTip', update: 'tooltip:manuallyHideTip' }, function () {}) }, '00ba': function (e, t, i) { var n = i('3eba'); var a = i('6d8b'); var r = i('e46b'); var o = i('e0d3'); var s = o.defaultEmphasis; var l = i('0f99'); var u = l.makeSeriesEncodeForNameBased; var c = i('c4a3'); var h = n.extendSeriesModel({ type: 'series.funnel', init: function (e) { h.superApply(this, 'init', arguments), this.legendVisualProvider = new c(a.bind(this.getData, this), a.bind(this.getRawData, this)), this._defaultLabelLine(e) }, getInitialData: function (e, t) { return r(this, { coordDimensions: ['value'], encodeDefaulter: a.curry(u, this) }) }, _defaultLabelLine: function (e) { s(e, 'labelLine', ['show']); var t = e.labelLine; var i = e.emphasis.labelLine; t.show = t.show && e.label.show, i.show = i.show && e.emphasis.label.show }, getDataParams: function (e) { var t = this.getData(); var i = h.superCall(this, 'getDataParams', e); var n = t.mapDimension('value'); var a = t.getSum(n); return i.percent = a ? +(t.get(n, e) / a * 100).toFixed(2) : 0, i.$vars.push('percent'), i }, defaultOption: { zlevel: 0, z: 2, legendHoverLink: !0, left: 80, top: 60, right: 80, bottom: 60, minSize: '0%', maxSize: '100%', sort: 'descending', orient: 'vertical', gap: 0, funnelAlign: 'center', label: { show: !0, position: 'outer' }, labelLine: { show: !0, length: 20, lineStyle: { width: 1, type: 'solid' } }, itemStyle: { borderColor: '#fff', borderWidth: 1 }, emphasis: { label: { show: !0 } } } }); var d = h; e.exports = d }, '00d8': function (e, t, i) { var n = i('6d8b'); function a (e, t) { return t = t || [0, 0], n.map([0, 1], function (i) { var n = t[i]; var a = e[i] / 2; var r = []; var o = []; return r[i] = n - a, o[i] = n + a, r[1 - i] = o[1 - i] = t[1 - i], Math.abs(this.dataToPoint(r)[i] - this.dataToPoint(o)[i]) }, this) } function r (e) { var t = e.getBoundingRect(); return { coordSys: { type: 'geo', x: t.x, y: t.y, width: t.width, height: t.height, zoom: e.getZoom() }, api: { coord: function (t) { return e.dataToPoint(t) }, size: n.bind(a, e) } } }e.exports = r }, '0141': function (e, t, i) { var n = i('6d8b'); var a = i('9850'); var r = i('6cc5'); var o = i('5b87'); function s (e, t, i, n) { r.call(this, e), this.map = t; var a = o.load(t, i); this._nameCoordMap = a.nameCoordMap, this._regionsMap = a.regionsMap, this._invertLongitute = n == null || n, this.regions = a.regions, this._rect = a.boundingRect } function l (e, t, i, n) { var a = i.geoModel; var r = i.seriesModel; var o = a ? a.coordinateSystem : r ? r.coordinateSystem || (r.getReferringComponents('geo')[0] || {}).coordinateSystem : null; return o === this ? o[e](n) : null }s.prototype = { constructor: s, type: 'geo', dimensions: ['lng', 'lat'], containCoord: function (e) { for (var t = this.regions, i = 0; i < t.length; i++) if (t[i].contain(e)) return !0; return !1 }, transformTo: function (e, t, i, n) { var r = this.getBoundingRect(); var o = this._invertLongitute; r = r.clone(), o && (r.y = -r.y - r.height); var s = this._rawTransformable; if (s.transform = r.calculateTransform(new a(e, t, i, n)), s.decomposeTransform(), o) { var l = s.scale; l[1] = -l[1] }s.updateTransform(), this._updateTransform() }, getRegion: function (e) { return this._regionsMap.get(e) }, getRegionByCoord: function (e) { for (var t = this.regions, i = 0; i < t.length; i++) if (t[i].contain(e)) return t[i] }, addGeoCoord: function (e, t) { this._nameCoordMap.set(e, t) }, getGeoCoord: function (e) { return this._nameCoordMap.get(e) }, getBoundingRect: function () { return this._rect }, dataToPoint: function (e, t, i) { if (typeof e === 'string' && (e = this.getGeoCoord(e)), e) return r.prototype.dataToPoint.call(this, e, t, i) }, convertToPixel: n.curry(l, 'dataToPoint'), convertFromPixel: n.curry(l, 'pointToData') }, n.mixin(s, r); var u = s; e.exports = u }, '0156': function (e, t, i) { var n = i('6d8b'); function a (e, t, i) { i = i || {}; var a = e.coordinateSystem; var r = t.axis; var o = {}; var s = r.getAxesOnZeroOf()[0]; var l = r.position; var u = s ? 'onZero' : l; var c = r.dim; var h = a.getRect(); var d = [h.x, h.x + h.width, h.y, h.y + h.height]; var f = { left: 0, right: 1, top: 0, bottom: 1, onZero: 2 }; var p = t.get('offset') || 0; var g = c === 'x' ? [d[2] - p, d[3] + p] : [d[0] - p, d[1] + p]; if (s) { var m = s.toGlobalCoord(s.dataToCoord(0)); g[f.onZero] = Math.max(Math.min(m, g[1]), g[0]) }o.position = [c === 'y' ? g[f[u]] : d[0], c === 'x' ? g[f[u]] : d[3]], o.rotation = Math.PI / 2 * (c === 'x' ? 0 : 1); var v = { top: -1, bottom: 1, left: -1, right: 1 }; o.labelDirection = o.tickDirection = o.nameDirection = v[l], o.labelOffset = s ? g[f[l]] - g[f.onZero] : 0, t.get('axisTick.inside') && (o.tickDirection = -o.tickDirection), n.retrieve(i.labelInside, t.get('axisLabel.inside')) && (o.labelDirection = -o.labelDirection); var y = t.get('axisLabel.rotate'); return o.labelRotate = u === 'top' ? -y : y, o.z2 = 1, o }t.layout = a }, '01ed': function (e, t, i) { var n = i('3eba'); var a = i('6d8b'); var r = i('2306'); i('5aa9'), i('af24'), n.extendComponentView({ type: 'grid', render: function (e, t) { this.group.removeAll(), e.get('show') && this.group.add(new r.Rect({ shape: e.coordinateSystem.getRect(), style: a.defaults({ fill: e.get('backgroundColor') }, e.getItemStyle()), silent: !0, z2: -1 })) } }), n.registerPreprocessor(function (e) { e.xAxis && e.yAxis && !e.grid && (e.grid = {}) }) }, '01ef': function (e, t) { function i (e, t, i) { var n = e.target; var a = n.position; a[0] += t, a[1] += i, n.dirty() } function n (e, t, i, n) { var a = e.target; var r = e.zoomLimit; var o = a.position; var s = a.scale; var l = e.zoom = e.zoom || 1; if (l *= t, r) { var u = r.min || 0; var c = r.max || 1 / 0; l = Math.max(Math.min(c, l), u) } var h = l / e.zoom; e.zoom = l, o[0] -= (i - o[0]) * (h - 1), o[1] -= (n - o[1]) * (h - 1), s[0] *= h, s[1] *= h, a.dirty() }t.updateViewOnPan = i, t.updateViewOnZoom = n }, '0352': function (e, t, i) { var n = i('6cb7'); var a = i('b12f'); var r = i('0f99'); var o = r.detectSourceFormat; var s = i('93d0'); var l = s.SERIES_LAYOUT_BY_COLUMN; n.extend({ type: 'dataset', defaultOption: { seriesLayoutBy: l, sourceHeader: null, dimensions: null, source: null }, optionUpdated: function () { o(this) } }), a.extend({ type: 'dataset' }) }, '04f6': function (e, t) { var i = 32; var n = 7; function a (e) { var t = 0; while (e >= i)t |= 1 & e, e >>= 1; return e + t } function r (e, t, i, n) { var a = t + 1; if (a === i) return 1; if (n(e[a++], e[t]) < 0) { while (a < i && n(e[a], e[a - 1]) < 0)a++; o(e, t, a) } else while (a < i && n(e[a], e[a - 1]) >= 0)a++; return a - t } function o (e, t, i) { i--; while (t < i) { var n = e[t]; e[t++] = e[i], e[i--] = n } } function s (e, t, i, n, a) { for (n === t && n++; n < i; n++) { var r; var o = e[n]; var s = t; var l = n; while (s < l)r = s + l >>> 1, a(o, e[r]) < 0 ? l = r : s = r + 1; var u = n - s; switch (u) { case 3:e[s + 3] = e[s + 2]; case 2:e[s + 2] = e[s + 1]; case 1:e[s + 1] = e[s]; break; default:while (u > 0)e[s + u] = e[s + u - 1], u-- }e[s] = o } } function l (e, t, i, n, a, r) { var o = 0; var s = 0; var l = 1; if (r(e, t[i + a]) > 0) { s = n - a; while (l < s && r(e, t[i + a + l]) > 0)o = l, l = 1 + (l << 1), l <= 0 && (l = s); l > s && (l = s), o += a, l += a } else { s = a + 1; while (l < s && r(e, t[i + a - l]) <= 0)o = l, l = 1 + (l << 1), l <= 0 && (l = s); l > s && (l = s); var u = o; o = a - l, l = a - u }o++; while (o < l) { var c = o + (l - o >>> 1); r(e, t[i + c]) > 0 ? o = c + 1 : l = c } return l } function u (e, t, i, n, a, r) { var o = 0; var s = 0; var l = 1; if (r(e, t[i + a]) < 0) { s = a + 1; while (l < s && r(e, t[i + a - l]) < 0)o = l, l = 1 + (l << 1), l <= 0 && (l = s); l > s && (l = s); var u = o; o = a - l, l = a - u } else { s = n - a; while (l < s && r(e, t[i + a + l]) >= 0)o = l, l = 1 + (l << 1), l <= 0 && (l = s); l > s && (l = s), o += a, l += a }o++; while (o < l) { var c = o + (l - o >>> 1); r(e, t[i + c]) < 0 ? l = c : o = c + 1 } return l } function c (e, t) { var i; var a; var r = n; var o = 0; var s = 0; o = e.length; var c = []; function h (e, t) { i[s] = e, a[s] = t, s += 1 } function d () { while (s > 1) { var e = s - 2; if (e >= 1 && a[e - 1] <= a[e] + a[e + 1] || e >= 2 && a[e - 2] <= a[e] + a[e - 1])a[e - 1] < a[e + 1] && e--; else if (a[e] > a[e + 1]) break; p(e) } } function f () { while (s > 1) { var e = s - 2; e > 0 && a[e - 1] < a[e + 1] && e--, p(e) } } function p (n) { var r = i[n]; var o = a[n]; var c = i[n + 1]; var h = a[n + 1]; a[n] = o + h, n === s - 3 && (i[n + 1] = i[n + 2], a[n + 1] = a[n + 2]), s--; var d = u(e[c], e, r, o, 0, t); r += d, o -= d, o !== 0 && (h = l(e[r + o - 1], e, c, h, h - 1, t), h !== 0 && (o <= h ? g(r, o, c, h) : m(r, o, c, h))) } function g (i, a, o, s) { var h = 0; for (h = 0; h < a; h++)c[h] = e[i + h]; var d = 0; var f = o; var p = i; if (e[p++] = e[f++], --s !== 0) if (a !== 1) { var g; var m; var v; var y = r; while (1) { g = 0, m = 0, v = !1; do { if (t(e[f], c[d]) < 0) { if (e[p++] = e[f++], m++, g = 0, --s === 0) { v = !0; break } } else if (e[p++] = c[d++], g++, m = 0, --a === 1) { v = !0; break } } while ((g | m) < y);if (v) break; do { if (g = u(e[f], c, d, a, 0, t), g !== 0) { for (h = 0; h < g; h++)e[p + h] = c[d + h]; if (p += g, d += g, a -= g, a <= 1) { v = !0; break } } if (e[p++] = e[f++], --s === 0) { v = !0; break } if (m = l(c[d], e, f, s, 0, t), m !== 0) { for (h = 0; h < m; h++)e[p + h] = e[f + h]; if (p += m, f += m, s -= m, s === 0) { v = !0; break } } if (e[p++] = c[d++], --a === 1) { v = !0; break }y-- } while (g >= n || m >= n);if (v) break; y < 0 && (y = 0), y += 2 } if (r = y, r < 1 && (r = 1), a === 1) { for (h = 0; h < s; h++)e[p + h] = e[f + h]; e[p + s] = c[d] } else { if (a === 0) throw new Error(); for (h = 0; h < a; h++)e[p + h] = c[d + h] } } else { for (h = 0; h < s; h++)e[p + h] = e[f + h]; e[p + s] = c[d] } else for (h = 0; h < a; h++)e[p + h] = c[d + h] } function m (i, a, o, s) { var h = 0; for (h = 0; h < s; h++)c[h] = e[o + h]; var d = i + a - 1; var f = s - 1; var p = o + s - 1; var g = 0; var m = 0; if (e[p--] = e[d--], --a !== 0) if (s !== 1) { var v = r; while (1) { var y = 0; var x = 0; var _ = !1; do { if (t(c[f], e[d]) < 0) { if (e[p--] = e[d--], y++, x = 0, --a === 0) { _ = !0; break } } else if (e[p--] = c[f--], x++, y = 0, --s === 1) { _ = !0; break } } while ((y | x) < v);if (_) break; do { if (y = a - u(c[f], e, i, a, a - 1, t), y !== 0) { for (p -= y, d -= y, a -= y, m = p + 1, g = d + 1, h = y - 1; h >= 0; h--)e[m + h] = e[g + h]; if (a === 0) { _ = !0; break } } if (e[p--] = c[f--], --s === 1) { _ = !0; break } if (x = s - l(e[d], c, 0, s, s - 1, t), x !== 0) { for (p -= x, f -= x, s -= x, m = p + 1, g = f + 1, h = 0; h < x; h++)e[m + h] = c[g + h]; if (s <= 1) { _ = !0; break } } if (e[p--] = e[d--], --a === 0) { _ = !0; break }v-- } while (y >= n || x >= n);if (_) break; v < 0 && (v = 0), v += 2 } if (r = v, r < 1 && (r = 1), s === 1) { for (p -= a, d -= a, m = p + 1, g = d + 1, h = a - 1; h >= 0; h--)e[m + h] = e[g + h]; e[p] = c[f] } else { if (s === 0) throw new Error(); for (g = p - (s - 1), h = 0; h < s; h++)e[g + h] = c[h] } } else { for (p -= a, d -= a, m = p + 1, g = d + 1, h = a - 1; h >= 0; h--)e[m + h] = e[g + h]; e[p] = c[f] } else for (g = p - (s - 1), h = 0; h < s; h++)e[g + h] = c[h] }i = [], a = [], this.mergeRuns = d, this.forceMergeRuns = f, this.pushRun = h } function h (e, t, n, o) { n || (n = 0), o || (o = e.length); var l = o - n; if (!(l < 2)) { var u = 0; if (l < i) return u = r(e, n, o, t), void s(e, n, o, n + u, t); var h = new c(e, t); var d = a(l); do { if (u = r(e, n, o, t), u < d) { var f = l; f > d && (f = d), s(e, n, n + f, n + u, t), u = f }h.pushRun(n, u), h.mergeRuns(), l -= u, n += u } while (l !== 0);h.forceMergeRuns() } }e.exports = h }, '0655': function (e, t, i) { var n = i('8728'); var a = 1e-8; function r (e, t) { return Math.abs(e - t) < a } function o (e, t, i) { var a = 0; var o = e[0]; if (!o) return !1; for (var s = 1; s < e.length; s++) { var l = e[s]; a += n(o[0], o[1], l[0], l[1], t, i), o = l } var u = e[0]; return r(o[0], u[0]) && r(o[1], u[1]) || (a += n(o[0], o[1], u[0], u[1], t, i)), a !== 0 }t.contain = o }, '06ad': function (e, t, i) { var n = i('4436'); var a = i('41ef'); var r = i('6d8b'); var o = r.isArrayLike; var s = Array.prototype.slice; function l (e, t) { return e[t] } function u (e, t, i) { e[t] = i } function c (e, t, i) { return (t - e) * i + e } function h (e, t, i) { return i > 0.5 ? t : e } function d (e, t, i, n, a) { var r = e.length; if (a === 1) for (var o = 0; o < r; o++)n[o] = c(e[o], t[o], i); else { var s = r && e[0].length; for (o = 0; o < r; o++) for (var l = 0; l < s; l++)n[o][l] = c(e[o][l], t[o][l], i) } } function f (e, t, i) { var n = e.length; var a = t.length; if (n !== a) { var r = n > a; if (r)e.length = a; else for (var o = n; o < a; o++)e.push(i === 1 ? t[o] : s.call(t[o])) } var l = e[0] && e[0].length; for (o = 0; o < e.length; o++) if (i === 1)isNaN(e[o]) && (e[o] = t[o]); else for (var u = 0; u < l; u++)isNaN(e[o][u]) && (e[o][u] = t[o][u]) } function p (e, t, i) { if (e === t) return !0; var n = e.length; if (n !== t.length) return !1; if (i === 1) { for (var a = 0; a < n; a++) if (e[a] !== t[a]) return !1 } else { var r = e[0].length; for (a = 0; a < n; a++) for (var o = 0; o < r; o++) if (e[a][o] !== t[a][o]) return !1 } return !0 } function g (e, t, i, n, a, r, o, s, l) { var u = e.length; if (l === 1) for (var c = 0; c < u; c++)s[c] = m(e[c], t[c], i[c], n[c], a, r, o); else { var h = e[0].length; for (c = 0; c < u; c++) for (var d = 0; d < h; d++)s[c][d] = m(e[c][d], t[c][d], i[c][d], n[c][d], a, r, o) } } function m (e, t, i, n, a, r, o) { var s = 0.5 * (i - e); var l = 0.5 * (n - t); return (2 * (t - i) + s + l) * o + (-3 * (t - i) - 2 * s - l) * r + s * a + t } function v (e) { if (o(e)) { var t = e.length; if (o(e[0])) { for (var i = [], n = 0; n < t; n++)i.push(s.call(e[n])); return i } return s.call(e) } return e } function y (e) { return e[0] = Math.floor(e[0]), e[1] = Math.floor(e[1]), e[2] = Math.floor(e[2]), 'rgba(' + e.join(',') + ')' } function x (e) { var t = e[e.length - 1].value; return o(t && t[0]) ? 2 : 1 } function _ (e, t, i, r, s, l) { var u = e._getter; var v = e._setter; var _ = t === 'spline'; var b = r.length; if (b) { var w; var S = r[0].value; var M = o(S); var I = !1; var A = !1; var T = M ? x(r) : 0; r.sort(function (e, t) { return e.time - t.time }), w = r[b - 1].time; for (var C = [], D = [], L = r[0].value, P = !0, k = 0; k < b; k++) { C.push(r[k].time / w); var O = r[k].value; if (M && p(O, L, T) || !M && O === L || (P = !1), L = O, typeof O === 'string') { var R = a.parse(O); R ? (O = R, I = !0) : A = !0 }D.push(O) } if (l || !P) { var E = D[b - 1]; for (k = 0; k < b - 1; k++)M ? f(D[k], E, T) : !isNaN(D[k]) || isNaN(E) || A || I || (D[k] = E); M && f(u(e._target, s), E, T); var N; var z; var B; var V; var G; var F; var H = 0; var W = 0; if (I) var U = [0, 0, 0, 0]; var Z = function (e, t) { var i; if (t < 0)i = 0; else if (t < W) { for (N = Math.min(H + 1, b - 1), i = N; i >= 0; i--) if (C[i] <= t) break; i = Math.min(i, b - 2) } else { for (i = H; i < b; i++) if (C[i] > t) break; i = Math.min(i - 1, b - 2) }H = i, W = t; var n = C[i + 1] - C[i]; if (n !== 0) if (z = (t - C[i]) / n, _) if (V = D[i], B = D[i === 0 ? i : i - 1], G = D[i > b - 2 ? b - 1 : i + 1], F = D[i > b - 3 ? b - 1 : i + 2], M)g(B, V, G, F, z, z * z, z * z * z, u(e, s), T); else { if (I)a = g(B, V, G, F, z, z * z, z * z * z, U, 1), a = y(U); else { if (A) return h(V, G, z); a = m(B, V, G, F, z, z * z, z * z * z) }v(e, s, a) } else if (M)d(D[i], D[i + 1], z, u(e, s), T); else { var a; if (I)d(D[i], D[i + 1], z, U, 1), a = y(U); else { if (A) return h(D[i], D[i + 1], z); a = c(D[i], D[i + 1], z) }v(e, s, a) } }; var Y = new n({ target: e._target, life: w, loop: e._loop, delay: e._delay, onframe: Z, ondestroy: i }); return t && t !== 'spline' && (Y.easing = t), Y } } } var b = function (e, t, i, n) { this._tracks = {}, this._target = e, this._loop = t || !1, this._getter = i || l, this._setter = n || u, this._clipCount = 0, this._delay = 0, this._doneList = [], this._onframeList = [], this._clipList = [] }; b.prototype = { when: function (e, t) { var i = this._tracks; for (var n in t) if (t.hasOwnProperty(n)) { if (!i[n]) { i[n] = []; var a = this._getter(this._target, n); if (a == null) continue; e !== 0 && i[n].push({ time: 0, value: v(a) }) }i[n].push({ time: e, value: t[n] }) } return this }, during: function (e) { return this._onframeList.push(e), this }, pause: function () { for (var e = 0; e < this._clipList.length; e++) this._clipList[e].pause(); this._paused = !0 }, resume: function () { for (var e = 0; e < this._clipList.length; e++) this._clipList[e].resume(); this._paused = !1 }, isPaused: function () { return !!this._paused }, _doneCallback: function () { this._tracks = {}, this._clipList.length = 0; for (var e = this._doneList, t = e.length, i = 0; i < t; i++)e[i].call(this) }, start: function (e, t) { var i; var n = this; var a = 0; var r = function () { a--, a || n._doneCallback() }; for (var o in this._tracks) if (this._tracks.hasOwnProperty(o)) { var s = _(this, e, r, this._tracks[o], o, t); s && (this._clipList.push(s), a++, this.animation && this.animation.addClip(s), i = s) } if (i) { var l = i.onframe; i.onframe = function (e, t) { l(e, t); for (var i = 0; i < n._onframeList.length; i++)n._onframeList[i](e, t) } } return a || this._doneCallback(), this }, stop: function (e) { for (var t = this._clipList, i = this.animation, n = 0; n < t.length; n++) { var a = t[n]; e && a.onframe(this._target, 1), i && i.removeClip(a) }t.length = 0 }, delay: function (e) { return this._delay = e, this }, done: function (e) { return e && this._doneList.push(e), this }, getClips: function () { return this._clipList } }; var w = b; e.exports = w }, '06c7': function (e, t, i) { var n = i('6d8b'); var a = i('31d9'); var r = i('6179'); var o = i('b1d4'); var s = function (e, t) { this.name = e || '', this.depth = 0, this.height = 0, this.parentNode = null, this.dataIndex = -1, this.children = [], this.viewChildren = [], this.hostTree = t }; function l (e) { this.root, this.data, this._nodes = [], this.hostModel = e } function u (e, t) { var i = t.children; e.parentNode !== t && (i.push(e), e.parentNode = t) }s.prototype = { constructor: s, isRemoved: function () { return this.dataIndex < 0 }, eachNode: function (e, t, i) { typeof e === 'function' && (i = t, t = e, e = null), e = e || {}, n.isString(e) && (e = { order: e }); var a; var r = e.order || 'preorder'; var o = this[e.attr || 'children']; r === 'preorder' && (a = t.call(i, this)); for (var s = 0; !a && s < o.length; s++)o[s].eachNode(e, t, i); r === 'postorder' && t.call(i, this) }, updateDepthAndHeight: function (e) { var t = 0; this.depth = e; for (var i = 0; i < this.children.length; i++) { var n = this.children[i]; n.updateDepthAndHeight(e + 1), n.height > t && (t = n.height) } this.height = t + 1 }, getNodeById: function (e) { if (this.getId() === e) return this; for (var t = 0, i = this.children, n = i.length; t < n; t++) { var a = i[t].getNodeById(e); if (a) return a } }, contains: function (e) { if (e === this) return !0; for (var t = 0, i = this.children, n = i.length; t < n; t++) { var a = i[t].contains(e); if (a) return a } }, getAncestors: function (e) { var t = []; var i = e ? this : this.parentNode; while (i)t.push(i), i = i.parentNode; return t.reverse(), t }, getValue: function (e) { var t = this.hostTree.data; return t.get(t.getDimension(e || 'value'), this.dataIndex) }, setLayout: function (e, t) { this.dataIndex >= 0 && this.hostTree.data.setItemLayout(this.dataIndex, e, t) }, getLayout: function () { return this.hostTree.data.getItemLayout(this.dataIndex) }, getModel: function (e) { if (!(this.dataIndex < 0)) { var t = this.hostTree; var i = t.data.getItemModel(this.dataIndex); return i.getModel(e) } }, setVisual: function (e, t) { this.dataIndex >= 0 && this.hostTree.data.setItemVisual(this.dataIndex, e, t) }, getVisual: function (e, t) { return this.hostTree.data.getItemVisual(this.dataIndex, e, t) }, getRawIndex: function () { return this.hostTree.data.getRawIndex(this.dataIndex) }, getId: function () { return this.hostTree.data.getId(this.dataIndex) }, isAncestorOf: function (e) { var t = e.parentNode; while (t) { if (t === this) return !0; t = t.parentNode } return !1 }, isDescendantOf: function (e) { return e !== this && e.isAncestorOf(this) } }, l.prototype = { constructor: l, type: 'tree', eachNode: function (e, t, i) { this.root.eachNode(e, t, i) }, getNodeByDataIndex: function (e) { var t = this.data.getRawIndex(e); return this._nodes[t] }, getNodeByName: function (e) { return this.root.getNodeByName(e) }, update: function () { for (var e = this.data, t = this._nodes, i = 0, n = t.length; i < n; i++)t[i].dataIndex = -1; for (i = 0, n = e.count(); i < n; i++)t[e.getRawIndex(i)].dataIndex = i }, clearLayouts: function () { this.data.clearItemLayouts() } }, l.createTree = function (e, t, i) { var c = new l(t); var h = []; var d = 1; function f (e, t) { var i = e.value; d = Math.max(d, n.isArray(i) ? i.length : 1), h.push(e); var a = new s(e.name, c); t ? u(a, t) : c.root = a, c._nodes.push(a); var r = e.children; if (r) for (var o = 0; o < r.length; o++)f(r[o], a) }f(e), c.root.updateDepthAndHeight(0); var p = o(h, { coordDimensions: ['value'], dimensionsCount: d }); var g = new r(p, t); return g.initData(h), i && i(g), a({ mainData: g, struct: c, structAttr: 'tree' }), c.update(), c }; var c = l; e.exports = c }, '06ea': function (e, t, i) { var n = i('4e08'); var a = (n.__DEV__, i('6d8b')); var r = i('eaea'); var o = i('5f14'); var s = i('60e3'); var l = i('3842'); var u = l.reformIntervals; var c = r.extend({ type: 'visualMap.piecewise', defaultOption: { selected: null, minOpen: !1, maxOpen: !1, align: 'auto', itemWidth: 20, itemHeight: 14, itemSymbol: 'roundRect', pieceList: null, categories: null, splitNumber: 5, selectedMode: 'multiple', itemGap: 10, hoverLink: !0, showLabel: null }, optionUpdated: function (e, t) { c.superApply(this, 'optionUpdated', arguments), this._pieceList = [], this.resetExtent(); var i = this._mode = this._determineMode(); h[this._mode].call(this), this._resetSelected(e, t); var n = this.option.categories; this.resetVisual(function (e, t) { i === 'categories' ? (e.mappingMethod = 'category', e.categories = a.clone(n)) : (e.dataExtent = this.getExtent(), e.mappingMethod = 'piecewise', e.pieceList = a.map(this._pieceList, function (e) { e = a.clone(e); return t !== 'inRange' && (e.visual = null), e })) }) }, completeVisualOption: function () { var e = this.option; var t = {}; var i = o.listVisualTypes(); var n = this.isCategory(); function l (e, t, i) { return e && e[t] && (a.isObject(e[t]) ? e[t].hasOwnProperty(i) : e[t] === i) }a.each(e.pieces, function (e) { a.each(i, function (i) { e.hasOwnProperty(i) && (t[i] = 1) }) }), a.each(t, function (t, i) { var r = 0; a.each(this.stateList, function (t) { r |= l(e, t, i) || l(e.target, t, i) }, this), !r && a.each(this.stateList, function (t) { (e[t] || (e[t] = {}))[i] = s.get(i, t === 'inRange' ? 'active' : 'inactive', n) }) }, this), r.prototype.completeVisualOption.apply(this, arguments) }, _resetSelected: function (e, t) { var i = this.option; var n = this._pieceList; var r = (t ? i : e).selected || {}; if (i.selected = r, a.each(n, function (e, t) { var i = this.getSelectedMapKey(e); r.hasOwnProperty(i) || (r[i] = !0) }, this), i.selectedMode === 'single') { var o = !1; a.each(n, function (e, t) { var i = this.getSelectedMapKey(e); r[i] && (o ? r[i] = !1 : o = !0) }, this) } }, getSelectedMapKey: function (e) { return this._mode === 'categories' ? e.value + '' : e.index + '' }, getPieceList: function () { return this._pieceList }, _determineMode: function () { var e = this.option; return e.pieces && e.pieces.length > 0 ? 'pieces' : this.option.categories ? 'categories' : 'splitNumber' }, setSelected: function (e) { this.option.selected = a.clone(e) }, getValueState: function (e) { var t = o.findPieceIndex(e, this._pieceList); return t != null && this.option.selected[this.getSelectedMapKey(this._pieceList[t])] ? 'inRange' : 'outOfRange' }, findTargetDataIndices: function (e) { var t = []; return this.eachTargetSeries(function (i) { var n = []; var a = i.getData(); a.each(this.getDataDimension(a), function (t, i) { var a = o.findPieceIndex(t, this._pieceList); a === e && n.push(i) }, this), t.push({ seriesId: i.id, dataIndex: n }) }, this), t }, getRepresentValue: function (e) { var t; if (this.isCategory())t = e.value; else if (e.value != null)t = e.value; else { var i = e.interval || []; t = i[0] === -1 / 0 && i[1] === 1 / 0 ? 0 : (i[0] + i[1]) / 2 } return t }, getVisualMeta: function (e) { if (!this.isCategory()) { var t = []; var i = []; var n = this; var r = this._pieceList.slice(); if (r.length) { var o = r[0].interval[0]; o !== -1 / 0 && r.unshift({ interval: [-1 / 0, o] }), o = r[r.length - 1].interval[1], o !== 1 / 0 && r.push({ interval: [o, 1 / 0] }) } else r.push({ interval: [-1 / 0, 1 / 0] }); var s = -1 / 0; return a.each(r, function (e) { var t = e.interval; t && (t[0] > s && l([s, t[0]], 'outOfRange'), l(t.slice()), s = t[1]) }, this), { stops: t, outerColors: i } } function l (a, r) { var o = n.getRepresentValue({ interval: a }); r || (r = n.getValueState(o)); var s = e(o, r); a[0] === -1 / 0 ? i[0] = s : a[1] === 1 / 0 ? i[1] = s : t.push({ value: a[0], color: s }, { value: a[1], color: s }) } } }); var h = { splitNumber: function () { var e = this.option; var t = this._pieceList; var i = Math.min(e.precision, 20); var n = this.getExtent(); var r = e.splitNumber; r = Math.max(parseInt(r, 10), 1), e.splitNumber = r; var o = (n[1] - n[0]) / r; while (+o.toFixed(i) !== o && i < 5)i++; e.precision = i, o = +o.toFixed(i), e.minOpen && t.push({ interval: [-1 / 0, n[0]], close: [0, 0] }); for (var s = 0, l = n[0]; s < r; l += o, s++) { var c = s === r - 1 ? n[1] : l + o; t.push({ interval: [l, c], close: [1, 1] }) }e.maxOpen && t.push({ interval: [n[1], 1 / 0], close: [0, 0] }), u(t), a.each(t, function (e, t) { e.index = t, e.text = this.formatValueText(e.interval) }, this) }, categories: function () { var e = this.option; a.each(e.categories, function (e) { this._pieceList.push({ text: this.formatValueText(e, !0), value: e }) }, this), d(e, this._pieceList) }, pieces: function () { var e = this.option; var t = this._pieceList; a.each(e.pieces, function (e, i) { a.isObject(e) || (e = { value: e }); var n = { text: '', index: i }; if (e.label != null && (n.text = e.label), e.hasOwnProperty('value')) { var r = n.value = e.value; n.interval = [r, r], n.close = [1, 1] } else { for (var s = n.interval = [], l = n.close = [0, 0], u = [1, 0, 1], c = [-1 / 0, 1 / 0], h = [], d = 0; d < 2; d++) { for (var f = [['gte', 'gt', 'min'], ['lte', 'lt', 'max']][d], p = 0; p < 3 && s[d] == null; p++)s[d] = e[f[p]], l[d] = u[p], h[d] = p === 2; s[d] == null && (s[d] = c[d]) }h[0] && s[1] === 1 / 0 && (l[0] = 0), h[1] && s[0] === -1 / 0 && (l[1] = 0), s[0] === s[1] && l[0] && l[1] && (n.value = s[0]) }n.visual = o.retrieveVisuals(e), t.push(n) }, this), d(e, t), u(t), a.each(t, function (e) { var t = e.close; var i = [['<', '≤'][t[1]], ['>', '≥'][t[0]]]; e.text = e.text || this.formatValueText(e.value != null ? e.value : e.interval, !1, i) }, this) } }; function d (e, t) { var i = e.inverse; (e.orient === 'vertical' ? !i : i) && t.reverse() } var f = c; e.exports = f }, '07ac': function (e, t, i) { var n = i('23e7'); var a = i('6f53').values; n({ target: 'Object', stat: !0 }, { values: function (e) { return a(e) } }) }, '07d7': function (e, t, i) { var n = i('6d8b'); var a = i('41ef'); var r = i('607d'); var o = i('65ed'); var s = i('22d1'); var l = i('eda2'); var u = n.each; var c = l.toCamelCase; var h = ['', '-webkit-', '-moz-', '-o-']; var d = 'position:absolute;display:block;border-style:solid;white-space:nowrap;z-index:9999999;'; function f (e) { var t = 'cubic-bezier(0.23, 1, 0.32, 1)'; var i = 'left ' + e + 's ' + t + ',top ' + e + 's ' + t; return n.map(h, function (e) { return e + 'transition:' + i }).join(';') } function p (e) { var t = []; var i = e.get('fontSize'); var n = e.getTextColor(); n && t.push('color:' + n), t.push('font:' + e.getFont()); var a = e.get('lineHeight'); a == null && (a = Math.round(3 * i / 2)), i && t.push('line-height:' + a + 'px'); var r = e.get('textShadowColor'); var o = e.get('textShadowBlur') || 0; var s = e.get('textShadowOffsetX') || 0; var l = e.get('textShadowOffsetY') || 0; return o && t.push('text-shadow:' + s + 'px ' + l + 'px ' + o + 'px ' + r), u(['decoration', 'align'], function (i) { var n = e.get(i); n && t.push('text-' + i + ':' + n) }), t.join(';') } function g (e) { var t = []; var i = e.get('transitionDuration'); var n = e.get('backgroundColor'); var r = e.getModel('textStyle'); var o = e.get('padding'); return i && t.push(f(i)), n && (s.canvasSupported ? t.push('background-Color:' + n) : (t.push('background-Color:#' + a.toHex(n)), t.push('filter:alpha(opacity=70)'))), u(['width', 'color', 'radius'], function (i) { var n = 'border-' + i; var a = c(n); var r = e.get(a); r != null && t.push(n + ':' + r + (i === 'color' ? '' : 'px')) }), t.push(p(r)), o != null && t.push('padding:' + l.normalizeCssArray(o).join('px ') + 'px'), t.join(';') + ';' } function m (e, t, i, n, a) { var r = t && t.painter; if (i) { var s = r && r.getViewportRoot(); s && o.transformLocalCoord(e, s, document.body, n, a) } else { e[0] = n, e[1] = a; var l = r && r.getViewportRootOffset(); l && (e[0] += l.offsetLeft, e[1] += l.offsetTop) }e[2] = e[0] / t.getWidth(), e[3] = e[1] / t.getHeight() } function v (e, t, i) { if (s.wxa) return null; var n = document.createElement('div'); n.domBelongToZr = !0, this.el = n; var a = this._zr = t.getZr(); var o = this._appendToBody = i && i.appendToBody; this._styleCoord = [0, 0, 0, 0], m(this._styleCoord, a, o, t.getWidth() / 2, t.getHeight() / 2), o ? document.body.appendChild(n) : e.appendChild(n), this._container = e, this._show = !1, this._hideTimeout; var l = this; n.onmouseenter = function () { l._enterable && (clearTimeout(l._hideTimeout), l._show = !0), l._inContent = !0 }, n.onmousemove = function (e) { if (e = e || window.event, !l._enterable) { var t = a.handler; var i = a.painter.getViewportRoot(); r.normalizeEvent(i, e, !0), t.dispatch('mousemove', e) } }, n.onmouseleave = function () { l._enterable && l._show && l.hideLater(l._hideDelay), l._inContent = !1 } }v.prototype = { constructor: v, _enterable: !0, update: function (e) { var t = this._container; var i = t.currentStyle || document.defaultView.getComputedStyle(t); var n = t.style; n.position !== 'absolute' && i.position !== 'absolute' && (n.position = 'relative'); var a = e.get('alwaysShowContent'); a && this._moveTooltipIfResized() }, _moveTooltipIfResized: function () { var e = this._styleCoord[2]; var t = this._styleCoord[3]; var i = e * this._zr.getWidth(); var n = t * this._zr.getHeight(); this.moveTo(i, n) }, show: function (e) { clearTimeout(this._hideTimeout); var t = this.el; var i = this._styleCoord; t.style.cssText = d + g(e) + ';left:' + i[0] + 'px;top:' + i[1] + 'px;' + (e.get('extraCssText') || ''), t.style.display = t.innerHTML ? 'block' : 'none', t.style.pointerEvents = this._enterable ? 'auto' : 'none', this._show = !0 }, setContent: function (e) { this.el.innerHTML = e == null ? '' : e }, setEnterable: function (e) { this._enterable = e }, getSize: function () { var e = this.el; return [e.clientWidth, e.clientHeight] }, moveTo: function (e, t) { var i = this._styleCoord; m(i, this._zr, this._appendToBody, e, t); var n = this.el.style; n.left = i[0] + 'px', n.top = i[1] + 'px' }, hide: function () { this.el.style.display = 'none', this._show = !1 }, hideLater: function (e) { !this._show || this._inContent && this._enterable || (e ? (this._hideDelay = e, this._show = !1, this._hideTimeout = setTimeout(n.bind(this.hide, this), e)) : this.hide()) }, isShow: function () { return this._show }, dispose: function () { this.el.parentNode.removeChild(this.el) }, getOuterSize: function () { var e = this.el.clientWidth; var t = this.el.clientHeight; if (document.defaultView && document.defaultView.getComputedStyle) { var i = document.defaultView.getComputedStyle(this.el); i && (e += parseInt(i.borderLeftWidth, 10) + parseInt(i.borderRightWidth, 10), t += parseInt(i.borderTopWidth, 10) + parseInt(i.borderBottomWidth, 10)) } return { width: e, height: t } } }; var y = v; e.exports = y }, '07e6': function (e, t, i) { i('4d85'), i('a7531') }, '0817': function (e, t, i) { var n = i('3eba'); i('f306'), i('0046'), i('60d7'); var a = i('ab71'); n.registerVisual(a) }, '085d': function (e, t, i) { var n = i('3eba'); i('bd92'), i('19e2'); var a = i('eabf'); var r = i('4c99'); var o = i('09b1'); n.registerPreprocessor(a), n.registerVisual(r), n.registerLayout(o) }, '08c3': function (e, t, i) { var n = i('6d8b'); var a = i('84ce'); var r = function (e, t, i, n) { a.call(this, e, t, i), this.type = n || 'value', this.model = null }; r.prototype = { constructor: r, getLabelModel: function () { return this.model.getModel('label') }, isHorizontal: function () { return this.model.get('orient') === 'horizontal' } }, n.inherits(r, a); var o = r; e.exports = o }, '09b1': function (e, t, i) { var n = i('2306'); var a = n.subPixelOptimize; var r = i('cccd'); var o = i('3842'); var s = o.parsePercent; var l = i('6d8b'); var u = l.retrieve2; var c = typeof Float32Array !== 'undefined' ? Float32Array : Array; var h = { seriesType: 'candlestick', plan: r(), reset: function (e) { var t = e.coordinateSystem; var i = e.getData(); var n = f(e, i); var r = 0; var o = 1; var s = ['x', 'y']; var l = i.mapDimension(s[r]); var u = i.mapDimension(s[o], !0); var h = u[0]; var p = u[1]; var g = u[2]; var m = u[3]; if (i.setLayout({ candleWidth: n, isSimpleBox: n <= 1.3 }), !(l == null || u.length < 4)) return { progress: e.pipelineContext.large ? y : v }; function v (e, i) { var s; while ((s = e.next()) != null) { var u = i.get(l, s); var c = i.get(h, s); var f = i.get(p, s); var v = i.get(g, s); var y = i.get(m, s); var x = Math.min(c, f); var _ = Math.max(c, f); var b = A(x, u); var w = A(_, u); var S = A(v, u); var M = A(y, u); var I = []; T(I, w, 0), T(I, b, 1), I.push(D(M), D(w), D(S), D(b)), i.setItemLayout(s, { sign: d(i, s, c, f, p), initBaseline: c > f ? w[o] : b[o], ends: I, brushRect: C(v, y, u) }) } function A (e, i) { var n = []; return n[r] = i, n[o] = e, isNaN(i) || isNaN(e) ? [NaN, NaN] : t.dataToPoint(n) } function T (e, t, i) { var o = t.slice(); var s = t.slice(); o[r] = a(o[r] + n / 2, 1, !1), s[r] = a(s[r] - n / 2, 1, !0), i ? e.push(o, s) : e.push(s, o) } function C (e, t, i) { var a = A(e, i); var s = A(t, i); return a[r] -= n / 2, s[r] -= n / 2, { x: a[0], y: a[1], width: o ? n : s[0] - a[0], height: o ? s[1] - a[1] : n } } function D (e) { return e[r] = a(e[r], 1), e } } function y (e, i) { var n; var a; var s = new c(4 * e.count); var u = 0; var f = []; var v = []; while ((a = e.next()) != null) { var y = i.get(l, a); var x = i.get(h, a); var _ = i.get(p, a); var b = i.get(g, a); var w = i.get(m, a); isNaN(y) || isNaN(b) || isNaN(w) ? (s[u++] = NaN, u += 3) : (s[u++] = d(i, a, x, _, p), f[r] = y, f[o] = b, n = t.dataToPoint(f, null, v), s[u++] = n ? n[0] : NaN, s[u++] = n ? n[1] : NaN, f[o] = w, n = t.dataToPoint(f, null, v), s[u++] = n ? n[1] : NaN) }i.setLayout('largePoints', s) } } }; function d (e, t, i, n, a) { var r; return r = i > n ? -1 : i < n ? 1 : t > 0 ? e.get(a, t - 1) <= n ? 1 : -1 : 1, r } function f (e, t) { var i; var n = e.getBaseAxis(); var a = n.type === 'category' ? n.getBandWidth() : (i = n.getExtent(), Math.abs(i[1] - i[0]) / t.count()); var r = s(u(e.get('barMaxWidth'), a), a); var o = s(u(e.get('barMinWidth'), 1), a); var l = e.get('barWidth'); return l != null ? s(l, a) : Math.max(Math.min(a / 2, r), o) }e.exports = h }, '0a6d': function (e, t, i) { i('e4d1'), i('7f72') }, '0b44': function (e, t, i) { var n = i('607d'); var a = function () { this._track = [] }; function r (e) { var t = e[1][0] - e[0][0]; var i = e[1][1] - e[0][1]; return Math.sqrt(t * t + i * i) } function o (e) { return [(e[0][0] + e[1][0]) / 2, (e[0][1] + e[1][1]) / 2] }a.prototype = { constructor: a, recognize: function (e, t, i) { return this._doTrack(e, t, i), this._recognize(e) }, clear: function () { return this._track.length = 0, this }, _doTrack: function (e, t, i) { var a = e.touches; if (a) { for (var r = { points: [], touches: [], target: t, event: e }, o = 0, s = a.length; o < s; o++) { var l = a[o]; var u = n.clientToLocal(i, l, {}); r.points.push([u.zrX, u.zrY]), r.touches.push(l) } this._track.push(r) } }, _recognize: function (e) { for (var t in s) if (s.hasOwnProperty(t)) { var i = s[t](this._track, e); if (i) return i } } }; var s = { pinch: function (e, t) { var i = e.length; if (i) { var n = (e[i - 1] || {}).points; var a = (e[i - 2] || {}).points || n; if (a && a.length > 1 && n && n.length > 1) { var s = r(n) / r(a); !isFinite(s) && (s = 1), t.pinchScale = s; var l = o(n); return t.pinchX = l[0], t.pinchY = l[1], { type: 'pinch', target: e[0].target, event: t } } } } }; var l = a; e.exports = l }, '0b4b': function (e, t, i) { i('d28f'), i('f14c'), i('0ee7'), i('ebf9') }, '0c12': function (e, t) { function i () {} function n (e, t, i, n) { for (var a = 0, r = t.length, o = 0, s = 0; a < r; a++) { var l = t[a]; if (l.removed) { for (u = [], c = s; c < s + l.count; c++)u.push(c); l.indices = u, s += l.count } else { for (var u = [], c = o; c < o + l.count; c++)u.push(c); l.indices = u, o += l.count, l.added || (s += l.count) } } return t } function a (e) { return { newPos: e.newPos, components: e.components.slice(0) } }i.prototype = { diff: function (e, t, i) { i || (i = function (e, t) { return e === t }), this.equals = i; var r = this; e = e.slice(), t = t.slice(); var o = t.length; var s = e.length; var l = 1; var u = o + s; var c = [{ newPos: -1, components: [] }]; var h = this.extractCommon(c[0], t, e, 0); if (c[0].newPos + 1 >= o && h + 1 >= s) { for (var d = [], f = 0; f < t.length; f++)d.push(f); return [{ indices: d, count: t.length }] } function p () { for (var i = -1 * l; i <= l; i += 2) { var u; var h = c[i - 1]; var d = c[i + 1]; var f = (d ? d.newPos : 0) - i; h && (c[i - 1] = void 0); var p = h && h.newPos + 1 < o; var g = d && f >= 0 && f < s; if (p || g) { if (!p || g && h.newPos < d.newPos ? (u = a(d), r.pushComponent(u.components, void 0, !0)) : (u = h, u.newPos++, r.pushComponent(u.components, !0, void 0)), f = r.extractCommon(u, t, e, i), u.newPos + 1 >= o && f + 1 >= s) return n(r, u.components, t, e); c[i] = u } else c[i] = void 0 }l++ } while (l <= u) { var g = p(); if (g) return g } }, pushComponent: function (e, t, i) { var n = e[e.length - 1]; n && n.added === t && n.removed === i ? e[e.length - 1] = { count: n.count + 1, added: t, removed: i } : e.push({ count: 1, added: t, removed: i }) }, extractCommon: function (e, t, i, n) { var a = t.length; var r = i.length; var o = e.newPos; var s = o - n; var l = 0; while (o + 1 < a && s + 1 < r && this.equals(t[o + 1], i[s + 1]))o++, s++, l++; return l && e.components.push({ count: l }), e.newPos = o, s }, tokenize: function (e) { return e.slice() }, join: function (e) { return e.slice() } }; var r = new i(); function o (e, t, i) { return r.diff(e, t, i) }e.exports = o }, '0c37': function (e, t, i) { var n = i('6d8b'); var a = '--\x3e'; var r = function (e) { return e.get('autoCurveness') || null }; var o = function (e, t) { var i = r(e); var a = 20; var o = []; if (typeof i === 'number')a = i; else if (n.isArray(i)) return void (e.__curvenessList = i); t > a && (a = t); var s = a % 2 ? a + 2 : a + 3; o = []; for (var l = 0; l < s; l++)o.push((l % 2 ? l + 1 : l) / 10 * (l % 2 ? -1 : 1)); e.__curvenessList = o }; var s = function (e, t, i) { var n = [e.id, e.dataIndex].join('.'); var r = [t.id, t.dataIndex].join('.'); return [i.uid, n, r].join(a) }; var l = function (e) { var t = e.split(a); return [t[0], t[2], t[1]].join(a) }; var u = function (e, t) { var i = s(e.node1, e.node2, t); return t.__edgeMap[i] }; var c = function (e, t) { var i = h(s(e.node1, e.node2, t), t); var n = h(s(e.node2, e.node1, t), t); return i + n }; var h = function (e, t) { var i = t.__edgeMap; return i[e] ? i[e].length : 0 }; function d (e) { r(e) && (e.__curvenessList = [], e.__edgeMap = {}, o(e)) } function f (e, t, i, n) { if (r(i)) { var a = s(e, t, i); var o = i.__edgeMap; var u = o[l(a)]; o[a] && !u ? o[a].isForward = !0 : u && o[a] && (u.isForward = !0, o[a].isForward = !1), o[a] = o[a] || [], o[a].push(n) } } function p (e, t, i, a) { var d = r(t); var f = n.isArray(d); if (!d) return null; var p = u(e, t); if (!p) return null; for (var g = -1, m = 0; m < p.length; m++) if (p[m] === i) { g = m; break } var v = c(e, t); o(t, v), e.lineStyle = e.lineStyle || {}; var y = s(e.node1, e.node2, t); var x = t.__curvenessList; var _ = f || v % 2 ? 0 : 1; if (p.isForward) return x[_ + g]; var b = l(y); var w = h(b, t); var S = x[g + w + _]; return a ? f ? d && d[0] === 0 ? (w + _) % 2 ? S : -S : ((w % 2 ? 0 : 1) + _) % 2 ? S : -S : (w + _) % 2 ? S : -S : x[g + w + _] }t.initCurvenessList = d, t.createEdgeMapForCurveness = f, t.getCurvenessForEdge = p }, '0c41': function (e, t, i) { var n = i('6d8b'); var a = i('4a01'); var r = i('01ef'); var o = i('c526'); var s = o.onIrrelevantElement; var l = i('2306'); var u = i('5b87'); var c = i('8918'); var h = c.getUID; var d = i('0cde'); function f (e) { var t = e.getItemStyle(); var i = e.get('areaColor'); return i != null && (t.fill = i), t } function p (e, t, i, a, r) { i.off('click'), i.off('mousedown'), t.get('selectedMode') && (i.on('mousedown', function () { e._mouseDownFlag = !0 }), i.on('click', function (o) { if (e._mouseDownFlag) { e._mouseDownFlag = !1; var s = o.target; while (!s.__regions)s = s.parent; if (s) { var l = { type: (t.mainType === 'geo' ? 'geo' : 'map') + 'ToggleSelect', batch: n.map(s.__regions, function (e) { return { name: e.name, from: r.uid } }) }; l[t.mainType + 'Id'] = t.id, a.dispatchAction(l), g(t, i) } } })) } function g (e, t) { t.eachChild(function (t) { n.each(t.__regions, function (i) { t.trigger(e.isSelected(i.name) ? 'emphasis' : 'normal') }) }) } function m (e, t) { var i = new l.Group(); this.uid = h('ec_map_draw'), this._controller = new a(e.getZr()), this._controllerHost = { target: t ? i : null }, this.group = i, this._updateGroup = t, this._mouseDownFlag, this._mapName, this._initialized, i.add(this._regionsGroup = new l.Group()), i.add(this._backgroundGroup = new l.Group()) }m.prototype = { constructor: m, draw: function (e, t, i, a, r) { var o = e.mainType === 'geo'; var s = e.getData && e.getData(); o && t.eachComponent({ mainType: 'series', subType: 'map' }, function (t) { s || t.getHostGeoModel() !== e || (s = t.getData()) }); var u = e.coordinateSystem; this._updateBackground(u); var c; var h = this._regionsGroup; var m = this.group; var v = u.getTransformInfo(); var y = !h.childAt(0) || r; if (y)m.transform = v.roamTransform, m.decomposeTransform(), m.dirty(); else { var x = new d(); x.transform = v.roamTransform, x.decomposeTransform(); var _ = { scale: x.scale, position: x.position }; c = x.scale, l.updateProps(m, _, e) } var b = v.rawScale; var w = v.rawPosition; h.removeAll(); var S = ['itemStyle']; var M = ['emphasis', 'itemStyle']; var I = ['label']; var A = ['emphasis', 'label']; var T = n.createHashMap(); n.each(u.regions, function (t) { var i = T.get(t.name) || T.set(t.name, new l.Group()); var a = new l.CompoundPath({ segmentIgnoreThreshold: 1, shape: { paths: [] } }); i.add(a); var r; var u = e.getRegionModel(t.name) || e; var d = u.getModel(S); var p = u.getModel(M); var g = f(d); var v = f(p); var x = u.getModel(I); var _ = u.getModel(A); if (s) { r = s.indexOfName(t.name); var C = s.getItemVisual(r, 'color', !0); C && (g.fill = C) } var D = function (e) { return [e[0] * b[0] + w[0], e[1] * b[1] + w[1]] }; n.each(t.geometries, function (e) { if (e.type === 'polygon') { for (var t = [], i = 0; i < e.exterior.length; ++i)t.push(D(e.exterior[i])); a.shape.paths.push(new l.Polygon({ segmentIgnoreThreshold: 1, shape: { points: t } })); for (i = 0; i < (e.interiors ? e.interiors.length : 0); ++i) { for (var n = e.interiors[i], r = (t = [], 0); r < n.length; ++r)t.push(D(n[r])); a.shape.paths.push(new l.Polygon({ segmentIgnoreThreshold: 1, shape: { points: t } })) } } }), a.setStyle(g), a.style.strokeNoScale = !0, a.culling = !0; var L = x.get('show'); var P = _.get('show'); var k = s && isNaN(s.get(s.mapDimension('value'), r)); var O = s && s.getItemLayout(r); if (o || k && (L || P) || O && O.showLabel) { var R; var E = o ? t.name : r; (!s || r >= 0) && (R = e); var N = new l.Text({ position: D(t.center.slice()), scale: [1 / m.scale[0], 1 / m.scale[1]], z2: 10, silent: !0 }); if (l.setLabelStyle(N.style, N.hoverStyle = {}, x, _, { labelFetcher: R, labelDataIndex: E, defaultText: t.name, useInsideStyle: !1 }, { textAlign: 'center', textVerticalAlign: 'middle' }), !y) { var z = [1 / c[0], 1 / c[1]]; l.updateProps(N, { scale: z }, e) }i.add(N) } if (s)s.setItemGraphicEl(r, i); else { u = e.getRegionModel(t.name); a.eventData = { componentType: 'geo', componentIndex: e.componentIndex, geoIndex: e.componentIndex, name: t.name, region: u && u.option || {} } } var B = i.__regions || (i.__regions = []); B.push(t), i.highDownSilentOnTouch = !!e.get('selectedMode'), l.setHoverStyle(i, v), h.add(i) }), this._updateController(e, t, i), p(this, e, h, i, a), g(e, h) }, remove: function () { this._regionsGroup.removeAll(), this._backgroundGroup.removeAll(), this._controller.dispose(), this._mapName && u.removeGraphic(this._mapName, this.uid), this._mapName = null, this._controllerHost = {} }, _updateBackground: function (e) { var t = e.map; this._mapName !== t && n.each(u.makeGraphic(t, this.uid), function (e) { this._backgroundGroup.add(e) }, this), this._mapName = t }, _updateController: function (e, t, i) { var a = e.coordinateSystem; var o = this._controller; var l = this._controllerHost; l.zoomLimit = e.get('scaleLimit'), l.zoom = a.getZoom(), o.enable(e.get('roam') || !1); var u = e.mainType; function c () { var t = { type: 'geoRoam', componentType: u }; return t[u + 'Id'] = e.id, t }o.off('pan').on('pan', function (e) { this._mouseDownFlag = !1, r.updateViewOnPan(l, e.dx, e.dy), i.dispatchAction(n.extend(c(), { dx: e.dx, dy: e.dy })) }, this), o.off('zoom').on('zoom', function (e) { if (this._mouseDownFlag = !1, r.updateViewOnZoom(l, e.scale, e.originX, e.originY), i.dispatchAction(n.extend(c(), { zoom: e.scale, originX: e.originX, originY: e.originY })), this._updateGroup) { var t = this.group.scale; this._regionsGroup.traverse(function (e) { e.type === 'text' && e.attr('scale', [1 / t[0], 1 / t[1]]) }) } }, this), o.setPointerChecker(function (t, n, r) { return a.getViewRectAfterRoam().contain(n, r) && !s(t, i, e) }) } }; var v = m; e.exports = v }, '0cde': function (e, t, i) { var n = i('1687'); var a = i('401b'); var r = n.identity; var o = 5e-5; function s (e) { return e > o || e < -o } var l = function (e) { e = e || {}, e.position || (this.position = [0, 0]), e.rotation == null && (this.rotation = 0), e.scale || (this.scale = [1, 1]), this.origin = this.origin || null }; var u = l.prototype; u.transform = null, u.needLocalTransform = function () { return s(this.rotation) || s(this.position[0]) || s(this.position[1]) || s(this.scale[0] - 1) || s(this.scale[1] - 1) }; var c = []; u.updateTransform = function () { var e = this.parent; var t = e && e.transform; var i = this.needLocalTransform(); var a = this.transform; if (i || t) { a = a || n.create(), i ? this.getLocalTransform(a) : r(a), t && (i ? n.mul(a, e.transform, a) : n.copy(a, e.transform)), this.transform = a; var o = this.globalScaleRatio; if (o != null && o !== 1) { this.getGlobalScale(c); var s = c[0] < 0 ? -1 : 1; var l = c[1] < 0 ? -1 : 1; var u = ((c[0] - s) * o + s) / c[0] || 0; var h = ((c[1] - l) * o + l) / c[1] || 0; a[0] *= u, a[1] *= u, a[2] *= h, a[3] *= h } this.invTransform = this.invTransform || n.create(), n.invert(this.invTransform, a) } else a && r(a) }, u.getLocalTransform = function (e) { return l.getLocalTransform(this, e) }, u.setTransform = function (e) { var t = this.transform; var i = e.dpr || 1; t ? e.setTransform(i * t[0], i * t[1], i * t[2], i * t[3], i * t[4], i * t[5]) : e.setTransform(i, 0, 0, i, 0, 0) }, u.restoreTransform = function (e) { var t = e.dpr || 1; e.setTransform(t, 0, 0, t, 0, 0) }; var h = []; var d = n.create(); u.setLocalTransform = function (e) { if (e) { var t = e[0] * e[0] + e[1] * e[1]; var i = e[2] * e[2] + e[3] * e[3]; var n = this.position; var a = this.scale; s(t - 1) && (t = Math.sqrt(t)), s(i - 1) && (i = Math.sqrt(i)), e[0] < 0 && (t = -t), e[3] < 0 && (i = -i), n[0] = e[4], n[1] = e[5], a[0] = t, a[1] = i, this.rotation = Math.atan2(-e[1] / i, e[0] / t) } }, u.decomposeTransform = function () { if (this.transform) { var e = this.parent; var t = this.transform; e && e.transform && (n.mul(h, e.invTransform, t), t = h); var i = this.origin; i && (i[0] || i[1]) && (d[4] = i[0], d[5] = i[1], n.mul(h, t, d), h[4] -= i[0], h[5] -= i[1], t = h), this.setLocalTransform(t) } }, u.getGlobalScale = function (e) { var t = this.transform; return e = e || [], t ? (e[0] = Math.sqrt(t[0] * t[0] + t[1] * t[1]), e[1] = Math.sqrt(t[2] * t[2] + t[3] * t[3]), t[0] < 0 && (e[0] = -e[0]), t[3] < 0 && (e[1] = -e[1]), e) : (e[0] = 1, e[1] = 1, e) }, u.transformCoordToLocal = function (e, t) { var i = [e, t]; var n = this.invTransform; return n && a.applyTransform(i, i, n), i }, u.transformCoordToGlobal = function (e, t) { var i = [e, t]; var n = this.transform; return n && a.applyTransform(i, i, n), i }, l.getLocalTransform = function (e, t) { t = t || [], r(t); var i = e.origin; var a = e.scale || [1, 1]; var o = e.rotation || 0; var s = e.position || [0, 0]; return i && (t[4] -= i[0], t[5] -= i[1]), n.scale(t, t, a), o && n.rotate(t, t, o), i && (t[4] += i[0], t[5] += i[1]), t[4] += s[0], t[5] += s[1], t }; var f = l; e.exports = f }, '0da8': function (e, t, i) { var n = i('19eb'); var a = i('9850'); var r = i('6d8b'); var o = i('5e76'); function s (e) { n.call(this, e) }s.prototype = { constructor: s, type: 'image', brush: function (e, t) { var i = this.style; var n = i.image; i.bind(e, this, t); var a = this._image = o.createOrUpdateImage(n, this._image, this, this.onload); if (a && o.isImageReady(a)) { var r = i.x || 0; var s = i.y || 0; var l = i.width; var u = i.height; var c = a.width / a.height; if (l == null && u != null ? l = u * c : u == null && l != null ? u = l / c : l == null && u == null && (l = a.width, u = a.height), this.setTransform(e), i.sWidth && i.sHeight) { var h = i.sx || 0; var d = i.sy || 0; e.drawImage(a, h, d, i.sWidth, i.sHeight, r, s, l, u) } else if (i.sx && i.sy) { h = i.sx, d = i.sy; var f = l - h; var p = u - d; e.drawImage(a, h, d, f, p, r, s, l, u) } else e.drawImage(a, r, s, l, u); i.text != null && (this.restoreTransform(e), this.drawRectText(e, this.getBoundingRect())) } }, getBoundingRect: function () { var e = this.style; return this._rect || (this._rect = new a(e.x || 0, e.y || 0, e.width || 0, e.height || 0)), this._rect } }, r.inherits(s, n); var l = s; e.exports = l }, '0e0f': function (e, t, i) { var n = i('5f14'); var a = i('6d8b'); function r (e, t) { e.eachSeriesByType('sankey', function (e) { var t = e.getGraph(); var i = t.nodes; if (i.length) { var r = 1 / 0; var o = -1 / 0; a.each(i, function (e) { var t = e.getLayout().value; t < r && (r = t), t > o && (o = t) }), a.each(i, function (t) { var i = new n({ type: 'color', mappingMethod: 'linear', dataExtent: [r, o], visual: e.get('color') }); var a = i.mapValueToVisual(t.getLayout().value); var s = t.getModel().get('itemStyle.color'); s != null ? t.setVisual('color', s) : t.setVisual('color', a) }) } }) }e.exports = r }, '0ee7': function (e, t, i) { var n = i('6d8b'); var a = i('2306'); var r = i('f934'); var o = i('5e97'); var s = a.Group; var l = ['width', 'height']; var u = ['x', 'y']; var c = o.extend({ type: 'legend.scroll', newlineDisabled: !0, init: function () { c.superCall(this, 'init'), this._currentIndex = 0, this.group.add(this._containerGroup = new s()), this._containerGroup.add(this.getContentGroup()), this.group.add(this._controllerGroup = new s()), this._showController }, resetInner: function () { c.superCall(this, 'resetInner'), this._controllerGroup.removeAll(), this._containerGroup.removeClipPath(), this._containerGroup.__rectSize = null }, renderInner: function (e, t, i, r, o, s, l) { var u = this; c.superCall(this, 'renderInner', e, t, i, r, o, s, l); var h = this._controllerGroup; var d = t.get('pageIconSize', !0); n.isArray(d) || (d = [d, d]), p('pagePrev', 0); var f = t.getModel('pageTextStyle'); function p (e, i) { var o = e + 'DataIndex'; var s = a.createIcon(t.get('pageIcons', !0)[t.getOrient().name][i], { onclick: n.bind(u._pageGo, u, o, t, r) }, { x: -d[0] / 2, y: -d[1] / 2, width: d[0], height: d[1] }); s.name = e, h.add(s) }h.add(new a.Text({ name: 'pageText', style: { textFill: f.getTextColor(), font: f.getFont(), textVerticalAlign: 'middle', textAlign: 'center' }, silent: !0 })), p('pageNext', 1) }, layoutInner: function (e, t, i, a, o, s) { var c = this.getSelectorGroup(); var h = e.getOrient().index; var d = l[h]; var f = u[h]; var p = l[1 - h]; var g = u[1 - h]; o && r.box('horizontal', c, e.get('selectorItemGap', !0)); var m = e.get('selectorButtonGap', !0); var v = c.getBoundingRect(); var y = [-v.x, -v.y]; var x = n.clone(i); o && (x[d] = i[d] - v[d] - m); var _ = this._layoutContentAndController(e, a, x, h, d, p, g); if (o) { if (s === 'end')y[h] += _[d] + m; else { var b = v[d] + m; y[h] -= b, _[f] -= b }_[d] += v[d] + m, y[1 - h] += _[g] + _[p] / 2 - v[p] / 2, _[p] = Math.max(_[p], v[p]), _[g] = Math.min(_[g], v[g] + y[1 - h]), c.attr('position', y) } return _ }, _layoutContentAndController: function (e, t, i, o, s, l, u) { var c = this.getContentGroup(); var h = this._containerGroup; var d = this._controllerGroup; r.box(e.get('orient'), c, e.get('itemGap'), o ? i.width : null, o ? null : i.height), r.box('horizontal', d, e.get('pageButtonItemGap', !0)); var f = c.getBoundingRect(); var p = d.getBoundingRect(); var g = this._showController = f[s] > i[s]; var m = [-f.x, -f.y]; t || (m[o] = c.position[o]); var v = [0, 0]; var y = [-p.x, -p.y]; var x = n.retrieve2(e.get('pageButtonGap', !0), e.get('itemGap', !0)); if (g) { var _ = e.get('pageButtonPosition', !0); _ === 'end' ? y[o] += i[s] - p[s] : v[o] += p[s] + x }y[1 - o] += f[l] / 2 - p[l] / 2, c.attr('position', m), h.attr('position', v), d.attr('position', y); var b = { x: 0, y: 0 }; if (b[s] = g ? i[s] : f[s], b[l] = Math.max(f[l], p[l]), b[u] = Math.min(0, p[u] + y[1 - o]), h.__rectSize = i[s], g) { var w = { x: 0, y: 0 }; w[s] = Math.max(i[s] - p[s] - x, 0), w[l] = b[l], h.setClipPath(new a.Rect({ shape: w })), h.__rectSize = w[s] } else d.eachChild(function (e) { e.attr({ invisible: !0, silent: !0 }) }); var S = this._getPageInfo(e); return S.pageIndex != null && a.updateProps(c, { position: S.contentPosition }, !!g && e), this._updatePageInfoView(e, S), b }, _pageGo: function (e, t, i) { var n = this._getPageInfo(t)[e]; n != null && i.dispatchAction({ type: 'legendScroll', scrollDataIndex: n, legendId: t.id }) }, _updatePageInfoView: function (e, t) { var i = this._controllerGroup; n.each(['pagePrev', 'pageNext'], function (n) { var a = t[n + 'DataIndex'] != null; var r = i.childOfName(n); r && (r.setStyle('fill', a ? e.get('pageIconColor', !0) : e.get('pageIconInactiveColor', !0)), r.cursor = a ? 'pointer' : 'default') }); var a = i.childOfName('pageText'); var r = e.get('pageFormatter'); var o = t.pageIndex; var s = o != null ? o + 1 : 0; var l = t.pageCount; a && r && a.setStyle('text', n.isString(r) ? r.replace('{current}', s).replace('{total}', l) : r({ current: s, total: l })) }, _getPageInfo: function (e) { var t = e.get('scrollDataIndex', !0); var i = this.getContentGroup(); var n = this._containerGroup.__rectSize; var a = e.getOrient().index; var r = l[a]; var o = u[a]; var s = this._findTargetItemIndex(t); var c = i.children(); var h = c[s]; var d = c.length; var f = d ? 1 : 0; var p = { contentPosition: i.position.slice(), pageCount: f, pageIndex: f - 1, pagePrevDataIndex: null, pageNextDataIndex: null }; if (!h) return p; var g = _(h); p.contentPosition[a] = -g.s; for (var m = s + 1, v = g, y = g, x = null; m <= d; ++m)x = _(c[m]), (!x && y.e > v.s + n || x && !b(x, v.s)) && (v = y.i > v.i ? y : x, v && (p.pageNextDataIndex == null && (p.pageNextDataIndex = v.i), ++p.pageCount)), y = x; for (m = s - 1, v = g, y = g, x = null; m >= -1; --m)x = _(c[m]), x && b(y, x.s) || !(v.i < y.i) || (y = v, p.pagePrevDataIndex == null && (p.pagePrevDataIndex = v.i), ++p.pageCount, ++p.pageIndex), v = x; return p; function _ (e) { if (e) { var t = e.getBoundingRect(); var i = t[o] + e.position[a]; return { s: i, e: i + t[r], i: e.__legendDataIndex } } } function b (e, t) { return e.e >= t && e.s <= t + n } }, _findTargetItemIndex: function (e) { if (!this._showController) return 0; var t; var i; var n = this.getContentGroup(); return n.eachChild(function (n, a) { var r = n.__legendDataIndex; i == null && r != null && (i = a), r === e && (t = a) }), t != null ? t : i } }); var h = c; e.exports = h }, '0f55': function (e, t, i) { var n = i('6d8b'); var a = i('84ce'); var r = function (e, t, i, n, r) { a.call(this, e, t, i), this.type = n || 'value', this.axisIndex = r }; r.prototype = { constructor: r, model: null, isHorizontal: function () { return this.coordinateSystem.getModel().get('layout') !== 'horizontal' } }, n.inherits(r, a); var o = r; e.exports = o }, '0f99': function (e, t, i) { var n = i('4e08'); var a = (n.__DEV__, i('e0d3')); var r = a.makeInner; var o = a.getDataItemValue; var s = i('6d8b'); var l = s.createHashMap; var u = s.each; var c = s.map; var h = s.isArray; var d = s.isString; var f = s.isObject; var p = s.isTypedArray; var g = s.isArrayLike; var m = s.extend; var v = (s.assert, i('ec6f')); var y = i('93d0'); var x = y.SOURCE_FORMAT_ORIGINAL; var _ = y.SOURCE_FORMAT_ARRAY_ROWS; var b = y.SOURCE_FORMAT_OBJECT_ROWS; var w = y.SOURCE_FORMAT_KEYED_COLUMNS; var S = y.SOURCE_FORMAT_UNKNOWN; var M = y.SOURCE_FORMAT_TYPED_ARRAY; var I = y.SERIES_LAYOUT_BY_ROW; var A = { Must: 1, Might: 2, Not: 3 }; var T = r(); function C (e) { var t = e.option.source; var i = S; if (p(t))i = M; else if (h(t)) { t.length === 0 && (i = _); for (var n = 0, a = t.length; n < a; n++) { var r = t[n]; if (r != null) { if (h(r)) { i = _; break } if (f(r)) { i = b; break } } } } else if (f(t)) { for (var o in t) if (t.hasOwnProperty(o) && g(t[o])) { i = w; break } } else if (t != null) throw new Error('Invalid data'); T(e).sourceFormat = i } function D (e) { return T(e).source } function L (e) { T(e).datasetMap = l() } function P (e) { var t = e.option; var i = t.data; var n = p(i) ? M : x; var a = !1; var r = t.seriesLayoutBy; var o = t.sourceHeader; var s = t.dimensions; var l = B(e); if (l) { var u = l.option; i = u.source, n = T(l).sourceFormat, a = !0, r = r || u.seriesLayoutBy, o == null && (o = u.sourceHeader), s = s || u.dimensions } var c = k(i, n, r, o, s); T(e).source = new v({ data: i, fromDataset: a, seriesLayoutBy: r, sourceFormat: n, dimensionsDefine: c.dimensionsDefine, startIndex: c.startIndex, dimensionsDetectCount: c.dimensionsDetectCount, encodeDefine: t.encode }) } function k (e, t, i, n, a) { if (!e) return { dimensionsDefine: O(a) }; var r, s; if (t === _)n === 'auto' || n == null ? R(function (e) { e != null && e !== '-' && (d(e) ? s == null && (s = 1) : s = 0) }, i, e, 10) : s = n ? 1 : 0, a || s !== 1 || (a = [], R(function (e, t) { a[t] = e != null ? e : '' }, i, e)), r = a ? a.length : i === I ? e.length : e[0] ? e[0].length : null; else if (t === b)a || (a = E(e)); else if (t === w)a || (a = [], u(e, function (e, t) { a.push(t) })); else if (t === x) { var l = o(e[0]); r = h(l) && l.length || 1 } return { startIndex: s, dimensionsDefine: O(a), dimensionsDetectCount: r } } function O (e) { if (e) { var t = l(); return c(e, function (e, i) { if (e = m({}, f(e) ? e : { name: e }), e.name == null) return e; e.name += '', e.displayName == null && (e.displayName = e.name); var n = t.get(e.name); return n ? e.name += '-' + n.count++ : t.set(e.name, { count: 1 }), e }) } } function R (e, t, i, n) { if (n == null && (n = 1 / 0), t === I) for (var a = 0; a < i.length && a < n; a++)e(i[a] ? i[a][0] : null, a); else { var r = i[0] || []; for (a = 0; a < r.length && a < n; a++)e(r[a], a) } } function E (e) { var t; var i = 0; while (i < e.length && !(t = e[i++]));if (t) { var n = []; return u(t, function (e, t) { n.push(t) }), n } } function N (e, t, i) { var n = {}; var a = B(t); if (!a || !e) return n; var r; var o; var s = []; var l = []; var c = t.ecModel; var h = T(c).datasetMap; var d = a.uid + '_' + i.seriesLayoutBy; e = e.slice(), u(e, function (t, i) { !f(t) && (e[i] = { name: t }), t.type === 'ordinal' && r == null && (r = i, o = m(e[i])), n[t.name] = [] }); var p = h.get(d) || h.set(d, { categoryWayDim: o, valueWayDim: 0 }); function g (e, t, i) { for (var n = 0; n < i; n++)e.push(t + n) } function m (e) { var t = e.dimsDef; return t ? t.length : 1 } return u(e, function (e, t) { var i = e.name; var a = m(e); if (r == null) { var o = p.valueWayDim; g(n[i], o, a), g(l, o, a), p.valueWayDim += a } else if (r === t)g(n[i], 0, a), g(s, 0, a); else { o = p.categoryWayDim; g(n[i], o, a), g(l, o, a), p.categoryWayDim += a } }), s.length && (n.itemName = s), l.length && (n.seriesName = l), n } function z (e, t, i) { var n = {}; var a = B(e); if (!a) return n; var r; var o = t.sourceFormat; var s = t.dimensionsDefine; o !== b && o !== w || u(s, function (e, t) { (f(e) ? e.name : e) === 'name' && (r = t) }); var l = (function () { for (var e = {}, n = {}, a = [], l = 0, u = Math.min(5, i); l < u; l++) { var c = G(t.data, o, t.seriesLayoutBy, s, t.startIndex, l); a.push(c); var h = c === A.Not; if (h && e.v == null && l !== r && (e.v = l), (e.n == null || e.n === e.v || !h && a[e.n] === A.Not) && (e.n = l), d(e) && a[e.n] !== A.Not) return e; h || (c === A.Might && n.v == null && l !== r && (n.v = l), n.n != null && n.n !== n.v || (n.n = l)) } function d (e) { return e.v != null && e.n != null } return d(e) ? e : d(n) ? n : null }()); if (l) { n.value = l.v; var c = r != null ? r : l.n; n.itemName = [c], n.seriesName = [c] } return n } function B (e) { var t = e.option; var i = t.data; if (!i) return e.ecModel.getComponent('dataset', t.datasetIndex || 0) } function V (e, t) { return G(e.data, e.sourceFormat, e.seriesLayoutBy, e.dimensionsDefine, e.startIndex, t) } function G (e, t, i, n, a, r) { var s; var l; var u; var c = 5; if (p(e)) return A.Not; if (n) { var g = n[r]; f(g) ? (l = g.name, u = g.type) : d(g) && (l = g) } if (u != null) return u === 'ordinal' ? A.Must : A.Not; if (t === _) if (i === I) { for (var m = e[r], v = 0; v < (m || []).length && v < c; v++) if ((s = T(m[a + v])) != null) return s } else for (v = 0; v < e.length && v < c; v++) { var y = e[a + v]; if (y && (s = T(y[r])) != null) return s } else if (t === b) { if (!l) return A.Not; for (v = 0; v < e.length && v < c; v++) { var S = e[v]; if (S && (s = T(S[l])) != null) return s } } else if (t === w) { if (!l) return A.Not; m = e[l]; if (!m || p(m)) return A.Not; for (v = 0; v < m.length && v < c; v++) if ((s = T(m[v])) != null) return s } else if (t === x) for (v = 0; v < e.length && v < c; v++) { S = e[v]; var M = o(S); if (!h(M)) return A.Not; if ((s = T(M[r])) != null) return s } function T (e) { var t = d(e); return e != null && isFinite(e) && e !== '' ? t ? A.Might : A.Not : t && e !== '-' ? A.Must : void 0 } return A.Not }t.BE_ORDINAL = A, t.detectSourceFormat = C, t.getSource = D, t.resetSourceDefaulter = L, t.prepareSource = P, t.makeSeriesEncodeForAxisCoordSys = N, t.makeSeriesEncodeForNameBased = z, t.guessOrdinal = V }, '0fd3': function (e, t, i) { var n = i('2306'); var a = i('7e5b'); var r = i('6d8b'); var o = i('a15a'); var s = o.createSymbol; var l = i('401b'); var u = i('4a3f'); function c (e, t, i) { n.Group.call(this), this.add(this.createLine(e, t, i)), this._updateEffectSymbol(e, t) } var h = c.prototype; h.createLine = function (e, t, i) { return new a(e, t, i) }, h._updateEffectSymbol = function (e, t) { var i = e.getItemModel(t); var n = i.getModel('effect'); var a = n.get('symbolSize'); var o = n.get('symbol'); r.isArray(a) || (a = [a, a]); var l = n.get('color') || e.getItemVisual(t, 'color'); var u = this.childAt(1); this._symbolType !== o && (this.remove(u), u = s(o, -0.5, -0.5, 1, 1, l), u.z2 = 100, u.culling = !0, this.add(u)), u && (u.setStyle('shadowColor', l), u.setStyle(n.getItemStyle(['color'])), u.attr('scale', a), u.setColor(l), u.attr('scale', a), this._symbolType = o, this._symbolScale = a, this._updateEffectAnimation(e, n, t)) }, h._updateEffectAnimation = function (e, t, i) { var n = this.childAt(1); if (n) { var a = this; var o = e.getItemLayout(i); var s = 1e3 * t.get('period'); var l = t.get('loop'); var u = t.get('constantSpeed'); var c = r.retrieve(t.get('delay'), function (t) { return t / e.count() * s / 3 }); var h = typeof c === 'function'; if (n.ignore = !0, this.updateAnimationPoints(n, o), u > 0 && (s = this.getLineLength(n) / u * 1e3), s !== this._period || l !== this._loop) { n.stopAnimation(); var d = c; h && (d = c(i)), n.__t > 0 && (d = -s * n.__t), n.__t = 0; var f = n.animate('', l).when(s, { __t: 1 }).delay(d).during(function () { a.updateSymbolPosition(n) }); l || f.done(function () { a.remove(n) }), f.start() } this._period = s, this._loop = l } }, h.getLineLength = function (e) { return l.dist(e.__p1, e.__cp1) + l.dist(e.__cp1, e.__p2) }, h.updateAnimationPoints = function (e, t) { e.__p1 = t[0], e.__p2 = t[1], e.__cp1 = t[2] || [(t[0][0] + t[1][0]) / 2, (t[0][1] + t[1][1]) / 2] }, h.updateData = function (e, t, i) { this.childAt(0).updateData(e, t, i), this._updateEffectSymbol(e, t) }, h.updateSymbolPosition = function (e) { var t = e.__p1; var i = e.__p2; var n = e.__cp1; var a = e.__t; var r = e.position; var o = [r[0], r[1]]; var s = u.quadraticAt; var c = u.quadraticDerivativeAt; r[0] = s(t[0], n[0], i[0], a), r[1] = s(t[1], n[1], i[1], a); var h = c(t[0], n[0], i[0], a); var d = c(t[1], n[1], i[1], a); if (e.rotation = -Math.atan2(d, h) - Math.PI / 2, this._symbolType === 'line' || this._symbolType === 'rect' || this._symbolType === 'roundRect') if (void 0 !== e.__lastT && e.__lastT < e.__t) { var f = 1.05 * l.dist(o, r); e.attr('scale', [e.scale[0], f]), a === 1 && (r[0] = o[0] + (r[0] - o[0]) / 2, r[1] = o[1] + (r[1] - o[1]) / 2) } else if (e.__lastT === 1) { f = 2 * l.dist(t, r); e.attr('scale', [e.scale[0], f]) } else e.attr('scale', this._symbolScale); e.__lastT = e.__t, e.ignore = !1 }, h.updateLayout = function (e, t) { this.childAt(0).updateLayout(e, t); var i = e.getItemModel(t).getModel('effect'); this._updateEffectAnimation(e, i, t) }, r.inherits(c, n.Group); var d = c; e.exports = d }, '10cc': function (e, t, i) { var n = i('3eba'); var a = i('6d8b'); var r = i('9850'); var o = i('2b8c'); var s = i('a890'); var l = i('88b3'); var u = i('bd9e'); var c = ['inBrush', 'outOfBrush']; var h = '__ecBrushSelect'; var d = '__ecInBrushSelectEvent'; var f = n.PRIORITY.VISUAL.BRUSH; function p (e) { e.eachComponent({ mainType: 'brush' }, function (t) { var i = t.brushTargetManager = new u(t.option, e); i.setInputRanges(t.areas, e) }) } function g (e, t, i, n, a) { if (a) { var r = e.getZr(); if (!r[d]) { r[h] || (r[h] = m); var o = l.createOrUpdate(r, h, i, t); o(e, n) } } } function m (e, t) { if (!e.isDisposed()) { var i = e.getZr(); i[d] = !0, e.dispatchAction({ type: 'brushSelect', batch: t }), i[d] = !1 } } function v (e, t, i, n) { for (var a = 0, r = t.length; a < r; a++) { var o = t[a]; if (e[o.brushType](n, i, o.selectors, o)) return !0 } } function y (e) { var t = e.brushSelector; if (a.isString(t)) { var i = []; return a.each(s, function (e, n) { i[n] = function (i, n, a, r) { var o = n.getItemLayout(i); return e[t](o, a, r) } }), i } if (a.isFunction(t)) { var n = {}; return a.each(s, function (e, i) { n[i] = t }), n } return t } function x (e, t) { var i = e.option.seriesIndex; return i != null && i !== 'all' && (a.isArray(i) ? a.indexOf(i, t) < 0 : t !== i) } function _ (e) { var t = e.selectors = {}; return a.each(s[e.brushType], function (i, n) { t[n] = function (n) { return i(n, t, e) } }), e }n.registerLayout(f, function (e, t, i) { e.eachComponent({ mainType: 'brush' }, function (e) { i && i.type === 'takeGlobalCursor' && e.setBrushOption(i.key === 'brush' ? i.brushOption : { brushType: !1 }) }), p(e) }), n.registerVisual(f, function (e, t, i) { var n; var r; var s = []; e.eachComponent({ mainType: 'brush' }, function (t, i) { var l = { brushId: t.id, brushIndex: i, brushName: t.name, areas: a.clone(t.areas), selected: [] }; s.push(l); var u = t.option; var h = u.brushLink; var d = []; var f = []; var p = []; var g = 0; i || (n = u.throttleType, r = u.throttleDelay); var m = a.map(t.areas, function (e) { return _(a.defaults({ boundingRect: b[e.brushType](e) }, e)) }); var w = o.createVisualMappings(t.option, c, function (e) { e.mappingMethod = 'fixed' }); function S (e) { return h === 'all' || d[e] } function M (e) { return !!e.length } function I (e, t) { var i = e.coordinateSystem; g |= i.hasAxisBrushed(), S(t) && i.eachActiveState(e.getData(), function (e, t) { e === 'active' && (f[t] = 1) }) } function A (i, n, r) { var o = y(i); if (o && !x(t, n) && (a.each(m, function (n) { o[n.brushType] && t.brushTargetManager.controlSeries(n, i, e) && r.push(n), g |= M(r) }), S(n) && M(r))) { var s = i.getData(); s.each(function (e) { v(o, r, s, e) && (f[e] = 1) }) } }a.isArray(h) && a.each(h, function (e) { d[e] = 1 }), e.eachSeries(function (e, t) { var i = p[t] = []; e.subType === 'parallel' ? I(e, t, i) : A(e, t, i) }), e.eachSeries(function (e, t) { var i = { seriesId: e.id, seriesIndex: t, seriesName: e.name, dataIndex: [] }; l.selected.push(i); var n = y(e); var a = p[t]; var r = e.getData(); var s = S(t) ? function (e) { return f[e] ? (i.dataIndex.push(r.getRawIndex(e)), 'inBrush') : 'outOfBrush' } : function (e) { return v(n, a, r, e) ? (i.dataIndex.push(r.getRawIndex(e)), 'inBrush') : 'outOfBrush' }; (S(t) ? g : M(a)) && o.applyVisual(c, w, r, s) }) }), g(t, n, r, s, i) }); var b = { lineX: a.noop, lineY: a.noop, rect: function (e) { return w(e.range) }, polygon: function (e) { for (var t, i = e.range, n = 0, a = i.length; n < a; n++) { t = t || [[1 / 0, -1 / 0], [1 / 0, -1 / 0]]; var r = i[n]; r[0] < t[0][0] && (t[0][0] = r[0]), r[0] > t[0][1] && (t[0][1] = r[0]), r[1] < t[1][0] && (t[1][0] = r[1]), r[1] > t[1][1] && (t[1][1] = r[1]) } return t && w(t) } }; function w (e) { return new r(e[0][0], e[1][0], e[0][1] - e[0][0], e[1][1] - e[1][0]) }t.layoutCovers = p }, 1111: function (e, t, i) { var n = i('3eba'); i('67a8'), i('4784'); var a = i('7f96'); var r = i('87c3'); n.registerVisual(a('effectScatter', 'circle')), n.registerLayout(r('effectScatter')) }, '133d': function (e, t, i) { var n = i('6d8b'); var a = i('e0d3'); function r (e, t) { var i; var r = []; var o = e.seriesIndex; if (o == null || !(i = t.getSeriesByIndex(o))) return { point: [] }; var s = i.getData(); var l = a.queryDataIndex(s, e); if (l == null || l < 0 || n.isArray(l)) return { point: [] }; var u = s.getItemGraphicEl(l); var c = i.coordinateSystem; if (i.getTooltipPosition)r = i.getTooltipPosition(l) || []; else if (c && c.dataToPoint)r = c.dataToPoint(s.getValues(n.map(c.dimensions, function (e) { return s.mapDimension(e) }), l, !0)) || []; else if (u) { var h = u.getBoundingRect().clone(); h.applyTransform(u.transform), r = [h.x + h.width / 2, h.y + h.height / 2] } return { point: r, el: u } }e.exports = r }, 1418: function (e, t, i) { var n = i('6d8b'); var a = i('a15a'); var r = a.createSymbol; var o = i('2306'); var s = i('3842'); var l = s.parsePercent; var u = i('c775'); var c = u.getDefaultLabel; function h (e, t, i) { o.Group.call(this), this.updateData(e, t, i) } var d = h.prototype; var f = h.getSymbolSize = function (e, t) { var i = e.getItemVisual(t, 'symbolSize'); return i instanceof Array ? i.slice() : [+i, +i] }; function p (e) { return [e[0] / 2, e[1] / 2] } function g (e, t) { this.parent.drift(e, t) }d._createSymbol = function (e, t, i, n, a) { this.removeAll(); var o = t.getItemVisual(i, 'color'); var s = r(e, -1, -1, 2, 2, o, a); s.attr({ z2: 100, culling: !0, scale: p(n) }), s.drift = g, this._symbolType = e, this.add(s) }, d.stopSymbolAnimation = function (e) { this.childAt(0).stopAnimation(e) }, d.getSymbolPath = function () { return this.childAt(0) }, d.getScale = function () { return this.childAt(0).scale }, d.highlight = function () { this.childAt(0).trigger('emphasis') }, d.downplay = function () { this.childAt(0).trigger('normal') }, d.setZ = function (e, t) { var i = this.childAt(0); i.zlevel = e, i.z = t }, d.setDraggable = function (e) { var t = this.childAt(0); t.draggable = e, t.cursor = e ? 'move' : t.cursor }, d.updateData = function (e, t, i) { this.silent = !1; var n = e.getItemVisual(t, 'symbol') || 'circle'; var a = e.hostModel; var r = f(e, t); var s = n !== this._symbolType; if (s) { var l = e.getItemVisual(t, 'symbolKeepAspect'); this._createSymbol(n, e, t, r, l) } else { var u = this.childAt(0); u.silent = !1, o.updateProps(u, { scale: p(r) }, a, t) } if (this._updateCommon(e, t, r, i), s) { u = this.childAt(0); var c = i && i.fadeIn; var h = { scale: u.scale.slice() }; c && (h.style = { opacity: u.style.opacity }), u.scale = [0, 0], c && (u.style.opacity = 0), o.initProps(u, h, a, t) } this._seriesModel = a }; var m = ['itemStyle']; var v = ['emphasis', 'itemStyle']; var y = ['label']; var x = ['emphasis', 'label']; function _ (e, t) { if (!this.incremental && !this.useHoverLayer) if (t === 'emphasis') { var i = this.__symbolOriginalScale; var n = i[1] / i[0]; var a = { scale: [Math.max(1.1 * i[0], i[0] + 3), Math.max(1.1 * i[1], i[1] + 3 * n)] }; this.animateTo(a, 400, 'elasticOut') } else t === 'normal' && this.animateTo({ scale: this.__symbolOriginalScale }, 400, 'elasticOut') }d._updateCommon = function (e, t, i, a) { var r = this.childAt(0); var s = e.hostModel; var u = e.getItemVisual(t, 'color'); r.type !== 'image' ? r.useStyle({ strokeNoScale: !0 }) : r.setStyle({ opacity: 1, shadowBlur: null, shadowOffsetX: null, shadowOffsetY: null, shadowColor: null }); var h = a && a.itemStyle; var d = a && a.hoverItemStyle; var f = a && a.symbolOffset; var g = a && a.labelModel; var b = a && a.hoverLabelModel; var w = a && a.hoverAnimation; var S = a && a.cursorStyle; if (!a || e.hasItemOption) { var M = a && a.itemModel ? a.itemModel : e.getItemModel(t); h = M.getModel(m).getItemStyle(['color']), d = M.getModel(v).getItemStyle(), f = M.getShallow('symbolOffset'), g = M.getModel(y), b = M.getModel(x), w = M.getShallow('hoverAnimation'), S = M.getShallow('cursor') } else d = n.extend({}, d); var I = r.style; var A = e.getItemVisual(t, 'symbolRotate'); r.attr('rotation', (A || 0) * Math.PI / 180 || 0), f && r.attr('position', [l(f[0], i[0]), l(f[1], i[1])]), S && r.attr('cursor', S), r.setColor(u, a && a.symbolInnerColor), r.setStyle(h); var T = e.getItemVisual(t, 'opacity'); T != null && (I.opacity = T); var C = e.getItemVisual(t, 'liftZ'); var D = r.__z2Origin; C != null ? D == null && (r.__z2Origin = r.z2, r.z2 += C) : D != null && (r.z2 = D, r.__z2Origin = null); var L = a && a.useNameLabel; function P (t, i) { return L ? e.getName(t) : c(e, t) }o.setLabelStyle(I, d, g, b, { labelFetcher: s, labelDataIndex: t, defaultText: P, isRectText: !0, autoColor: u }), r.__symbolOriginalScale = p(i), r.hoverStyle = d, r.highDownOnUpdate = w && s.isAnimationEnabled() ? _ : null, o.setHoverStyle(r) }, d.fadeOut = function (e, t) { var i = this.childAt(0); this.silent = i.silent = !0, (!t || !t.keepLabel) && (i.style.text = null), o.updateProps(i, { style: { opacity: 0 }, scale: [0, 0] }, this._seriesModel, this.dataIndex, e) }, n.inherits(h, o.Group); var b = h; e.exports = b }, 1466: function (e, t, i) { var n = i('3eba'); var a = i('2306'); var r = i('6d8b'); var o = i('a15a'); function s (e) { return r.isArray(e) || (e = [+e, +e]), e } var l = n.extendChartView({ type: 'radar', render: function (e, t, i) { var n = e.coordinateSystem; var l = this.group; var u = e.getData(); var c = this._data; function h (e, t) { var i = e.getItemVisual(t, 'symbol') || 'circle'; var n = e.getItemVisual(t, 'color'); if (i !== 'none') { var a = s(e.getItemVisual(t, 'symbolSize')); var r = o.createSymbol(i, -1, -1, 2, 2, n); var l = e.getItemVisual(t, 'symbolRotate') || 0; return r.attr({ style: { strokeNoScale: !0 }, z2: 100, scale: [a[0] / 2, a[1] / 2], rotation: l * Math.PI / 180 || 0 }), r } } function d (t, i, n, r, o, s) { n.removeAll(); for (var l = 0; l < i.length - 1; l++) { var u = h(r, o); u && (u.__dimIdx = l, t[l] ? (u.attr('position', t[l]), a[s ? 'initProps' : 'updateProps'](u, { position: i[l] }, e, o)) : u.attr('position', i[l]), n.add(u)) } } function f (e) { return r.map(e, function (e) { return [n.cx, n.cy] }) }u.diff(c).add(function (t) { var i = u.getItemLayout(t); if (i) { var n = new a.Polygon(); var r = new a.Polyline(); var o = { shape: { points: i } }; n.shape.points = f(i), r.shape.points = f(i), a.initProps(n, o, e, t), a.initProps(r, o, e, t); var s = new a.Group(); var l = new a.Group(); s.add(r), s.add(n), s.add(l), d(r.shape.points, i, l, u, t, !0), u.setItemGraphicEl(t, s) } }).update(function (t, i) { var n = c.getItemGraphicEl(i); var r = n.childAt(0); var o = n.childAt(1); var s = n.childAt(2); var l = { shape: { points: u.getItemLayout(t) } }; l.shape.points && (d(r.shape.points, l.shape.points, s, u, t, !1), a.updateProps(r, l, e), a.updateProps(o, l, e), u.setItemGraphicEl(t, n)) }).remove(function (e) { l.remove(c.getItemGraphicEl(e)) }).execute(), u.eachItemGraphicEl(function (e, t) { var i = u.getItemModel(t); var n = e.childAt(0); var o = e.childAt(1); var s = e.childAt(2); var c = u.getItemVisual(t, 'color'); l.add(e), n.useStyle(r.defaults(i.getModel('lineStyle').getLineStyle(), { fill: 'none', stroke: c })), n.hoverStyle = i.getModel('emphasis.lineStyle').getLineStyle(); var h = i.getModel('areaStyle'); var d = i.getModel('emphasis.areaStyle'); var f = h.isEmpty() && h.parentModel.isEmpty(); var p = d.isEmpty() && d.parentModel.isEmpty(); p = p && f, o.ignore = f, o.useStyle(r.defaults(h.getAreaStyle(), { fill: c, opacity: 0.7 })), o.hoverStyle = d.getAreaStyle(); var g = i.getModel('itemStyle').getItemStyle(['color']); var m = i.getModel('emphasis.itemStyle').getItemStyle(); var v = i.getModel('label'); var y = i.getModel('emphasis.label'); s.eachChild(function (e) { e.setStyle(g), e.hoverStyle = r.clone(m); var i = u.get(u.dimensions[e.__dimIdx], t); (i == null || isNaN(i)) && (i = ''), a.setLabelStyle(e.style, e.hoverStyle, v, y, { labelFetcher: u.hostModel, labelDataIndex: t, labelDimIndex: e.__dimIdx, defaultText: i, autoColor: c, isRectText: !0 }) }), e.highDownOnUpdate = function (e, t) { o.attr('ignore', t === 'emphasis' ? p : f) }, a.setHoverStyle(e) }), this._data = u }, remove: function () { this.group.removeAll(), this._data = null }, dispose: function () {} }); e.exports = l }, '14c3': function (e, t, i) { var n = i('c6b6'); var a = i('9263'); e.exports = function (e, t) { var i = e.exec; if (typeof i === 'function') { var r = i.call(e, t); if (typeof r !== 'object') throw TypeError('RegExp exec method returned something other than an Object or null'); return r } if (n(e) !== 'RegExp') throw TypeError('RegExp#exec called on incompatible receiver'); return a.call(e, t) } }, '14d3': function (e, t, i) { var n = i('6d8b'); var a = i('2306'); var r = i('fab2'); var o = i('6679'); var s = ['axisLine', 'axisTickLabel', 'axisName']; var l = ['splitLine', 'splitArea', 'minorSplitLine']; var u = o.extend({ type: 'radiusAxis', axisPointerClass: 'PolarAxisPointer', render: function (e, t) { if (this.group.removeAll(), e.get('show')) { var i = e.axis; var a = i.polar; var o = a.getAngleAxis(); var u = i.getTicksCoords(); var h = i.getMinorTicksCoords(); var d = o.getExtent()[0]; var f = i.getExtent(); var p = c(a, e, d); var g = new r(e, p); n.each(s, g.add, g), this.group.add(g.getGroup()), n.each(l, function (t) { e.get(t + '.show') && !i.scale.isBlank() && this['_' + t](e, a, d, f, u, h) }, this) } }, _splitLine: function (e, t, i, r, o) { var s = e.getModel('splitLine'); var l = s.getModel('lineStyle'); var u = l.get('color'); var c = 0; u = u instanceof Array ? u : [u]; for (var h = [], d = 0; d < o.length; d++) { var f = c++ % u.length; h[f] = h[f] || [], h[f].push(new a.Circle({ shape: { cx: t.cx, cy: t.cy, r: o[d].coord } })) } for (d = 0; d < h.length; d++) this.group.add(a.mergePath(h[d], { style: n.defaults({ stroke: u[d % u.length], fill: null }, l.getLineStyle()), silent: !0 })) }, _minorSplitLine: function (e, t, i, r, o, s) { if (s.length) { for (var l = e.getModel('minorSplitLine'), u = l.getModel('lineStyle'), c = [], h = 0; h < s.length; h++) for (var d = 0; d < s[h].length; d++)c.push(new a.Circle({ shape: { cx: t.cx, cy: t.cy, r: s[h][d].coord } })); this.group.add(a.mergePath(c, { style: n.defaults({ fill: null }, u.getLineStyle()), silent: !0 })) } }, _splitArea: function (e, t, i, r, o) { if (o.length) { var s = e.getModel('splitArea'); var l = s.getModel('areaStyle'); var u = l.get('color'); var c = 0; u = u instanceof Array ? u : [u]; for (var h = [], d = o[0].coord, f = 1; f < o.length; f++) { var p = c++ % u.length; h[p] = h[p] || [], h[p].push(new a.Sector({ shape: { cx: t.cx, cy: t.cy, r0: d, r: o[f].coord, startAngle: 0, endAngle: 2 * Math.PI }, silent: !0 })), d = o[f].coord } for (f = 0; f < h.length; f++) this.group.add(a.mergePath(h[f], { style: n.defaults({ fill: u[f % u.length] }, l.getAreaStyle()), silent: !0 })) } } }); function c (e, t, i) { return { position: [e.cx, e.cy], rotation: i / 180 * Math.PI, labelDirection: -1, tickDirection: -1, nameDirection: 1, labelRotate: t.getModel('axisLabel').get('rotate'), z2: 1 } }e.exports = u }, 1548: function (e, t, i) { var n = i('6d8b'); var a = i('3301'); var r = i('697e'); var o = i('2023'); var s = i('4319'); var l = i('f934'); l.getLayoutRect; t.getLayoutRect = l.getLayoutRect; var u = i('ee1a'); var c = u.enableDataStack; var h = u.isDimensionStacked; var d = u.getStackedDimension; var f = i('862d'); t.completeDimensions = f; var p = i('b1d4'); t.createDimensions = p; var g = i('a15a'); function m (e) { return a(e.getSource(), e) }t.createSymbol = g.createSymbol; var v = { isDimensionStacked: h, enableDataStack: c, getStackedDimension: d }; function y (e, t) { var i = t; s.isInstance(t) || (i = new s(t), n.mixin(i, o)); var a = r.createScaleByModel(i); return a.setExtent(e[0], e[1]), r.niceScaleExtent(a, i), a } function x (e) { n.mixin(e, o) }t.createList = m, t.dataStack = v, t.createScale = y, t.mixinAxisModelCommonMethods = x }, '15af': function (e, t, i) { var n = i('3eba'); i('cb69'), i('abff'); var a = i('7f96'); var r = i('87c3'); i('01ed'), n.registerVisual(a('scatter', 'circle')), n.registerLayout(r('scatter')) }, 1687: function (e, t) { var i = typeof Float32Array === 'undefined' ? Array : Float32Array; function n () { var e = new i(6); return a(e), e } function a (e) { return e[0] = 1, e[1] = 0, e[2] = 0, e[3] = 1, e[4] = 0, e[5] = 0, e } function r (e, t) { return e[0] = t[0], e[1] = t[1], e[2] = t[2], e[3] = t[3], e[4] = t[4], e[5] = t[5], e } function o (e, t, i) { var n = t[0] * i[0] + t[2] * i[1]; var a = t[1] * i[0] + t[3] * i[1]; var r = t[0] * i[2] + t[2] * i[3]; var o = t[1] * i[2] + t[3] * i[3]; var s = t[0] * i[4] + t[2] * i[5] + t[4]; var l = t[1] * i[4] + t[3] * i[5] + t[5]; return e[0] = n, e[1] = a, e[2] = r, e[3] = o, e[4] = s, e[5] = l, e } function s (e, t, i) { return e[0] = t[0], e[1] = t[1], e[2] = t[2], e[3] = t[3], e[4] = t[4] + i[0], e[5] = t[5] + i[1], e } function l (e, t, i) { var n = t[0]; var a = t[2]; var r = t[4]; var o = t[1]; var s = t[3]; var l = t[5]; var u = Math.sin(i); var c = Math.cos(i); return e[0] = n * c + o * u, e[1] = -n * u + o * c, e[2] = a * c + s * u, e[3] = -a * u + c * s, e[4] = c * r + u * l, e[5] = c * l - u * r, e } function u (e, t, i) { var n = i[0]; var a = i[1]; return e[0] = t[0] * n, e[1] = t[1] * a, e[2] = t[2] * n, e[3] = t[3] * a, e[4] = t[4] * n, e[5] = t[5] * a, e } function c (e, t) { var i = t[0]; var n = t[2]; var a = t[4]; var r = t[1]; var o = t[3]; var s = t[5]; var l = i * o - r * n; return l ? (l = 1 / l, e[0] = o * l, e[1] = -r * l, e[2] = -n * l, e[3] = i * l, e[4] = (n * s - o * a) * l, e[5] = (r * a - i * s) * l, e) : null } function h (e) { var t = n(); return r(t, e), t }t.create = n, t.identity = a, t.copy = r, t.mul = o, t.translate = s, t.rotate = l, t.scale = u, t.invert = c, t.clone = h }, 1748: function (e, t, i) { var n = i('3eba'); var a = i('6d8b'); var r = i('71ad'); var o = i('4319'); var s = i('2023'); var l = r.valueAxis; function u (e, t) { return a.defaults({ show: t }, e) } var c = n.extendComponentModel({ type: 'radar', optionUpdated: function () { var e = this.get('boundaryGap'); var t = this.get('splitNumber'); var i = this.get('scale'); var n = this.get('axisLine'); var r = this.get('axisTick'); var l = this.get('axisType'); var u = this.get('axisLabel'); var c = this.get('name'); var h = this.get('name.show'); var d = this.get('name.formatter'); var f = this.get('nameGap'); var p = this.get('triggerEvent'); var g = a.map(this.get('indicator') || [], function (g) { g.max != null && g.max > 0 && !g.min ? g.min = 0 : g.min != null && g.min < 0 && !g.max && (g.max = 0); var m = c; if (g.color != null && (m = a.defaults({ color: g.color }, c)), g = a.merge(a.clone(g), { boundaryGap: e, splitNumber: t, scale: i, axisLine: n, axisTick: r, axisType: l, axisLabel: u, name: g.text, nameLocation: 'end', nameGap: f, nameTextStyle: m, triggerEvent: p }, !1), h || (g.name = ''), typeof d === 'string') { var v = g.name; g.name = d.replace('{value}', v != null ? v : '') } else typeof d === 'function' && (g.name = d(g.name, g)); var y = a.extend(new o(g, null, this.ecModel), s); return y.mainType = 'radar', y.componentIndex = this.componentIndex, y }, this); this.getIndicatorModels = function () { return g } }, defaultOption: { zlevel: 0, z: 0, center: ['50%', '50%'], radius: '75%', startAngle: 90, name: { show: !0 }, boundaryGap: [0, 0], splitNumber: 5, nameGap: 15, scale: !1, shape: 'polygon', axisLine: a.merge({ lineStyle: { color: '#bbb' } }, l.axisLine), axisLabel: u(l.axisLabel, !1), axisTick: u(l.axisTick, !1), axisType: 'interval', splitLine: u(l.splitLine, !0), splitArea: u(l.splitArea, !0), indicator: [] } }); var h = c; e.exports = h }, 1792: function (e, t) { var i = { 南海诸岛: [32, 80], 广东: [0, -10], 香港: [10, 5], 澳门: [-10, 10], 天津: [5, 5] }; function n (e, t) { if (e === 'china') { var n = i[t.name]; if (n) { var a = t.center; a[0] += n[0] / 10.5, a[1] += -n[1] / 14 } } }e.exports = n }, '17b8': function (e, t, i) { var n = i('3014'); var a = n.extend({ type: 'series.bar', dependencies: ['grid', 'polar'], brushSelector: 'rect', getProgressive: function () { return !!this.get('large') && this.get('progressive') }, getProgressiveThreshold: function () { var e = this.get('progressiveThreshold'); var t = this.get('largeThreshold'); return t > e && (e = t), e }, defaultOption: { clip: !0, roundCap: !1, showBackground: !1, backgroundStyle: { color: 'rgba(180, 180, 180, 0.2)', borderColor: null, borderWidth: 0, borderType: 'solid', borderRadius: 0, shadowBlur: 0, shadowColor: null, shadowOffsetX: 0, shadowOffsetY: 0, opacity: 1 } } }); e.exports = a }, '17d6': function (e, t, i) { var n = i('6d8b'); var a = i('22d1'); var r = i('e0d3'); var o = r.makeInner; var s = o(); var l = n.each; function u (e, t, i) { if (!a.node) { var n = t.getZr(); s(n).records || (s(n).records = {}), c(n, t); var r = s(n).records[e] || (s(n).records[e] = {}); r.handler = i } } function c (e, t) { function i (i, n) { e.on(i, function (i) { var a = p(t); l(s(e).records, function (e) { e && n(e, i, a.dispatchAction) }), h(a.pendings, t) }) }s(e).initialized || (s(e).initialized = !0, i('click', n.curry(f, 'click')), i('mousemove', n.curry(f, 'mousemove')), i('globalout', d)) } function h (e, t) { var i; var n = e.showTip.length; var a = e.hideTip.length; n ? i = e.showTip[n - 1] : a && (i = e.hideTip[a - 1]), i && (i.dispatchAction = null, t.dispatchAction(i)) } function d (e, t, i) { e.handler('leave', null, i) } function f (e, t, i, n) { t.handler(e, i, n) } function p (e) { var t = { showTip: [], hideTip: [] }; var i = function (n) { var a = t[n.type]; a ? a.push(n) : (n.dispatchAction = i, e.dispatchAction(n)) }; return { dispatchAction: i, pendings: t } } function g (e, t) { if (!a.node) { var i = t.getZr(); var n = (s(i).records || {})[e]; n && (s(i).records[e] = null) } }t.register = u, t.unregister = g }, '18c0': function (e, t, i) { var n = i('6d8b'); var a = i('e0d8'); var r = i('8e43'); var o = a.prototype; var s = a.extend({ type: 'ordinal', init: function (e, t) { e && !n.isArray(e) || (e = new r({ categories: e })), this._ordinalMeta = e, this._extent = t || [0, e.categories.length - 1] }, parse: function (e) { return typeof e === 'string' ? this._ordinalMeta.getOrdinal(e) : Math.round(e) }, contain: function (e) { return e = this.parse(e), o.contain.call(this, e) && this._ordinalMeta.categories[e] != null }, normalize: function (e) { return o.normalize.call(this, this.parse(e)) }, scale: function (e) { return Math.round(o.scale.call(this, e)) }, getTicks: function () { var e = []; var t = this._extent; var i = t[0]; while (i <= t[1])e.push(i), i++; return e }, getLabel: function (e) { if (!this.isBlank()) return this._ordinalMeta.categories[e] }, count: function () { return this._extent[1] - this._extent[0] + 1 }, unionExtentFromData: function (e, t) { this.unionExtent(e.getApproximateExtent(t)) }, getOrdinalMeta: function () { return this._ordinalMeta }, niceTicks: n.noop, niceExtent: n.noop }); s.create = function () { return new s() }; var l = s; e.exports = l }, 1953: function (e, t, i) { var n = i('2449'); var a = n.extend({ type: 'markLine', defaultOption: { zlevel: 0, z: 5, symbol: ['circle', 'arrow'], symbolSize: [8, 16], precision: 2, tooltip: { trigger: 'item' }, label: { show: !0, position: 'end', distance: 5 }, lineStyle: { type: 'dashed' }, emphasis: { label: { show: !0 }, lineStyle: { width: 3 } }, animationEasing: 'linear' } }); e.exports = a }, '19e2': function (e, t, i) { var n = i('6d8b'); var a = i('e887'); var r = i('2306'); var o = i('cbe5'); var s = i('b0af'); var l = s.createClipPath; var u = ['itemStyle']; var c = ['emphasis', 'itemStyle']; var h = ['color', 'color0', 'borderColor', 'borderColor0']; var d = a.extend({ type: 'candlestick', render: function (e, t, i) { this.group.removeClipPath(), this._updateDrawMode(e), this._isLargeDraw ? this._renderLarge(e) : this._renderNormal(e) }, incrementalPrepareRender: function (e, t, i) { this._clear(), this._updateDrawMode(e) }, incrementalRender: function (e, t, i, n) { this._isLargeDraw ? this._incrementalRenderLarge(e, t) : this._incrementalRenderNormal(e, t) }, _updateDrawMode: function (e) { var t = e.pipelineContext.large; (this._isLargeDraw == null || t ^ this._isLargeDraw) && (this._isLargeDraw = t, this._clear()) }, _renderNormal: function (e) { var t = e.getData(); var i = this._data; var n = this.group; var a = t.getLayout('isSimpleBox'); var o = e.get('clip', !0); var s = e.coordinateSystem; var l = s.getArea && s.getArea(); this._data || n.removeAll(), t.diff(i).add(function (i) { if (t.hasValue(i)) { var s; var u = t.getItemLayout(i); if (o && g(l, u)) return; s = p(u, i, !0), r.initProps(s, { shape: { points: u.ends } }, e, i), m(s, t, i, a), n.add(s), t.setItemGraphicEl(i, s) } }).update(function (s, u) { var c = i.getItemGraphicEl(u); if (t.hasValue(s)) { var h = t.getItemLayout(s); o && g(l, h) ? n.remove(c) : (c ? r.updateProps(c, { shape: { points: h.ends } }, e, s) : c = p(h, s), m(c, t, s, a), n.add(c), t.setItemGraphicEl(s, c)) } else n.remove(c) }).remove(function (e) { var t = i.getItemGraphicEl(e); t && n.remove(t) }).execute(), this._data = t }, _renderLarge: function (e) { this._clear(), x(e, this.group); var t = e.get('clip', !0) ? l(e.coordinateSystem, !1, e) : null; t ? this.group.setClipPath(t) : this.group.removeClipPath() }, _incrementalRenderNormal: function (e, t) { var i; var n = t.getData(); var a = n.getLayout('isSimpleBox'); while ((i = e.next()) != null) { var r; var o = n.getItemLayout(i); r = p(o, i), m(r, n, i, a), r.incremental = !0, this.group.add(r) } }, _incrementalRenderLarge: function (e, t) { x(t, this.group, !0) }, remove: function (e) { this._clear() }, _clear: function () { this.group.removeAll(), this._data = null }, dispose: n.noop }); var f = o.extend({ type: 'normalCandlestickBox', shape: {}, buildPath: function (e, t) { var i = t.points; this.__simpleBox ? (e.moveTo(i[4][0], i[4][1]), e.lineTo(i[6][0], i[6][1])) : (e.moveTo(i[0][0], i[0][1]), e.lineTo(i[1][0], i[1][1]), e.lineTo(i[2][0], i[2][1]), e.lineTo(i[3][0], i[3][1]), e.closePath(), e.moveTo(i[4][0], i[4][1]), e.lineTo(i[5][0], i[5][1]), e.moveTo(i[6][0], i[6][1]), e.lineTo(i[7][0], i[7][1])) } }); function p (e, t, i) { var n = e.ends; return new f({ shape: { points: i ? v(n, e) : n }, z2: 100 }) } function g (e, t) { for (var i = !0, n = 0; n < t.ends.length; n++) if (e.contain(t.ends[n][0], t.ends[n][1])) { i = !1; break } return i } function m (e, t, i, n) { var a = t.getItemModel(i); var o = a.getModel(u); var s = t.getItemVisual(i, 'color'); var l = t.getItemVisual(i, 'borderColor') || s; var d = o.getItemStyle(h); e.useStyle(d), e.style.strokeNoScale = !0, e.style.fill = s, e.style.stroke = l, e.__simpleBox = n; var f = a.getModel(c).getItemStyle(); r.setHoverStyle(e, f) } function v (e, t) { return n.map(e, function (e) { return e = e.slice(), e[1] = t.initBaseline, e }) } var y = o.extend({ type: 'largeCandlestickBox', shape: {}, buildPath: function (e, t) { for (var i = t.points, n = 0; n < i.length;) if (this.__sign === i[n++]) { var a = i[n++]; e.moveTo(a, i[n++]), e.lineTo(a, i[n++]) } else n += 3 } }); function x (e, t, i) { var n = e.getData(); var a = n.getLayout('largePoints'); var r = new y({ shape: { points: a }, __sign: 1 }); t.add(r); var o = new y({ shape: { points: a }, __sign: -1 }); t.add(o), _(1, r, e, n), _(-1, o, e, n), i && (r.incremental = !0, o.incremental = !0) } function _ (e, t, i, n) { var a = e > 0 ? 'P' : 'N'; var r = n.getVisual('borderColor' + a) || n.getVisual('color' + a); var o = i.getModel(u).getItemStyle(h); t.useStyle(o), t.style.fill = null, t.style.stroke = r } var b = d; e.exports = b }, '19eb': function (e, t, i) { var n = i('6d8b'); var a = i('2b61'); var r = i('d5b7'); var o = i('9e2e'); function s (e) { for (var t in e = e || {}, r.call(this, e), e)e.hasOwnProperty(t) && t !== 'style' && (this[t] = e[t]); this.style = new a(e.style, this), this._rect = null, this.__clipPaths = null }s.prototype = { constructor: s, type: 'displayable', __dirty: !0, invisible: !1, z: 0, z2: 0, zlevel: 0, draggable: !1, dragging: !1, silent: !1, culling: !1, cursor: 'pointer', rectHover: !1, progressive: !1, incremental: !1, globalScaleRatio: 1, beforeBrush: function (e) {}, afterBrush: function (e) {}, brush: function (e, t) {}, getBoundingRect: function () {}, contain: function (e, t) { return this.rectContain(e, t) }, traverse: function (e, t) { e.call(t, this) }, rectContain: function (e, t) { var i = this.transformCoordToLocal(e, t); var n = this.getBoundingRect(); return n.contain(i[0], i[1]) }, dirty: function () { this.__dirty = this.__dirtyText = !0, this._rect = null, this.__zr && this.__zr.refresh() }, animateStyle: function (e) { return this.animate('style', e) }, attrKV: function (e, t) { e !== 'style' ? r.prototype.attrKV.call(this, e, t) : this.style.set(t) }, setStyle: function (e, t) { return this.style.set(e, t), this.dirty(!1), this }, useStyle: function (e) { return this.style = new a(e, this), this.dirty(!1), this }, calculateTextPosition: null }, n.inherits(s, r), n.mixin(s, o); var l = s; e.exports = l }, '1ab3': function (e, t, i) { var n = i('6d8b'); var a = i('2306'); var r = i('e887'); function o (e, t, i, n) { var a = t.getData(); var r = this.dataIndex; var o = a.getName(r); var l = t.get('selectedOffset'); n.dispatchAction({ type: 'pieToggleSelect', from: e, name: o, seriesId: t.id }), a.each(function (e) { s(a.getItemGraphicEl(e), a.getItemLayout(e), t.isSelected(a.getName(e)), l, i) }) } function s (e, t, i, n, a) { var r = (t.startAngle + t.endAngle) / 2; var o = Math.cos(r); var s = Math.sin(r); var l = i ? n : 0; var u = [o * l, s * l]; a ? e.animate().when(200, { position: u }).start('bounceOut') : e.attr('position', u) } function l (e, t) { a.Group.call(this); var i = new a.Sector({ z2: 2 }); var n = new a.Polyline(); var r = new a.Text(); this.add(i), this.add(n), this.add(r), this.updateData(e, t, !0) } var u = l.prototype; u.updateData = function (e, t, i) { var r = this.childAt(0); var o = this.childAt(1); var l = this.childAt(2); var u = e.hostModel; var c = e.getItemModel(t); var h = e.getItemLayout(t); var d = n.extend({}, h); d.label = null; var f = u.getShallow('animationTypeUpdate'); if (i) { r.setShape(d); var p = u.getShallow('animationType'); p === 'scale' ? (r.shape.r = h.r0, a.initProps(r, { shape: { r: h.r } }, u, t)) : (r.shape.endAngle = h.startAngle, a.updateProps(r, { shape: { endAngle: h.endAngle } }, u, t)) } else f === 'expansion' ? r.setShape(d) : a.updateProps(r, { shape: d }, u, t); var g = e.getItemVisual(t, 'color'); r.useStyle(n.defaults({ lineJoin: 'bevel', fill: g }, c.getModel('itemStyle').getItemStyle())), r.hoverStyle = c.getModel('emphasis.itemStyle').getItemStyle(); var m = c.getShallow('cursor'); m && r.attr('cursor', m), s(this, e.getItemLayout(t), u.isSelected(e.getName(t)), u.get('selectedOffset'), u.get('animation')); var v = !i && f === 'transition'; this._updateLabel(e, t, v), this.highDownOnUpdate = u.get('silent') ? null : function (e, t) { var i = u.isAnimationEnabled() && c.get('hoverAnimation'); t === 'emphasis' ? (o.ignore = o.hoverIgnore, l.ignore = l.hoverIgnore, i && (r.stopAnimation(!0), r.animateTo({ shape: { r: h.r + u.get('hoverOffset') } }, 300, 'elasticOut'))) : (o.ignore = o.normalIgnore, l.ignore = l.normalIgnore, i && (r.stopAnimation(!0), r.animateTo({ shape: { r: h.r } }, 300, 'elasticOut'))) }, a.setHoverStyle(this) }, u._updateLabel = function (e, t, i) { var n = this.childAt(1); var r = this.childAt(2); var o = e.hostModel; var s = e.getItemModel(t); var l = e.getItemLayout(t); var u = l.label; var c = e.getItemVisual(t, 'color'); if (!u || isNaN(u.x) || isNaN(u.y))r.ignore = r.normalIgnore = r.hoverIgnore = n.ignore = n.normalIgnore = n.hoverIgnore = !0; else { var h = { points: u.linePoints || [[u.x, u.y], [u.x, u.y], [u.x, u.y]] }; var d = { x: u.x, y: u.y }; i ? (a.updateProps(n, { shape: h }, o, t), a.updateProps(r, { style: d }, o, t)) : (n.attr({ shape: h }), r.attr({ style: d })), r.attr({ rotation: u.rotation, origin: [u.x, u.y], z2: 10 }); var f = s.getModel('label'); var p = s.getModel('emphasis.label'); var g = s.getModel('labelLine'); var m = s.getModel('emphasis.labelLine'); c = e.getItemVisual(t, 'color'); a.setLabelStyle(r.style, r.hoverStyle = {}, f, p, { labelFetcher: e.hostModel, labelDataIndex: t, defaultText: u.text, autoColor: c, useInsideStyle: !!u.inside }, { textAlign: u.textAlign, textVerticalAlign: u.verticalAlign, opacity: e.getItemVisual(t, 'opacity') }), r.ignore = r.normalIgnore = !f.get('show'), r.hoverIgnore = !p.get('show'), n.ignore = n.normalIgnore = !g.get('show'), n.hoverIgnore = !m.get('show'), n.setStyle({ stroke: c, opacity: e.getItemVisual(t, 'opacity') }), n.setStyle(g.getModel('lineStyle').getLineStyle()), n.hoverStyle = m.getModel('lineStyle').getLineStyle(); var v = g.get('smooth'); v && !0 === v && (v = 0.4), n.setShape({ smooth: v }) } }, n.inherits(l, a.Group); var c = r.extend({ type: 'pie', init: function () { var e = new a.Group(); this._sectorGroup = e }, render: function (e, t, i, a) { if (!a || a.from !== this.uid) { var r = e.getData(); var s = this._data; var u = this.group; var c = t.get('animation'); var h = !s; var d = e.get('animationType'); var f = e.get('animationTypeUpdate'); var p = n.curry(o, this.uid, e, c, i); var g = e.get('selectedMode'); if (r.diff(s).add(function (e) { var t = new l(r, e); h && d !== 'scale' && t.eachChild(function (e) { e.stopAnimation(!0) }), g && t.on('click', p), r.setItemGraphicEl(e, t), u.add(t) }).update(function (e, t) { var i = s.getItemGraphicEl(t); h || f === 'transition' || i.eachChild(function (e) { e.stopAnimation(!0) }), i.updateData(r, e), i.off('click'), g && i.on('click', p), u.add(i), r.setItemGraphicEl(e, i) }).remove(function (e) { var t = s.getItemGraphicEl(e); u.remove(t) }).execute(), c && r.count() > 0 && (h ? d !== 'scale' : f !== 'transition')) { for (var m = r.getItemLayout(0), v = 1; isNaN(m.startAngle) && v < r.count(); ++v)m = r.getItemLayout(v); var y = Math.max(i.getWidth(), i.getHeight()) / 2; var x = n.bind(u.removeClipPath, u); u.setClipPath(this._createClipPath(m.cx, m.cy, y, m.startAngle, m.clockwise, x, e, h)) } else u.removeClipPath(); this._data = r } }, dispose: function () {}, _createClipPath: function (e, t, i, n, r, o, s, l) { var u = new a.Sector({ shape: { cx: e, cy: t, r0: 0, r: i, startAngle: n, endAngle: n, clockwise: r } }); var c = l ? a.initProps : a.updateProps; return c(u, { shape: { endAngle: n + (r ? 1 : -1) * Math.PI * 2 } }, s, o), u }, containPoint: function (e, t) { var i = t.getData(); var n = i.getItemLayout(0); if (n) { var a = e[0] - n.cx; var r = e[1] - n.cy; var o = Math.sqrt(a * a + r * r); return o <= n.r && o >= n.r0 } } }); var h = c; e.exports = h }, '1c5f': function (e, t, i) { var n = i('401b'); var a = i('6d8b'); var r = i('0c37'); var o = r.getCurvenessForEdge; function s (e) { var t = e.coordinateSystem; if (!t || t.type === 'view') { var i = e.getGraph(); i.eachNode(function (e) { var t = e.getModel(); e.setLayout([+t.get('x'), +t.get('y')]) }), l(i, e) } } function l (e, t) { e.eachEdge(function (e, i) { var r = a.retrieve3(e.getModel().get('lineStyle.curveness'), -o(e, t, i, !0), 0); var s = n.clone(e.node1.getLayout()); var l = n.clone(e.node2.getLayout()); var u = [s, l]; +r && u.push([(s[0] + l[0]) / 2 - (s[1] - l[1]) * r, (s[1] + l[1]) / 2 - (l[0] - s[0]) * r]), e.setLayout(u) }) }t.simpleLayout = s, t.simpleLayoutEdge = l }, '1ccf': function (e, t, i) { var n = i('4e08'); var a = (n.__DEV__, i('6d8b')); var r = i('fd27'); var o = i('3842'); var s = o.parsePercent; var l = i('697e'); var u = l.createScaleByModel; var c = l.niceScaleExtent; var h = i('2039'); var d = i('ee1a'); var f = d.getStackedDimension; function p (e, t, i) { var n = t.get('center'); var r = i.getWidth(); var o = i.getHeight(); e.cx = s(n[0], r), e.cy = s(n[1], o); var l = e.getRadiusAxis(); var u = Math.min(r, o) / 2; var c = t.get('radius'); c == null ? c = [0, '100%'] : a.isArray(c) || (c = [0, c]), c = [s(c[0], u), s(c[1], u)], l.inverse ? l.setExtent(c[1], c[0]) : l.setExtent(c[0], c[1]) } function g (e, t) { var i = this; var n = i.getAngleAxis(); var r = i.getRadiusAxis(); if (n.scale.setExtent(1 / 0, -1 / 0), r.scale.setExtent(1 / 0, -1 / 0), e.eachSeries(function (e) { if (e.coordinateSystem === i) { var t = e.getData(); a.each(t.mapDimension('radius', !0), function (e) { r.scale.unionExtentFromData(t, f(t, e)) }), a.each(t.mapDimension('angle', !0), function (e) { n.scale.unionExtentFromData(t, f(t, e)) }) } }), c(n.scale, n.model), c(r.scale, r.model), n.type === 'category' && !n.onBand) { var o = n.getExtent(); var s = 360 / n.scale.count(); n.inverse ? o[1] += s : o[1] -= s, n.setExtent(o[0], o[1]) } } function m (e, t) { if (e.type = t.get('type'), e.scale = u(t), e.onBand = t.get('boundaryGap') && e.type === 'category', e.inverse = t.get('inverse'), t.mainType === 'angleAxis') { e.inverse ^= t.get('clockwise'); var i = t.get('startAngle'); e.setExtent(i, i + (e.inverse ? -360 : 360)) }t.axis = e, e.model = t }i('78f0'); var v = { dimensions: r.prototype.dimensions, create: function (e, t) { var i = []; return e.eachComponent('polar', function (e, n) { var a = new r(n); a.update = g; var o = a.getRadiusAxis(); var s = a.getAngleAxis(); var l = e.findAxisModel('radiusAxis'); var u = e.findAxisModel('angleAxis'); m(o, l), m(s, u), p(a, e, t), i.push(a), e.coordinateSystem = a, a.model = e }), e.eachSeries(function (t) { if (t.get('coordinateSystem') === 'polar') { var i = e.queryComponents({ mainType: 'polar', index: t.get('polarIndex'), id: t.get('polarId') })[0]; t.coordinateSystem = i.coordinateSystem } }), i } }; h.register('polar', v) }, '1dde': function (e, t, i) { var n = i('d039'); var a = i('b622'); var r = i('2d00'); var o = a('species'); e.exports = function (e) { return r >= 51 || !n(function () { var t = []; var i = t.constructor = {}; return i[o] = function () { return { foo: 1 } }, t[e](Boolean).foo !== 1 }) } }, '1e32': function (e, t, i) { var n = i('6d8b'); var a = i('3842'); var r = a.parsePercent; var o = i('ee1a'); var s = o.isDimensionStacked; function l (e) { return e.get('stack') || '__ec_stack_' + e.seriesIndex } function u (e, t) { return t.dim + e.model.componentIndex } function c (e, t, i) { var a = {}; var r = h(n.filter(t.getSeriesByType(e), function (e) { return !t.isSeriesFiltered(e) && e.coordinateSystem && e.coordinateSystem.type === 'polar' })); t.eachSeriesByType(e, function (e) { if (e.coordinateSystem.type === 'polar') { var t = e.getData(); var i = e.coordinateSystem; var n = i.getBaseAxis(); var o = u(i, n); var c = l(e); var h = r[o][c]; var d = h.offset; var f = h.width; var p = i.getOtherAxis(n); var g = e.coordinateSystem.cx; var m = e.coordinateSystem.cy; var v = e.get('barMinHeight') || 0; var y = e.get('barMinAngle') || 0; a[c] = a[c] || []; for (var x = t.mapDimension(p.dim), _ = t.mapDimension(n.dim), b = s(t, x), w = n.dim !== 'radius' || !e.get('roundCap', !0), S = p.dim === 'radius' ? p.dataToRadius(0) : p.dataToAngle(0), M = 0, I = t.count(); M < I; M++) { var A; var T; var C; var D; var L = t.get(x, M); var P = t.get(_, M); var k = L >= 0 ? 'p' : 'n'; var O = S; if (b && (a[c][P] || (a[c][P] = { p: S, n: S }), O = a[c][P][k]), p.dim === 'radius') { var R = p.dataToRadius(L) - S; var E = n.dataToAngle(P); Math.abs(R) < v && (R = (R < 0 ? -1 : 1) * v), A = O, T = O + R, C = E - d, D = C - f, b && (a[c][P][k] = T) } else { var N = p.dataToAngle(L, w) - S; var z = n.dataToRadius(P); Math.abs(N) < y && (N = (N < 0 ? -1 : 1) * y), A = z + d, T = A + f, C = O, D = O + N, b && (a[c][P][k] = D) }t.setItemLayout(M, { cx: g, cy: m, r0: A, r: T, startAngle: -C * Math.PI / 180, endAngle: -D * Math.PI / 180 }) } } }, this) } function h (e, t) { var i = {}; n.each(e, function (e, t) { var n = e.getData(); var a = e.coordinateSystem; var o = a.getBaseAxis(); var s = u(a, o); var c = o.getExtent(); var h = o.type === 'category' ? o.getBandWidth() : Math.abs(c[1] - c[0]) / n.count(); var d = i[s] || { bandWidth: h, remainedWidth: h, autoWidthCount: 0, categoryGap: '20%', gap: '30%', stacks: {} }; var f = d.stacks; i[s] = d; var p = l(e); f[p] || d.autoWidthCount++, f[p] = f[p] || { width: 0, maxWidth: 0 }; var g = r(e.get('barWidth'), h); var m = r(e.get('barMaxWidth'), h); var v = e.get('barGap'); var y = e.get('barCategoryGap'); g && !f[p].width && (g = Math.min(d.remainedWidth, g), f[p].width = g, d.remainedWidth -= g), m && (f[p].maxWidth = m), v != null && (d.gap = v), y != null && (d.categoryGap = y) }); var a = {}; return n.each(i, function (e, t) { a[t] = {}; var i = e.stacks; var o = e.bandWidth; var s = r(e.categoryGap, o); var l = r(e.gap, 1); var u = e.remainedWidth; var c = e.autoWidthCount; var h = (u - s) / (c + (c - 1) * l); h = Math.max(h, 0), n.each(i, function (e, t) { var i = e.maxWidth; i && i < h && (i = Math.min(i, u), e.width && (i = Math.min(i, e.width)), u -= i, e.width = i, c--) }), h = (u - s) / (c + (c - 1) * l), h = Math.max(h, 0); var d; var f = 0; n.each(i, function (e, t) { e.width || (e.width = h), d = e, f += e.width * (1 + l) }), d && (f -= d.width * l); var p = -f / 2; n.each(i, function (e, i) { a[t][i] = a[t][i] || { offset: p, width: e.width }, p += e.width * (1 + l) }) }), a } var d = c; e.exports = d }, '1f0e': function (e, t, i) { var n = i('cbe5'); var a = n.extend({ type: 'echartsGaugePointer', shape: { angle: 0, width: 10, r: 10, x: 0, y: 0 }, buildPath: function (e, t) { var i = Math.cos; var n = Math.sin; var a = t.r; var r = t.width; var o = t.angle; var s = t.x - i(o) * r * (r >= a / 3 ? 1 : 2); var l = t.y - n(o) * r * (r >= a / 3 ? 1 : 2); o = t.angle - Math.PI / 2, e.moveTo(s, l), e.lineTo(t.x + i(o) * r, t.y + n(o) * r), e.lineTo(t.x + i(t.angle) * a, t.y + n(t.angle) * a), e.lineTo(t.x - i(o) * r, t.y - n(o) * r), e.lineTo(s, l) } }); e.exports = a }, '1f1a': function (e, t, i) { var n = i('6d8b'); var a = i('e0d3'); var r = i('6cb7'); var o = i('4319'); var s = i('7023'); var l = i('eeea'); var u = r.extend({ type: 'geo', coordinateSystem: null, layoutMode: 'box', init: function (e) { r.prototype.init.apply(this, arguments), a.defaultEmphasis(e, 'label', ['show']) }, optionUpdated: function () { var e = this.option; var t = this; e.regions = l.getFilledRegions(e.regions, e.map, e.nameMap), this._optionModelMap = n.reduce(e.regions || [], function (e, i) { return i.name && e.set(i.name, new o(i, t)), e }, n.createHashMap()), this.updateSelectedMap(e.regions) }, defaultOption: { zlevel: 0, z: 0, show: !0, left: 'center', top: 'center', aspectScale: null, silent: !1, map: '', boundingCoords: null, center: null, zoom: 1, scaleLimit: null, label: { show: !1, color: '#000' }, itemStyle: { borderWidth: 0.5, borderColor: '#444', color: '#eee' }, emphasis: { label: { show: !0, color: 'rgb(100,0,0)' }, itemStyle: { color: 'rgba(255,215,0,0.8)' } }, regions: [] }, getRegionModel: function (e) { return this._optionModelMap.get(e) || new o(null, this, this.ecModel) }, getFormattedLabel: function (e, t) { t = t || 'normal'; var i = this.getRegionModel(e); var n = i.get((t === 'normal' ? '' : t + '.') + 'label.formatter'); var a = { name: e }; return typeof n === 'function' ? (a.status = t, n(a)) : typeof n === 'string' ? n.replace('{a}', e != null ? e : '') : void 0 }, setZoom: function (e) { this.option.zoom = e }, setCenter: function (e) { this.option.center = e } }); n.mixin(u, s); var c = u; e.exports = c }, '1fab': function (e, t) { var i = Array.prototype.slice; var n = function (e) { this._$handlers = {}, this._$eventProcessor = e }; function a (e, t) { var i = e._$eventProcessor; return t != null && i && i.normalizeQuery && (t = i.normalizeQuery(t)), t } function r (e, t, i, n, r, o) { var s = e._$handlers; if (typeof i === 'function' && (r = n, n = i, i = null), !n || !t) return e; i = a(e, i), s[t] || (s[t] = []); for (var l = 0; l < s[t].length; l++) if (s[t][l].h === n) return e; var u = { h: n, one: o, query: i, ctx: r || e, callAtLast: n.zrEventfulCallAtLast }; var c = s[t].length - 1; var h = s[t][c]; return h && h.callAtLast ? s[t].splice(c, 0, u) : s[t].push(u), e }n.prototype = { constructor: n, one: function (e, t, i, n) { return r(this, e, t, i, n, !0) }, on: function (e, t, i, n) { return r(this, e, t, i, n, !1) }, isSilent: function (e) { var t = this._$handlers; return !t[e] || !t[e].length }, off: function (e, t) { var i = this._$handlers; if (!e) return this._$handlers = {}, this; if (t) { if (i[e]) { for (var n = [], a = 0, r = i[e].length; a < r; a++)i[e][a].h !== t && n.push(i[e][a]); i[e] = n }i[e] && i[e].length === 0 && delete i[e] } else delete i[e]; return this }, trigger: function (e) { var t = this._$handlers[e]; var n = this._$eventProcessor; if (t) { var a = arguments; var r = a.length; r > 3 && (a = i.call(a, 1)); for (var o = t.length, s = 0; s < o;) { var l = t[s]; if (n && n.filter && l.query != null && !n.filter(e, l.query))s++; else { switch (r) { case 1:l.h.call(l.ctx); break; case 2:l.h.call(l.ctx, a[1]); break; case 3:l.h.call(l.ctx, a[1], a[2]); break; default:l.h.apply(l.ctx, a); break }l.one ? (t.splice(s, 1), o--) : s++ } } } return n && n.afterTrigger && n.afterTrigger(e), this }, triggerWithContext: function (e) { var t = this._$handlers[e]; var n = this._$eventProcessor; if (t) { var a = arguments; var r = a.length; r > 4 && (a = i.call(a, 1, a.length - 1)); for (var o = a[a.length - 1], s = t.length, l = 0; l < s;) { var u = t[l]; if (n && n.filter && u.query != null && !n.filter(e, u.query))l++; else { switch (r) { case 1:u.h.call(o); break; case 2:u.h.call(o, a[1]); break; case 3:u.h.call(o, a[1], a[2]); break; default:u.h.apply(o, a); break }u.one ? (t.splice(l, 1), s--) : l++ } } } return n && n.afterTrigger && n.afterTrigger(e), this } }; var o = n; e.exports = o }, 2023: function (e, t, i) { var n = i('6d8b'); var a = { getMin: function (e) { var t = this.option; var i = e || t.rangeStart == null ? t.min : t.rangeStart; return this.axis && i != null && i !== 'dataMin' && typeof i !== 'function' && !n.eqNaN(i) && (i = this.axis.scale.parse(i)), i }, getMax: function (e) { var t = this.option; var i = e || t.rangeEnd == null ? t.max : t.rangeEnd; return this.axis && i != null && i !== 'dataMax' && typeof i !== 'function' && !n.eqNaN(i) && (i = this.axis.scale.parse(i)), i }, getNeedCrossZero: function () { var e = this.option; return e.rangeStart == null && e.rangeEnd == null && !e.scale }, getCoordSysModel: n.noop, setRange: function (e, t) { this.option.rangeStart = e, this.option.rangeEnd = t }, resetRange: function () { this.option.rangeStart = this.option.rangeEnd = null } }; e.exports = a }, 2039: function (e, t, i) { var n = i('6d8b'); var a = {}; function r () { this._coordinateSystems = [] }r.prototype = { constructor: r, create: function (e, t) { var i = []; n.each(a, function (n, a) { var r = n.create(e, t); i = i.concat(r || []) }), this._coordinateSystems = i }, update: function (e, t) { n.each(this._coordinateSystems, function (i) { i.update && i.update(e, t) }) }, getCoordinateSystems: function () { return this._coordinateSystems.slice() } }, r.register = function (e, t) { a[e] = t }, r.get = function (e) { return a[e] }; var o = r; e.exports = o }, '20c8': function (e, t, i) { var n = i('4a3f'); var a = i('401b'); var r = i('e263'); var o = i('9850'); var s = i('2cf4c'); var l = s.devicePixelRatio; var u = { M: 1, L: 2, C: 3, Q: 4, A: 5, Z: 6, R: 7 }; var c = []; var h = []; var d = []; var f = []; var p = Math.min; var g = Math.max; var m = Math.cos; var v = Math.sin; var y = Math.sqrt; var x = Math.abs; var _ = typeof Float32Array !== 'undefined'; var b = function (e) { this._saveData = !e, this._saveData && (this.data = []), this._ctx = null }; b.prototype = { constructor: b, _xi: 0, _yi: 0, _x0: 0, _y0: 0, _ux: 0, _uy: 0, _len: 0, _lineDash: null, _dashOffset: 0, _dashIdx: 0, _dashSum: 0, setScale: function (e, t, i) { i = i || 0, this._ux = x(i / l / e) || 0, this._uy = x(i / l / t) || 0 }, getContext: function () { return this._ctx }, beginPath: function (e) { return this._ctx = e, e && e.beginPath(), e && (this.dpr = e.dpr), this._saveData && (this._len = 0), this._lineDash && (this._lineDash = null, this._dashOffset = 0), this }, moveTo: function (e, t) { return this.addData(u.M, e, t), this._ctx && this._ctx.moveTo(e, t), this._x0 = e, this._y0 = t, this._xi = e, this._yi = t, this }, lineTo: function (e, t) { var i = x(e - this._xi) > this._ux || x(t - this._yi) > this._uy || this._len < 5; return this.addData(u.L, e, t), this._ctx && i && (this._needsDash() ? this._dashedLineTo(e, t) : this._ctx.lineTo(e, t)), i && (this._xi = e, this._yi = t), this }, bezierCurveTo: function (e, t, i, n, a, r) { return this.addData(u.C, e, t, i, n, a, r), this._ctx && (this._needsDash() ? this._dashedBezierTo(e, t, i, n, a, r) : this._ctx.bezierCurveTo(e, t, i, n, a, r)), this._xi = a, this._yi = r, this }, quadraticCurveTo: function (e, t, i, n) { return this.addData(u.Q, e, t, i, n), this._ctx && (this._needsDash() ? this._dashedQuadraticTo(e, t, i, n) : this._ctx.quadraticCurveTo(e, t, i, n)), this._xi = i, this._yi = n, this }, arc: function (e, t, i, n, a, r) { return this.addData(u.A, e, t, i, i, n, a - n, 0, r ? 0 : 1), this._ctx && this._ctx.arc(e, t, i, n, a, r), this._xi = m(a) * i + e, this._yi = v(a) * i + t, this }, arcTo: function (e, t, i, n, a) { return this._ctx && this._ctx.arcTo(e, t, i, n, a), this }, rect: function (e, t, i, n) { return this._ctx && this._ctx.rect(e, t, i, n), this.addData(u.R, e, t, i, n), this }, closePath: function () { this.addData(u.Z); var e = this._ctx; var t = this._x0; var i = this._y0; return e && (this._needsDash() && this._dashedLineTo(t, i), e.closePath()), this._xi = t, this._yi = i, this }, fill: function (e) { e && e.fill(), this.toStatic() }, stroke: function (e) { e && e.stroke(), this.toStatic() }, setLineDash: function (e) { if (e instanceof Array) { this._lineDash = e, this._dashIdx = 0; for (var t = 0, i = 0; i < e.length; i++)t += e[i]; this._dashSum = t } return this }, setLineDashOffset: function (e) { return this._dashOffset = e, this }, len: function () { return this._len }, setData: function (e) { var t = e.length; this.data && this.data.length === t || !_ || (this.data = new Float32Array(t)); for (var i = 0; i < t; i++) this.data[i] = e[i]; this._len = t }, appendPath: function (e) { e instanceof Array || (e = [e]); for (var t = e.length, i = 0, n = this._len, a = 0; a < t; a++)i += e[a].len(); _ && this.data instanceof Float32Array && (this.data = new Float32Array(n + i)); for (a = 0; a < t; a++) for (var r = e[a].data, o = 0; o < r.length; o++) this.data[n++] = r[o]; this._len = n }, addData: function (e) { if (this._saveData) { var t = this.data; this._len + arguments.length > t.length && (this._expandData(), t = this.data); for (var i = 0; i < arguments.length; i++)t[this._len++] = arguments[i]; this._prevCmd = e } }, _expandData: function () { if (!(this.data instanceof Array)) { for (var e = [], t = 0; t < this._len; t++)e[t] = this.data[t]; this.data = e } }, _needsDash: function () { return this._lineDash }, _dashedLineTo: function (e, t) { var i; var n; var a = this._dashSum; var r = this._dashOffset; var o = this._lineDash; var s = this._ctx; var l = this._xi; var u = this._yi; var c = e - l; var h = t - u; var d = y(c * c + h * h); var f = l; var m = u; var v = o.length; c /= d, h /= d, r < 0 && (r = a + r), r %= a, f -= r * c, m -= r * h; while (c > 0 && f <= e || c < 0 && f >= e || c === 0 && (h > 0 && m <= t || h < 0 && m >= t))n = this._dashIdx, i = o[n], f += c * i, m += h * i, this._dashIdx = (n + 1) % v, c > 0 && f < l || c < 0 && f > l || h > 0 && m < u || h < 0 && m > u || s[n % 2 ? 'moveTo' : 'lineTo'](c >= 0 ? p(f, e) : g(f, e), h >= 0 ? p(m, t) : g(m, t)); c = f - e, h = m - t, this._dashOffset = -y(c * c + h * h) }, _dashedBezierTo: function (e, t, i, a, r, o) { var s; var l; var u; var c; var h; var d = this._dashSum; var f = this._dashOffset; var p = this._lineDash; var g = this._ctx; var m = this._xi; var v = this._yi; var x = n.cubicAt; var _ = 0; var b = this._dashIdx; var w = p.length; var S = 0; for (f < 0 && (f = d + f), f %= d, s = 0; s < 1; s += 0.1)l = x(m, e, i, r, s + 0.1) - x(m, e, i, r, s), u = x(v, t, a, o, s + 0.1) - x(v, t, a, o, s), _ += y(l * l + u * u); for (;b < w; b++) if (S += p[b], S > f) break; s = (S - f) / _; while (s <= 1)c = x(m, e, i, r, s), h = x(v, t, a, o, s), b % 2 ? g.moveTo(c, h) : g.lineTo(c, h), s += p[b] / _, b = (b + 1) % w; b % 2 !== 0 && g.lineTo(r, o), l = r - c, u = o - h, this._dashOffset = -y(l * l + u * u) }, _dashedQuadraticTo: function (e, t, i, n) { var a = i; var r = n; i = (i + 2 * e) / 3, n = (n + 2 * t) / 3, e = (this._xi + 2 * e) / 3, t = (this._yi + 2 * t) / 3, this._dashedBezierTo(e, t, i, n, a, r) }, toStatic: function () { var e = this.data; e instanceof Array && (e.length = this._len, _ && (this.data = new Float32Array(e))) }, getBoundingRect: function () { c[0] = c[1] = d[0] = d[1] = Number.MAX_VALUE, h[0] = h[1] = f[0] = f[1] = -Number.MAX_VALUE; for (var e = this.data, t = 0, i = 0, n = 0, s = 0, l = 0; l < e.length;) { var p = e[l++]; switch (l === 1 && (t = e[l], i = e[l + 1], n = t, s = i), p) { case u.M:n = e[l++], s = e[l++], t = n, i = s, d[0] = n, d[1] = s, f[0] = n, f[1] = s; break; case u.L:r.fromLine(t, i, e[l], e[l + 1], d, f), t = e[l++], i = e[l++]; break; case u.C:r.fromCubic(t, i, e[l++], e[l++], e[l++], e[l++], e[l], e[l + 1], d, f), t = e[l++], i = e[l++]; break; case u.Q:r.fromQuadratic(t, i, e[l++], e[l++], e[l], e[l + 1], d, f), t = e[l++], i = e[l++]; break; case u.A:var g = e[l++]; var y = e[l++]; var x = e[l++]; var _ = e[l++]; var b = e[l++]; var w = e[l++] + b; l += 1; var S = 1 - e[l++]; l === 1 && (n = m(b) * x + g, s = v(b) * _ + y), r.fromArc(g, y, x, _, b, w, S, d, f), t = m(w) * x + g, i = v(w) * _ + y; break; case u.R:n = t = e[l++], s = i = e[l++]; var M = e[l++]; var I = e[l++]; r.fromLine(n, s, n + M, s + I, d, f); break; case u.Z:t = n, i = s; break }a.min(c, c, d), a.max(h, h, f) } return l === 0 && (c[0] = c[1] = h[0] = h[1] = 0), new o(c[0], c[1], h[0] - c[0], h[1] - c[1]) }, rebuildPath: function (e) { for (var t, i, n, a, r, o, s = this.data, l = this._ux, c = this._uy, h = this._len, d = 0; d < h;) { var f = s[d++]; switch (d === 1 && (n = s[d], a = s[d + 1], t = n, i = a), f) { case u.M:t = n = s[d++], i = a = s[d++], e.moveTo(n, a); break; case u.L:r = s[d++], o = s[d++], (x(r - n) > l || x(o - a) > c || d === h - 1) && (e.lineTo(r, o), n = r, a = o); break; case u.C:e.bezierCurveTo(s[d++], s[d++], s[d++], s[d++], s[d++], s[d++]), n = s[d - 2], a = s[d - 1]; break; case u.Q:e.quadraticCurveTo(s[d++], s[d++], s[d++], s[d++]), n = s[d - 2], a = s[d - 1]; break; case u.A:var p = s[d++]; var g = s[d++]; var y = s[d++]; var _ = s[d++]; var b = s[d++]; var w = s[d++]; var S = s[d++]; var M = s[d++]; var I = y > _ ? y : _; var A = y > _ ? 1 : y / _; var T = y > _ ? _ / y : 1; var C = Math.abs(y - _) > 0.001; var D = b + w; C ? (e.translate(p, g), e.rotate(S), e.scale(A, T), e.arc(0, 0, I, b, D, 1 - M), e.scale(1 / A, 1 / T), e.rotate(-S), e.translate(-p, -g)) : e.arc(p, g, I, b, D, 1 - M), d === 1 && (t = m(b) * y + p, i = v(b) * _ + g), n = m(D) * y + p, a = v(D) * _ + g; break; case u.R:t = n = s[d], i = a = s[d + 1], e.rect(s[d++], s[d++], s[d++], s[d++]); break; case u.Z:e.closePath(), n = t, a = i } } } }, b.CMD = u; var w = b; e.exports = w }, 2145: function (e, t) { var i = {}; function n (e, t) { i[e] = t } function a (e) { return i[e] }t.register = n, t.get = a }, 2163: function (e, t, i) { var n = i('4f85'); var a = i('06c7'); var r = i('eda2'); var o = r.encodeHTML; var s = i('4319'); var l = n.extend({ type: 'series.tree', layoutInfo: null, layoutMode: 'box', getInitialData: function (e) { var t = { name: e.name, children: e.data }; var i = e.leaves || {}; var n = new s(i, this, this.ecModel); var r = a.createTree(t, this, o); function o (e) { e.wrapMethod('getItemModel', function (e, t) { var i = r.getNodeByDataIndex(t); return i.children.length && i.isExpand || (e.parentModel = n), e }) } var l = 0; r.eachNode('preorder', function (e) { e.depth > l && (l = e.depth) }); var u = e.expandAndCollapse; var c = u && e.initialTreeDepth >= 0 ? e.initialTreeDepth : l; return r.root.eachNode('preorder', function (e) { var t = e.hostTree.data.getRawDataItem(e.dataIndex); e.isExpand = t && t.collapsed != null ? !t.collapsed : e.depth <= c }), r.data }, getOrient: function () { var e = this.get('orient'); return e === 'horizontal' ? e = 'LR' : e === 'vertical' && (e = 'TB'), e }, setZoom: function (e) { this.option.zoom = e }, setCenter: function (e) { this.option.center = e }, formatTooltip: function (e) { var t = this.getData().tree; var i = t.root.children[0]; var n = t.getNodeByDataIndex(e); var a = n.getValue(); var r = n.name; while (n && n !== i)r = n.parentNode.name + '.' + r, n = n.parentNode; return o(r + (isNaN(a) || a == null ? '' : ' : ' + a)) }, defaultOption: { zlevel: 0, z: 2, coordinateSystem: 'view', left: '12%', top: '12%', right: '12%', bottom: '12%', layout: 'orthogonal', edgeShape: 'curve', edgeForkPosition: '50%', roam: !1, nodeScaleRatio: 0.4, center: null, zoom: 1, orient: 'LR', symbol: 'emptyCircle', symbolSize: 7, expandAndCollapse: !0, initialTreeDepth: 2, lineStyle: { color: '#ccc', width: 1.5, curveness: 0.5 }, itemStyle: { color: 'lightsteelblue', borderColor: '#c23531', borderWidth: 1.5 }, label: { show: !0, color: '#555' }, leaves: { label: { show: !0 } }, animationEasing: 'linear', animationDuration: 700, animationDurationUpdate: 1e3 } }); e.exports = l }, '216a': function (e, t, i) { var n = i('6d8b'); var a = i('3842'); var r = i('eda2'); var o = i('944e'); var s = i('89e3'); var l = s.prototype; var u = Math.ceil; var c = Math.floor; var h = 1e3; var d = 60 * h; var f = 60 * d; var p = 24 * f; var g = function (e, t, i, n) { while (i < n) { var a = i + n >>> 1; e[a][1] < t ? i = a + 1 : n = a } return i }; var m = s.extend({ type: 'time', getLabel: function (e) { var t = this._stepLvl; var i = new Date(e); return r.formatTime(t[0], i, this.getSetting('useUTC')) }, niceExtent: function (e) { var t = this._extent; if (t[0] === t[1] && (t[0] -= p, t[1] += p), t[1] === -1 / 0 && t[0] === 1 / 0) { var i = new Date(); t[1] = +new Date(i.getFullYear(), i.getMonth(), i.getDate()), t[0] = t[1] - p } this.niceTicks(e.splitNumber, e.minInterval, e.maxInterval); var n = this._interval; e.fixMin || (t[0] = a.round(c(t[0] / n) * n)), e.fixMax || (t[1] = a.round(u(t[1] / n) * n)) }, niceTicks: function (e, t, i) { e = e || 10; var n = this._extent; var r = n[1] - n[0]; var s = r / e; t != null && s < t && (s = t), i != null && s > i && (s = i); var l = v.length; var h = g(v, s, 0, l); var d = v[Math.min(h, l - 1)]; var f = d[1]; if (d[0] === 'year') { var p = r / f; var m = a.nice(p / e, !0); f *= m } var y = this.getSetting('useUTC') ? 0 : 60 * new Date(+n[0] || +n[1]).getTimezoneOffset() * 1e3; var x = [Math.round(u((n[0] - y) / f) * f + y), Math.round(c((n[1] - y) / f) * f + y)]; o.fixExtent(x, n), this._stepLvl = d, this._interval = f, this._niceExtent = x }, parse: function (e) { return +a.parseDate(e) } }); n.each(['contain', 'normalize'], function (e) { m.prototype[e] = function (t) { return l[e].call(this, this.parse(t)) } }); var v = [['hh:mm:ss', h], ['hh:mm:ss', 5 * h], ['hh:mm:ss', 10 * h], ['hh:mm:ss', 15 * h], ['hh:mm:ss', 30 * h], ['hh:mm\nMM-dd', d], ['hh:mm\nMM-dd', 5 * d], ['hh:mm\nMM-dd', 10 * d], ['hh:mm\nMM-dd', 15 * d], ['hh:mm\nMM-dd', 30 * d], ['hh:mm\nMM-dd', f], ['hh:mm\nMM-dd', 2 * f], ['hh:mm\nMM-dd', 6 * f], ['hh:mm\nMM-dd', 12 * f], ['MM-dd\nyyyy', p], ['MM-dd\nyyyy', 2 * p], ['MM-dd\nyyyy', 3 * p], ['MM-dd\nyyyy', 4 * p], ['MM-dd\nyyyy', 5 * p], ['MM-dd\nyyyy', 6 * p], ['week', 7 * p], ['MM-dd\nyyyy', 10 * p], ['week', 14 * p], ['week', 21 * p], ['month', 31 * p], ['week', 42 * p], ['month', 62 * p], ['week', 70 * p], ['quarter', 95 * p], ['month', 31 * p * 4], ['month', 31 * p * 5], ['half-year', 380 * p / 2], ['month', 31 * p * 8], ['month', 31 * p * 10], ['year', 380 * p]]; m.create = function (e) { return new m({ useUTC: e.ecModel.get('useUTC') }) }; var y = m; e.exports = y }, '217b': function (e, t, i) { var n = i('4e08'); var a = (n.__DEV__, i('3301')); var r = i('4f85'); var o = r.extend({ type: 'series.line', dependencies: ['grid', 'polar'], getInitialData: function (e, t) { return a(this.getSource(), this, { useEncodeDefaulter: !0 }) }, defaultOption: { zlevel: 0, z: 2, coordinateSystem: 'cartesian2d', legendHoverLink: !0, hoverAnimation: !0, clip: !0, label: { position: 'top' }, lineStyle: { width: 2, type: 'solid' }, step: !1, smooth: !1, smoothMonotone: null, symbol: 'emptyCircle', symbolSize: 4, symbolRotate: null, showSymbol: !0, showAllSymbol: 'auto', connectNulls: !1, sampling: 'none', animationEasing: 'linear', progressive: 0, hoverLayerThreshold: 1 / 0 } }); e.exports = o }, '217c': function (e, t, i) { var n = i('6d8b'); var a = i('6cb7'); i('df3a'); var r = a.extend({ type: 'parallel', dependencies: ['parallelAxis'], coordinateSystem: null, dimensions: null, parallelAxisIndex: null, layoutMode: 'box', defaultOption: { zlevel: 0, z: 0, left: 80, top: 60, right: 80, bottom: 60, layout: 'horizontal', axisExpandable: !1, axisExpandCenter: null, axisExpandCount: 0, axisExpandWidth: 50, axisExpandRate: 17, axisExpandDebounce: 50, axisExpandSlideTriggerArea: [-0.15, 0.05, 0.4], axisExpandTriggerOn: 'click', parallelAxisDefault: null }, init: function () { a.prototype.init.apply(this, arguments), this.mergeOption({}) }, mergeOption: function (e) { var t = this.option; e && n.merge(t, e, !0), this._initDimensions() }, contains: function (e, t) { var i = e.get('parallelIndex'); return i != null && t.getComponent('parallel', i) === this }, setAxisExpand: function (e) { n.each(['axisExpandable', 'axisExpandCenter', 'axisExpandCount', 'axisExpandWidth', 'axisExpandWindow'], function (t) { e.hasOwnProperty(t) && (this.option[t] = e[t]) }, this) }, _initDimensions: function () { var e = this.dimensions = []; var t = this.parallelAxisIndex = []; var i = n.filter(this.dependentModels.parallelAxis, function (e) { return (e.get('parallelIndex') || 0) === this.componentIndex }, this); n.each(i, function (i) { e.push('dim' + i.get('dim')), t.push(i.componentIndex) }) } }); e.exports = r }, '22d1': function (e, t) { var i = {}; i = typeof wx === 'object' && typeof wx.getSystemInfoSync === 'function' ? { browser: {}, os: {}, node: !1, wxa: !0, canvasSupported: !0, svgSupported: !1, touchEventsSupported: !0, domSupported: !1 } : typeof document === 'undefined' && typeof self !== 'undefined' ? { browser: {}, os: {}, node: !1, worker: !0, canvasSupported: !0, domSupported: !1 } : typeof navigator === 'undefined' ? { browser: {}, os: {}, node: !0, worker: !1, canvasSupported: !0, svgSupported: !0, domSupported: !1 } : a(navigator.userAgent); var n = i; function a (e) { var t = {}; var i = {}; var n = e.match(/Firefox\/([\d.]+)/); var a = e.match(/MSIE\s([\d.]+)/) || e.match(/Trident\/.+?rv:(([\d.]+))/); var r = e.match(/Edge\/([\d.]+)/); var o = /micromessenger/i.test(e); return n && (i.firefox = !0, i.version = n[1]), a && (i.ie = !0, i.version = a[1]), r && (i.edge = !0, i.version = r[1]), o && (i.weChat = !0), { browser: i, os: t, node: !1, canvasSupported: !!document.createElement('canvas').getContext, svgSupported: typeof SVGRect !== 'undefined', touchEventsSupported: 'ontouchstart' in window && !i.ie && !i.edge, pointerEventsSupported: 'onpointerdown' in window && (i.edge || i.ie && i.version >= 11), domSupported: typeof document !== 'undefined' } }e.exports = n }, '22da': function (e, t, i) { var n = i('f934'); function a (e) { e.hierNode = { defaultAncestor: null, ancestor: e, prelim: 0, modifier: 0, change: 0, shift: 0, i: 0, thread: null }; var t; var i; var n = [e]; while (t = n.pop()) if (i = t.children, t.isExpand && i.length) for (var a = i.length, r = a - 1; r >= 0; r--) { var o = i[r]; o.hierNode = { defaultAncestor: null, ancestor: o, prelim: 0, modifier: 0, change: 0, shift: 0, i: r, thread: null }, n.push(o) } } function r (e, t) { var i = e.isExpand ? e.children : []; var n = e.parentNode.children; var a = e.hierNode.i ? n[e.hierNode.i - 1] : null; if (i.length) { c(e); var r = (i[0].hierNode.prelim + i[i.length - 1].hierNode.prelim) / 2; a ? (e.hierNode.prelim = a.hierNode.prelim + t(e, a), e.hierNode.modifier = e.hierNode.prelim - r) : e.hierNode.prelim = r } else a && (e.hierNode.prelim = a.hierNode.prelim + t(e, a)); e.parentNode.hierNode.defaultAncestor = h(e, a, e.parentNode.hierNode.defaultAncestor || n[0], t) } function o (e) { var t = e.hierNode.prelim + e.parentNode.hierNode.modifier; e.setLayout({ x: t }, !0), e.hierNode.modifier += e.parentNode.hierNode.modifier } function s (e) { return arguments.length ? e : m } function l (e, t) { var i = {}; return e -= Math.PI / 2, i.x = t * Math.cos(e), i.y = t * Math.sin(e), i } function u (e, t) { return n.getLayoutRect(e.getBoxLayoutParams(), { width: t.getWidth(), height: t.getHeight() }) } function c (e) { var t = e.children; var i = t.length; var n = 0; var a = 0; while (--i >= 0) { var r = t[i]; r.hierNode.prelim += n, r.hierNode.modifier += n, a += r.hierNode.change, n += r.hierNode.shift + a } } function h (e, t, i, n) { if (t) { var a = e; var r = e; var o = r.parentNode.children[0]; var s = t; var l = a.hierNode.modifier; var u = r.hierNode.modifier; var c = o.hierNode.modifier; var h = s.hierNode.modifier; while (s = d(s), r = f(r), s && r) { a = d(a), o = f(o), a.hierNode.ancestor = e; var m = s.hierNode.prelim + h - r.hierNode.prelim - u + n(s, r); m > 0 && (g(p(s, e, i), e, m), u += m, l += m), h += s.hierNode.modifier, u += r.hierNode.modifier, l += a.hierNode.modifier, c += o.hierNode.modifier }s && !d(a) && (a.hierNode.thread = s, a.hierNode.modifier += h - l), r && !f(o) && (o.hierNode.thread = r, o.hierNode.modifier += u - c, i = e) } return i } function d (e) { var t = e.children; return t.length && e.isExpand ? t[t.length - 1] : e.hierNode.thread } function f (e) { var t = e.children; return t.length && e.isExpand ? t[0] : e.hierNode.thread } function p (e, t, i) { return e.hierNode.ancestor.parentNode === t.parentNode ? e.hierNode.ancestor : i } function g (e, t, i) { var n = i / (t.hierNode.i - e.hierNode.i); t.hierNode.change -= n, t.hierNode.shift += i, t.hierNode.modifier += i, t.hierNode.prelim += i, e.hierNode.change += n } function m (e, t) { return e.parentNode === t.parentNode ? 1 : 2 }t.init = a, t.firstWalk = r, t.secondWalk = o, t.separation = s, t.radialCoordinate = l, t.getViewRect = u }, 2306: function (e, t, i) { var n = i('6d8b'); var a = i('342d'); var r = i('41ef'); var o = i('1687'); var s = i('401b'); var l = i('cbe5'); var u = i('0cde'); var c = i('0da8'); t.Image = c; var h = i('e1fc'); t.Group = h; var d = i('76a5'); t.Text = d; var f = i('d9fc'); t.Circle = f; var p = i('4aa2'); t.Sector = p; var g = i('4573'); t.Ring = g; var m = i('87b1'); t.Polygon = m; var v = i('d498'); t.Polyline = v; var y = i('c7a2'); t.Rect = y; var x = i('cb11'); t.Line = x; var _ = i('ac0f'); t.BezierCurve = _; var b = i('8d32'); t.Arc = b; var w = i('d4c6'); t.CompoundPath = w; var S = i('48a9'); t.LinearGradient = S; var M = i('dded'); t.RadialGradient = M; var I = i('9850'); t.BoundingRect = I; var A = i('392f'); t.IncrementalDisplayable = A; var T = i('9cf9'); var C = Math.max; var D = Math.min; var L = {}; var P = 1; var k = { color: 'textFill', textBorderColor: 'textStroke', textBorderWidth: 'textStrokeWidth' }; var O = 'emphasis'; var R = 'normal'; var E = 1; var N = {}; var z = {}; function B (e) { return l.extend(e) } function V (e, t) { return a.extendFromString(e, t) } function G (e, t) { z[e] = t } function F (e) { if (z.hasOwnProperty(e)) return z[e] } function H (e, t, i, n) { var r = a.createFromString(e, t); return i && (n === 'center' && (i = U(i, r.getBoundingRect())), Y(r, i)), r } function W (e, t, i) { var n = new c({ style: { image: e, x: t.x, y: t.y, width: t.width, height: t.height }, onload: function (e) { if (i === 'center') { var a = { width: e.width, height: e.height }; n.setStyle(U(t, a)) } } }); return n } function U (e, t) { var i; var n = t.width / t.height; var a = e.height * n; a <= e.width ? i = e.height : (a = e.width, i = a / n); var r = e.x + e.width / 2; var o = e.y + e.height / 2; return { x: r - a / 2, y: o - i / 2, width: a, height: i } } var Z = a.mergePath; function Y (e, t) { if (e.applyTransform) { var i = e.getBoundingRect(); var n = i.calculateTransform(t); e.applyTransform(n) } } function j (e) { return T.subPixelOptimizeLine(e.shape, e.shape, e.style), e } function X (e) { return T.subPixelOptimizeRect(e.shape, e.shape, e.style), e } var q = T.subPixelOptimize; function $ (e) { return e != null && e !== 'none' } var K = n.createHashMap(); var J = 0; function Q (e) { if (typeof e !== 'string') return e; var t = K.get(e); return t || (t = r.lift(e, -0.1), J < 1e4 && (K.set(e, t), J++)), t } function ee (e) { if (e.__hoverStlDirty) { e.__hoverStlDirty = !1; var t = e.__hoverStl; if (t) { var i = e.__cachedNormalStl = {}; e.__cachedNormalZ2 = e.z2; var n = e.style; for (var a in t)t[a] != null && (i[a] = n[a]); i.fill = n.fill, i.stroke = n.stroke } else e.__cachedNormalStl = e.__cachedNormalZ2 = null } } function te (e) { var t = e.__hoverStl; if (t && !e.__highlighted) { var i = e.__zr; var n = e.useHoverLayer && i && i.painter.type === 'canvas'; if (e.__highlighted = n ? 'layer' : 'plain', !(e.isGroup || !i && e.useHoverLayer)) { var a = e; var r = e.style; n && (a = i.addHover(e), r = a.style), Me(r), n || ee(a), r.extendFrom(t), ie(r, t, 'fill'), ie(r, t, 'stroke'), Se(r), n || (e.dirty(!1), e.z2 += P) } } } function ie (e, t, i) { !$(t[i]) && $(e[i]) && (e[i] = Q(e[i])) } function ne (e) { var t = e.__highlighted; if (t && (e.__highlighted = !1, !e.isGroup)) if (t === 'layer')e.__zr && e.__zr.removeHover(e); else { var i = e.style; var n = e.__cachedNormalStl; n && (Me(i), e.setStyle(n), Se(i)); var a = e.__cachedNormalZ2; a != null && e.z2 - a === P && (e.z2 = a) } } function ae (e, t, i) { var n; var a = R; var r = R; e.__highlighted && (a = O, n = !0), t(e, i), e.__highlighted && (r = O, n = !0), e.isGroup && e.traverse(function (e) { !e.isGroup && t(e, i) }), n && e.__highDownOnUpdate && e.__highDownOnUpdate(a, r) } function re (e, t) { t = e.__hoverStl = !1 !== t && (e.hoverStyle || t || {}), e.__hoverStlDirty = !0, e.__highlighted && (e.__cachedNormalStl = null, ne(e), te(e)) } function oe (e) { !ce(this, e) && !this.__highByOuter && ae(this, te) } function se (e) { !ce(this, e) && !this.__highByOuter && ae(this, ne) } function le (e) { this.__highByOuter |= 1 << (e || 0), ae(this, te) } function ue (e) { !(this.__highByOuter &= ~(1 << (e || 0))) && ae(this, ne) } function ce (e, t) { return e.__highDownSilentOnTouch && t.zrByTouch } function he (e, t) { de(e, !0), ae(e, re, t) } function de (e, t) { var i = !1 === t; if (e.__highDownSilentOnTouch = e.highDownSilentOnTouch, e.__highDownOnUpdate = e.highDownOnUpdate, !i || e.__highDownDispatcher) { var n = i ? 'off' : 'on'; e[n]('mouseover', oe)[n]('mouseout', se), e[n]('emphasis', le)[n]('normal', ue), e.__highByOuter = e.__highByOuter || 0, e.__highDownDispatcher = !i } } function fe (e) { return !(!e || !e.__highDownDispatcher) } function pe (e) { var t = N[e]; return t == null && E <= 32 && (t = N[e] = E++), t } function ge (e, t, i, a, r, o, s) { r = r || L; var l; var u = r.labelFetcher; var c = r.labelDataIndex; var h = r.labelDimIndex; var d = r.labelProp; var f = i.getShallow('show'); var p = a.getShallow('show'); (f || p) && (u && (l = u.getFormattedLabel(c, 'normal', null, h, d)), l == null && (l = n.isFunction(r.defaultText) ? r.defaultText(c, r) : r.defaultText)); var g = f ? l : null; var m = p ? n.retrieve2(u ? u.getFormattedLabel(c, 'emphasis', null, h, d) : null, l) : null; g == null && m == null || (ve(e, i, o, r), ve(t, a, s, r, !0)), e.text = g, t.text = m } function me (e, t, i) { var a = e.style; t && (Me(a), e.setStyle(t), Se(a)), a = e.__hoverStl, i && a && (Me(a), n.extend(a, i), Se(a)) } function ve (e, t, i, a, r) { return xe(e, t, a, r), i && n.extend(e, i), e } function ye (e, t, i) { var n; var a = { isRectText: !0 }; !1 === i ? n = !0 : a.autoColor = i, xe(e, t, a, n) } function xe (e, t, i, a) { if (i = i || L, i.isRectText) { var r; i.getTextPosition ? r = i.getTextPosition(t, a) : (r = t.getShallow('position') || (a ? null : 'inside'), r === 'outside' && (r = 'top')), e.textPosition = r, e.textOffset = t.getShallow('offset'); var o = t.getShallow('rotate'); o != null && (o *= Math.PI / 180), e.textRotation = o, e.textDistance = n.retrieve2(t.getShallow('distance'), a ? null : 5) } var s; var l = t.ecModel; var u = l && l.option.textStyle; var c = _e(t); if (c) for (var h in s = {}, c) if (c.hasOwnProperty(h)) { var d = t.getModel(['rich', h]); be(s[h] = {}, d, u, i, a) } return e.rich = s, be(e, t, u, i, a, !0), i.forceRich && !i.textStyle && (i.textStyle = {}), e } function _e (e) { var t; while (e && e !== e.ecModel) { var i = (e.option || L).rich; if (i) for (var n in t = t || {}, i)i.hasOwnProperty(n) && (t[n] = 1); e = e.parentModel } return t } function be (e, t, i, a, r, o) { i = !r && i || L, e.textFill = we(t.getShallow('color'), a) || i.color, e.textStroke = we(t.getShallow('textBorderColor'), a) || i.textBorderColor, e.textStrokeWidth = n.retrieve2(t.getShallow('textBorderWidth'), i.textBorderWidth), r || (o && (e.insideRollbackOpt = a, Se(e)), e.textFill == null && (e.textFill = a.autoColor)), e.fontStyle = t.getShallow('fontStyle') || i.fontStyle, e.fontWeight = t.getShallow('fontWeight') || i.fontWeight, e.fontSize = t.getShallow('fontSize') || i.fontSize, e.fontFamily = t.getShallow('fontFamily') || i.fontFamily, e.textAlign = t.getShallow('align'), e.textVerticalAlign = t.getShallow('verticalAlign') || t.getShallow('baseline'), e.textLineHeight = t.getShallow('lineHeight'), e.textWidth = t.getShallow('width'), e.textHeight = t.getShallow('height'), e.textTag = t.getShallow('tag'), o && a.disableBox || (e.textBackgroundColor = we(t.getShallow('backgroundColor'), a), e.textPadding = t.getShallow('padding'), e.textBorderColor = we(t.getShallow('borderColor'), a), e.textBorderWidth = t.getShallow('borderWidth'), e.textBorderRadius = t.getShallow('borderRadius'), e.textBoxShadowColor = t.getShallow('shadowColor'), e.textBoxShadowBlur = t.getShallow('shadowBlur'), e.textBoxShadowOffsetX = t.getShallow('shadowOffsetX'), e.textBoxShadowOffsetY = t.getShallow('shadowOffsetY')), e.textShadowColor = t.getShallow('textShadowColor') || i.textShadowColor, e.textShadowBlur = t.getShallow('textShadowBlur') || i.textShadowBlur, e.textShadowOffsetX = t.getShallow('textShadowOffsetX') || i.textShadowOffsetX, e.textShadowOffsetY = t.getShallow('textShadowOffsetY') || i.textShadowOffsetY } function we (e, t) { return e !== 'auto' ? e : t && t.autoColor ? t.autoColor : null } function Se (e) { var t; var i = e.textPosition; var n = e.insideRollbackOpt; if (n && e.textFill == null) { var a = n.autoColor; var r = n.isRectText; var o = n.useInsideStyle; var s = !1 !== o && (!0 === o || r && i && typeof i === 'string' && i.indexOf('inside') >= 0); var l = !s && a != null; (s || l) && (t = { textFill: e.textFill, textStroke: e.textStroke, textStrokeWidth: e.textStrokeWidth }), s && (e.textFill = '#fff', e.textStroke == null && (e.textStroke = a, e.textStrokeWidth == null && (e.textStrokeWidth = 2))), l && (e.textFill = a) }e.insideRollback = t } function Me (e) { var t = e.insideRollback; t && (e.textFill = t.textFill, e.textStroke = t.textStroke, e.textStrokeWidth = t.textStrokeWidth, e.insideRollback = null) } function Ie (e, t) { var i = t && t.getModel('textStyle'); return n.trim([e.fontStyle || i && i.getShallow('fontStyle') || '', e.fontWeight || i && i.getShallow('fontWeight') || '', (e.fontSize || i && i.getShallow('fontSize') || 12) + 'px', e.fontFamily || i && i.getShallow('fontFamily') || 'sans-serif'].join(' ')) } function Ae (e, t, i, n, a, r) { typeof a === 'function' && (r = a, a = null); var o = n && n.isAnimationEnabled(); if (o) { var s = e ? 'Update' : ''; var l = n.getShallow('animationDuration' + s); var u = n.getShallow('animationEasing' + s); var c = n.getShallow('animationDelay' + s); typeof c === 'function' && (c = c(a, n.getAnimationDelayParams ? n.getAnimationDelayParams(t, a) : null)), typeof l === 'function' && (l = l(a)), l > 0 ? t.animateTo(i, l, c || 0, u, r, !!r) : (t.stopAnimation(), t.attr(i), r && r()) } else t.stopAnimation(), t.attr(i), r && r() } function Te (e, t, i, n, a) { Ae(!0, e, t, i, n, a) } function Ce (e, t, i, n, a) { Ae(!1, e, t, i, n, a) } function De (e, t) { var i = o.identity([]); while (e && e !== t)o.mul(i, e.getLocalTransform(), i), e = e.parent; return i } function Le (e, t, i) { return t && !n.isArrayLike(t) && (t = u.getLocalTransform(t)), i && (t = o.invert([], t)), s.applyTransform([], e, t) } function Pe (e, t, i) { var n = t[4] === 0 || t[5] === 0 || t[0] === 0 ? 1 : Math.abs(2 * t[4] / t[0]); var a = t[4] === 0 || t[5] === 0 || t[2] === 0 ? 1 : Math.abs(2 * t[4] / t[2]); var r = [e === 'left' ? -n : e === 'right' ? n : 0, e === 'top' ? -a : e === 'bottom' ? a : 0]; return r = Le(r, t, i), Math.abs(r[0]) > Math.abs(r[1]) ? r[0] > 0 ? 'right' : 'left' : r[1] > 0 ? 'bottom' : 'top' } function ke (e, t, i, a) { if (e && t) { var r = o(e); t.traverse(function (e) { if (!e.isGroup && e.anid) { var t = r[e.anid]; if (t) { var n = l(e); e.attr(l(t)), Te(e, n, i, e.dataIndex) } } }) } function o (e) { var t = {}; return e.traverse(function (e) { !e.isGroup && e.anid && (t[e.anid] = e) }), t } function l (e) { var t = { position: s.clone(e.position), rotation: e.rotation }; return e.shape && (t.shape = n.extend({}, e.shape)), t } } function Oe (e, t) { return n.map(e, function (e) { var i = e[0]; i = C(i, t.x), i = D(i, t.x + t.width); var n = e[1]; return n = C(n, t.y), n = D(n, t.y + t.height), [i, n] }) } function Re (e, t) { var i = C(e.x, t.x); var n = D(e.x + e.width, t.x + t.width); var a = C(e.y, t.y); var r = D(e.y + e.height, t.y + t.height); if (n >= i && r >= a) return { x: i, y: a, width: n - i, height: r - a } } function Ee (e, t, i) { t = n.extend({ rectHover: !0 }, t); var a = t.style = { strokeNoScale: !0 }; if (i = i || { x: -1, y: -1, width: 2, height: 2 }, e) return e.indexOf('image://') === 0 ? (a.image = e.slice(8), n.defaults(a, i), new c(t)) : H(e.replace('path://', ''), t, i, 'center') } function Ne (e, t, i, n, a) { for (var r = 0, o = a[a.length - 1]; r < a.length; r++) { var s = a[r]; if (ze(e, t, i, n, s[0], s[1], o[0], o[1])) return !0; o = s } } function ze (e, t, i, n, a, r, o, s) { var l = i - e; var u = n - t; var c = o - a; var h = s - r; var d = Be(c, h, l, u); if (Ve(d)) return !1; var f = e - a; var p = t - r; var g = Be(f, p, l, u) / d; if (g < 0 || g > 1) return !1; var m = Be(f, p, c, h) / d; return !(m < 0 || m > 1) } function Be (e, t, i, n) { return e * n - i * t } function Ve (e) { return e <= 1e-6 && e >= -1e-6 }G('circle', f), G('sector', p), G('ring', g), G('polygon', m), G('polyline', v), G('rect', y), G('line', x), G('bezierCurve', _), G('arc', b), t.Z2_EMPHASIS_LIFT = P, t.CACHED_LABEL_STYLE_PROPERTIES = k, t.extendShape = B, t.extendPath = V, t.registerShape = G, t.getShapeClass = F, t.makePath = H, t.makeImage = W, t.mergePath = Z, t.resizePath = Y, t.subPixelOptimizeLine = j, t.subPixelOptimizeRect = X, t.subPixelOptimize = q, t.setElementHoverStyle = re, t.setHoverStyle = he, t.setAsHighDownDispatcher = de, t.isHighDownDispatcher = fe, t.getHighlightDigit = pe, t.setLabelStyle = ge, t.modifyLabelStyle = me, t.setTextStyle = ve, t.setText = ye, t.getFont = Ie, t.updateProps = Te, t.initProps = Ce, t.getTransform = De, t.applyTransform = Le, t.transformDirection = Pe, t.groupTransition = ke, t.clipPointsByRect = Oe, t.clipRectByRect = Re, t.createIcon = Ee, t.linePolygonIntersect = Ne, t.lineLineIntersect = ze }, 2325: function (e, t, i) { var n = i('6d8b'); var a = i('607d'); var r = i('2306'); var o = i('88b3'); var s = i('7dcf'); var l = i('3842'); var u = i('f934'); var c = i('ef6a'); var h = r.Rect; var d = l.linearMap; var f = l.asc; var p = n.bind; var g = n.each; var m = 7; var v = 1; var y = 30; var x = 'horizontal'; var _ = 'vertical'; var b = 5; var w = ['line', 'bar', 'candlestick', 'scatter']; var S = s.extend({ type: 'dataZoom.slider', init: function (e, t) { this._displayables = {}, this._orient, this._range, this._handleEnds, this._size, this._handleWidth, this._handleHeight, this._location, this._dragging, this._dataShadowInfo, this.api = t }, render: function (e, t, i, n) { S.superApply(this, 'render', arguments), o.createOrUpdate(this, '_dispatchZoomAction', this.dataZoomModel.get('throttle'), 'fixRate'), this._orient = e.get('orient'), !1 !== this.dataZoomModel.get('show') ? (n && n.type === 'dataZoom' && n.from === this.uid || this._buildView(), this._updateView()) : this.group.removeAll() }, remove: function () { S.superApply(this, 'remove', arguments), o.clear(this, '_dispatchZoomAction') }, dispose: function () { S.superApply(this, 'dispose', arguments), o.clear(this, '_dispatchZoomAction') }, _buildView: function () { var e = this.group; e.removeAll(), this._resetLocation(), this._resetInterval(); var t = this._displayables.barGroup = new r.Group(); this._renderBackground(), this._renderHandle(), this._renderDataShadow(), e.add(t), this._positionGroup() }, _resetLocation: function () { var e = this.dataZoomModel; var t = this.api; var i = this._findCoordRect(); var a = { width: t.getWidth(), height: t.getHeight() }; var r = this._orient === x ? { right: a.width - i.x - i.width, top: a.height - y - m, width: i.width, height: y } : { right: m, top: i.y, width: y, height: i.height }; var o = u.getLayoutParams(e.option); n.each(['right', 'top', 'width', 'height'], function (e) { o[e] === 'ph' && (o[e] = r[e]) }); var s = u.getLayoutRect(o, a, e.padding); this._location = { x: s.x, y: s.y }, this._size = [s.width, s.height], this._orient === _ && this._size.reverse() }, _positionGroup: function () { var e = this.group; var t = this._location; var i = this._orient; var n = this.dataZoomModel.getFirstTargetAxisModel(); var a = n && n.get('inverse'); var r = this._displayables.barGroup; var o = (this._dataShadowInfo || {}).otherAxisInverse; r.attr(i !== x || a ? i === x && a ? { scale: o ? [-1, 1] : [-1, -1] } : i !== _ || a ? { scale: o ? [-1, -1] : [-1, 1], rotation: Math.PI / 2 } : { scale: o ? [1, -1] : [1, 1], rotation: Math.PI / 2 } : { scale: o ? [1, 1] : [1, -1] }); var s = e.getBoundingRect([r]); e.attr('position', [t.x - s.x, t.y - s.y]) }, _getViewExtent: function () { return [0, this._size[0]] }, _renderBackground: function () { var e = this.dataZoomModel; var t = this._size; var i = this._displayables.barGroup; i.add(new h({ silent: !0, shape: { x: 0, y: 0, width: t[0], height: t[1] }, style: { fill: e.get('backgroundColor') }, z2: -40 })), i.add(new h({ shape: { x: 0, y: 0, width: t[0], height: t[1] }, style: { fill: 'transparent' }, z2: 0, onclick: n.bind(this._onClickPanelClick, this) })) }, _renderDataShadow: function () { var e = this._dataShadowInfo = this._prepareDataShadowInfo(); if (e) { var t = this._size; var i = e.series; var a = i.getRawData(); var o = i.getShadowDim ? i.getShadowDim() : e.otherDim; if (o != null) { var s = a.getDataExtent(o); var l = 0.3 * (s[1] - s[0]); s = [s[0] - l, s[1] + l]; var u; var c = [0, t[1]]; var h = [0, t[0]]; var f = [[t[0], 0], [0, 0]]; var p = []; var g = h[1] / (a.count() - 1); var m = 0; var v = Math.round(a.count() / t[0]); a.each([o], function (e, t) { if (v > 0 && t % v)m += g; else { var i = e == null || isNaN(e) || e === ''; var n = i ? 0 : d(e, s, c, !0); i && !u && t ? (f.push([f[f.length - 1][0], 0]), p.push([p[p.length - 1][0], 0])) : !i && u && (f.push([m, 0]), p.push([m, 0])), f.push([m, n]), p.push([m, n]), m += g, u = i } }); var y = this.dataZoomModel; this._displayables.barGroup.add(new r.Polygon({ shape: { points: f }, style: n.defaults({ fill: y.get('dataBackgroundColor') }, y.getModel('dataBackground.areaStyle').getAreaStyle()), silent: !0, z2: -20 })), this._displayables.barGroup.add(new r.Polyline({ shape: { points: p }, style: y.getModel('dataBackground.lineStyle').getLineStyle(), silent: !0, z2: -19 })) } } }, _prepareDataShadowInfo: function () { var e = this.dataZoomModel; var t = e.get('showDataShadow'); if (!1 !== t) { var i; var a = this.ecModel; return e.eachTargetAxis(function (r, o) { var s = e.getAxisProxy(r.name, o).getTargetSeriesModels(); n.each(s, function (e) { if (!i && !(!0 !== t && n.indexOf(w, e.get('type')) < 0)) { var s; var l = a.getComponent(r.axis, o).axis; var u = M(r.name); var c = e.coordinateSystem; u != null && c.getOtherAxis && (s = c.getOtherAxis(l).inverse), u = e.getData().mapDimension(u), i = { thisAxis: l, series: e, thisDim: r.name, otherDim: u, otherAxisInverse: s } } }, this) }, this), i } }, _renderHandle: function () { var e = this._displayables; var t = e.handles = []; var i = e.handleLabels = []; var n = this._displayables.barGroup; var a = this._size; var o = this.dataZoomModel; n.add(e.filler = new h({ draggable: !0, cursor: I(this._orient), drift: p(this._onDragMove, this, 'all'), ondragstart: p(this._showDataInfo, this, !0), ondragend: p(this._onDragEnd, this), onmouseover: p(this._showDataInfo, this, !0), onmouseout: p(this._showDataInfo, this, !1), style: { fill: o.get('fillerColor'), textPosition: 'inside' } })), n.add(new h({ silent: !0, subPixelOptimize: !0, shape: { x: 0, y: 0, width: a[0], height: a[1] }, style: { stroke: o.get('dataBackgroundColor') || o.get('borderColor'), lineWidth: v, fill: 'rgba(0,0,0,0)' } })), g([0, 1], function (e) { var a = r.createIcon(o.get('handleIcon'), { cursor: I(this._orient), draggable: !0, drift: p(this._onDragMove, this, e), ondragend: p(this._onDragEnd, this), onmouseover: p(this._showDataInfo, this, !0), onmouseout: p(this._showDataInfo, this, !1) }, { x: -1, y: 0, width: 2, height: 2 }); var s = a.getBoundingRect(); this._handleHeight = l.parsePercent(o.get('handleSize'), this._size[1]), this._handleWidth = s.width / s.height * this._handleHeight, a.setStyle(o.getModel('handleStyle').getItemStyle()); var u = o.get('handleColor'); u != null && (a.style.fill = u), n.add(t[e] = a); var c = o.textStyleModel; this.group.add(i[e] = new r.Text({ silent: !0, invisible: !0, style: { x: 0, y: 0, text: '', textVerticalAlign: 'middle', textAlign: 'center', textFill: c.getTextColor(), textFont: c.getFont() }, z2: 10 })) }, this) }, _resetInterval: function () { var e = this._range = this.dataZoomModel.getPercentRange(); var t = this._getViewExtent(); this._handleEnds = [d(e[0], [0, 100], t, !0), d(e[1], [0, 100], t, !0)] }, _updateInterval: function (e, t) { var i = this.dataZoomModel; var n = this._handleEnds; var a = this._getViewExtent(); var r = i.findRepresentativeAxisProxy().getMinMaxSpan(); var o = [0, 100]; c(t, n, a, i.get('zoomLock') ? 'all' : e, r.minSpan != null ? d(r.minSpan, o, a, !0) : null, r.maxSpan != null ? d(r.maxSpan, o, a, !0) : null); var s = this._range; var l = this._range = f([d(n[0], a, o, !0), d(n[1], a, o, !0)]); return !s || s[0] !== l[0] || s[1] !== l[1] }, _updateView: function (e) { var t = this._displayables; var i = this._handleEnds; var n = f(i.slice()); var a = this._size; g([0, 1], function (e) { var n = t.handles[e]; var r = this._handleHeight; n.attr({ scale: [r / 2, r / 2], position: [i[e], a[1] / 2 - r / 2] }) }, this), t.filler.setShape({ x: n[0], y: 0, width: n[1] - n[0], height: a[1] }), this._updateDataInfo(e) }, _updateDataInfo: function (e) { var t = this.dataZoomModel; var i = this._displayables; var n = i.handleLabels; var a = this._orient; var o = ['', '']; if (t.get('showDetail')) { var s = t.findRepresentativeAxisProxy(); if (s) { var l = s.getAxisModel().axis; var u = this._range; var c = e ? s.calculateDataWindow({ start: u[0], end: u[1] }).valueWindow : s.getDataValueWindow(); o = [this._formatLabel(c[0], l), this._formatLabel(c[1], l)] } } var h = f(this._handleEnds.slice()); function d (e) { var t = r.getTransform(i.handles[e].parent, this.group); var s = r.transformDirection(e === 0 ? 'right' : 'left', t); var l = this._handleWidth / 2 + b; var u = r.applyTransform([h[e] + (e === 0 ? -l : l), this._size[1] / 2], t); n[e].setStyle({ x: u[0], y: u[1], textVerticalAlign: a === x ? 'middle' : s, textAlign: a === x ? s : 'center', text: o[e] }) }d.call(this, 0), d.call(this, 1) }, _formatLabel: function (e, t) { var i = this.dataZoomModel; var a = i.get('labelFormatter'); var r = i.get('labelPrecision'); r != null && r !== 'auto' || (r = t.getPixelPrecision()); var o = e == null || isNaN(e) ? '' : t.type === 'category' || t.type === 'time' ? t.scale.getLabel(Math.round(e)) : e.toFixed(Math.min(r, 20)); return n.isFunction(a) ? a(e, o) : n.isString(a) ? a.replace('{value}', o) : o }, _showDataInfo: function (e) { e = this._dragging || e; var t = this._displayables.handleLabels; t[0].attr('invisible', !e), t[1].attr('invisible', !e) }, _onDragMove: function (e, t, i, n) { this._dragging = !0, a.stop(n.event); var o = this._displayables.barGroup.getLocalTransform(); var s = r.applyTransform([t, i], o, !0); var l = this._updateInterval(e, s[0]); var u = this.dataZoomModel.get('realtime'); this._updateView(!u), l && u && this._dispatchZoomAction() }, _onDragEnd: function () { this._dragging = !1, this._showDataInfo(!1); var e = this.dataZoomModel.get('realtime'); !e && this._dispatchZoomAction() }, _onClickPanelClick: function (e) { var t = this._size; var i = this._displayables.barGroup.transformCoordToLocal(e.offsetX, e.offsetY); if (!(i[0] < 0 || i[0] > t[0] || i[1] < 0 || i[1] > t[1])) { var n = this._handleEnds; var a = (n[0] + n[1]) / 2; var r = this._updateInterval('all', i[0] - a); this._updateView(), r && this._dispatchZoomAction() } }, _dispatchZoomAction: function () { var e = this._range; this.api.dispatchAction({ type: 'dataZoom', from: this.uid, dataZoomId: this.dataZoomModel.id, start: e[0], end: e[1] }) }, _findCoordRect: function () { var e; if (g(this.getTargetCoordInfo(), function (t) { if (!e && t.length) { var i = t[0].model.coordinateSystem; e = i.getRect && i.getRect() } }), !e) { var t = this.api.getWidth(); var i = this.api.getHeight(); e = { x: 0.2 * t, y: 0.2 * i, width: 0.6 * t, height: 0.6 * i } } return e } }); function M (e) { var t = { x: 'y', y: 'x', radius: 'angle', angle: 'radius' }; return t[e] } function I (e) { return e === 'vertical' ? 'ns-resize' : 'ew-resize' } var A = S; e.exports = A }, '237f': function (e, t, i) { var n = i('6d8b'); var a = i('6179'); var r = i('7368'); var o = i('31d9'); var s = i('b1d4'); var l = i('2039'); var u = i('3301'); function c (e, t, i, c, h) { for (var d = new r(c), f = 0; f < e.length; f++)d.addNode(n.retrieve(e[f].id, e[f].name, f), f); var p = []; var g = []; var m = 0; for (f = 0; f < t.length; f++) { var v = t[f]; var y = v.source; var x = v.target; d.addEdge(y, x, m) && (g.push(v), p.push(n.retrieve(v.id, y + ' > ' + x)), m++) } var _; var b = i.get('coordinateSystem'); if (b === 'cartesian2d' || b === 'polar')_ = u(e, i); else { var w = l.get(b); var S = w && w.type !== 'view' && w.dimensions || []; n.indexOf(S, 'value') < 0 && S.concat(['value']); var M = s(e, { coordDimensions: S }); _ = new a(M, i), _.initData(e) } var I = new a(['value'], i); return I.initData(g, p), h && h(_, I), o({ mainData: _, struct: d, structAttr: 'graph', datas: { node: _, edge: I }, datasAttr: { node: 'data', edge: 'edgeData' } }), d.update(), d }e.exports = c }, '23e0': function (e, t, i) { var n = i('6d8b'); var a = i('7887'); var r = i('89e3'); var o = i('3842'); var s = i('697e'); var l = s.getScaleExtent; var u = s.niceScaleExtent; var c = i('2039'); var h = i('8c2a'); function d (e, t, i) { this._model = e, this.dimensions = [], this._indicatorAxes = n.map(e.getIndicatorModels(), function (e, t) { var i = 'indicator_' + t; var n = new a(i, e.get('axisType') === 'log' ? new h() : new r()); return n.name = e.get('name'), n.model = e, e.axis = n, this.dimensions.push(i), n }, this), this.resize(e, i), this.cx, this.cy, this.r, this.r0, this.startAngle }d.prototype.getIndicatorAxes = function () { return this._indicatorAxes }, d.prototype.dataToPoint = function (e, t) { var i = this._indicatorAxes[t]; return this.coordToPoint(i.dataToCoord(e), t) }, d.prototype.coordToPoint = function (e, t) { var i = this._indicatorAxes[t]; var n = i.angle; var a = this.cx + e * Math.cos(n); var r = this.cy - e * Math.sin(n); return [a, r] }, d.prototype.pointToData = function (e) { var t = e[0] - this.cx; var i = e[1] - this.cy; var n = Math.sqrt(t * t + i * i); t /= n, i /= n; for (var a, r = Math.atan2(-i, t), o = 1 / 0, s = -1, l = 0; l < this._indicatorAxes.length; l++) { var u = this._indicatorAxes[l]; var c = Math.abs(r - u.angle); c < o && (a = u, s = l, o = c) } return [s, +(a && a.coordToData(n))] }, d.prototype.resize = function (e, t) { var i = e.get('center'); var a = t.getWidth(); var r = t.getHeight(); var s = Math.min(a, r) / 2; this.cx = o.parsePercent(i[0], a), this.cy = o.parsePercent(i[1], r), this.startAngle = e.get('startAngle') * Math.PI / 180; var l = e.get('radius'); typeof l !== 'string' && typeof l !== 'number' || (l = [0, l]), this.r0 = o.parsePercent(l[0], s), this.r = o.parsePercent(l[1], s), n.each(this._indicatorAxes, function (e, t) { e.setExtent(this.r0, this.r); var i = this.startAngle + t * Math.PI * 2 / this._indicatorAxes.length; i = Math.atan2(Math.sin(i), Math.cos(i)), e.angle = i }, this) }, d.prototype.update = function (e, t) { var i = this._indicatorAxes; var a = this._model; n.each(i, function (e) { e.scale.setExtent(1 / 0, -1 / 0) }), e.eachSeriesByType('radar', function (t, r) { if (t.get('coordinateSystem') === 'radar' && e.getComponent('radar', t.get('radarIndex')) === a) { var o = t.getData(); n.each(i, function (e) { e.scale.unionExtentFromData(o, o.mapDimension(e.dim)) }) } }, this); var r = a.get('splitNumber'); function s (e) { var t = Math.pow(10, Math.floor(Math.log(e) / Math.LN10)); var i = e / t; return i === 2 ? i = 5 : i *= 2, i * t }n.each(i, function (e, t) { var i = l(e.scale, e.model).extent; u(e.scale, e.model); var n = e.model; var a = e.scale; var c = n.getMin(); var h = n.getMax(); var d = a.getInterval(); if (c != null && h != null)a.setExtent(+c, +h), a.setInterval((h - c) / r); else if (c != null) { do { p = c + d * r, a.setExtent(+c, p), a.setInterval(d), d = s(d) } while (p < i[1] && isFinite(p) && isFinite(i[1])) } else if (h != null) { do { g = h - d * r, a.setExtent(g, +h), a.setInterval(d), d = s(d) } while (g > i[0] && isFinite(g) && isFinite(i[0])) } else { var f = a.getTicks().length - 1; f > r && (d = s(d)); var p = Math.ceil(i[1] / d) * d; var g = o.round(p - d * r); a.setExtent(g, p), a.setInterval(d) } }) }, d.dimensions = [], d.create = function (e, t) { var i = []; return e.eachComponent('radar', function (n) { var a = new d(n, e, t); i.push(a), n.coordinateSystem = a }), e.eachSeriesByType('radar', function (e) { e.get('coordinateSystem') === 'radar' && (e.coordinateSystem = i[e.get('radarIndex') || 0]) }), i }, c.register('radar', d); var f = d; e.exports = f }, '23ee': function (e, t, i) { var n = i('3eba'); i('879e'), i('9704'), i('d747'); var a = i('675a'); var r = i('7f96'); var o = i('2943'); var s = i('de6e'); var l = i('d357'); var u = i('adda'); var c = i('5866'); var h = i('7b0c'); n.registerProcessor(a), n.registerVisual(r('graph', 'circle', null)), n.registerVisual(o), n.registerVisual(s), n.registerLayout(l), n.registerLayout(n.PRIORITY.VISUAL.POST_CHART_LAYOUT, u), n.registerLayout(c), n.registerCoordinateSystem('graphView', { create: h }) }, 2449: function (e, t, i) { var n = i('4e08'); var a = (n.__DEV__, i('3eba')); var r = i('6d8b'); var o = i('22d1'); var s = i('e0d3'); var l = i('eda2'); var u = i('38a2'); var c = l.addCommas; var h = l.encodeHTML; function d (e) { s.defaultEmphasis(e, 'label', ['show']) } var f = a.extendComponentModel({ type: 'marker', dependencies: ['series', 'grid', 'polar', 'geo'], init: function (e, t, i) { this.mergeDefaultAndTheme(e, i), this._mergeOption(e, i, !1, !0) }, isAnimationEnabled: function () { if (o.node) return !1; var e = this.__hostSeries; return this.getShallow('animation') && e && e.isAnimationEnabled() }, mergeOption: function (e, t) { this._mergeOption(e, t, !1, !1) }, _mergeOption: function (e, t, i, n) { var a = this.constructor; var o = this.mainType + 'Model'; i || t.eachSeries(function (e) { var i = e.get(this.mainType, !0); var s = e[o]; i && i.data ? (s ? s._mergeOption(i, t, !0) : (n && d(i), r.each(i.data, function (e) { e instanceof Array ? (d(e[0]), d(e[1])) : d(e) }), s = new a(i, this, t), r.extend(s, { mainType: this.mainType, seriesIndex: e.seriesIndex, name: e.name, createdBySelf: !0 }), s.__hostSeries = e), e[o] = s) : e[o] = null }, this) }, formatTooltip: function (e, t, i, n) { var a = this.getData(); var o = this.getRawValue(e); var s = r.isArray(o) ? r.map(o, c).join(', ') : c(o); var l = a.getName(e); var u = h(this.name); var d = n === 'html' ? '<br/>' : '\n'; return (o != null || l) && (u += d), l && (u += h(l), o != null && (u += ' : ')), o != null && (u += h(s)), u }, getData: function () { return this._data }, setData: function (e) { this._data = e } }); r.mixin(f, u); var p = f; e.exports = p }, '24b9': function (e, t, i) { var n = i('4e08'); var a = (n.__DEV__, i('f934')); var r = i('3842'); var o = r.parsePercent; var s = r.linearMap; function l (e, t) { return a.getLayoutRect(e.getBoxLayoutParams(), { width: t.getWidth(), height: t.getHeight() }) } function u (e, t) { for (var i = e.mapDimension('value'), n = e.mapArray(i, function (e) { return e }), a = [], r = t === 'ascending', o = 0, s = e.count(); o < s; o++)a[o] = o; return typeof t === 'function' ? a.sort(t) : t !== 'none' && a.sort(function (e, t) { return r ? n[e] - n[t] : n[t] - n[e] }), a } function c (e) { e.each(function (t) { var i; var n; var a; var r; var o = e.getItemModel(t); var s = o.getModel('label'); var l = s.get('position'); var u = o.get('orient'); var c = o.getModel('labelLine'); var h = e.getItemLayout(t); var d = h.points; var f = l === 'inner' || l === 'inside' || l === 'center' || l === 'insideLeft' || l === 'insideRight'; if (f)l === 'insideLeft' ? (n = (d[0][0] + d[3][0]) / 2 + 5, a = (d[0][1] + d[3][1]) / 2, i = 'left') : l === 'insideRight' ? (n = (d[1][0] + d[2][0]) / 2 - 5, a = (d[1][1] + d[2][1]) / 2, i = 'right') : (n = (d[0][0] + d[1][0] + d[2][0] + d[3][0]) / 4, a = (d[0][1] + d[1][1] + d[2][1] + d[3][1]) / 4, i = 'center'), r = [[n, a], [n, a]]; else { var p; var g; var m; var v; var y = c.get('length'); l === 'left' ? (p = (d[3][0] + d[0][0]) / 2, g = (d[3][1] + d[0][1]) / 2, m = p - y, n = m - 5, i = 'right') : l === 'right' ? (p = (d[1][0] + d[2][0]) / 2, g = (d[1][1] + d[2][1]) / 2, m = p + y, n = m + 5, i = 'left') : l === 'top' ? (p = (d[3][0] + d[0][0]) / 2, g = (d[3][1] + d[0][1]) / 2, v = g - y, a = v - 5, i = 'center') : l === 'bottom' ? (p = (d[1][0] + d[2][0]) / 2, g = (d[1][1] + d[2][1]) / 2, v = g + y, a = v + 5, i = 'center') : l === 'rightTop' ? (p = u === 'horizontal' ? d[3][0] : d[1][0], g = u === 'horizontal' ? d[3][1] : d[1][1], u === 'horizontal' ? (v = g - y, a = v - 5, i = 'center') : (m = p + y, n = m + 5, i = 'top')) : l === 'rightBottom' ? (p = d[2][0], g = d[2][1], u === 'horizontal' ? (v = g + y, a = v + 5, i = 'center') : (m = p + y, n = m + 5, i = 'bottom')) : l === 'leftTop' ? (p = d[0][0], g = u === 'horizontal' ? d[0][1] : d[1][1], u === 'horizontal' ? (v = g - y, a = v - 5, i = 'center') : (m = p - y, n = m - 5, i = 'right')) : l === 'leftBottom' ? (p = u === 'horizontal' ? d[1][0] : d[3][0], g = u === 'horizontal' ? d[1][1] : d[2][1], u === 'horizontal' ? (v = g + y, a = v + 5, i = 'center') : (m = p - y, n = m - 5, i = 'right')) : (p = (d[1][0] + d[2][0]) / 2, g = (d[1][1] + d[2][1]) / 2, u === 'horizontal' ? (v = g + y, a = v + 5, i = 'center') : (m = p + y, n = m + 5, i = 'left')), u === 'horizontal' ? (m = p, n = m) : (v = g, a = v), r = [[p, g], [m, v]] }h.label = { linePoints: r, x: n, y: a, verticalAlign: 'middle', textAlign: i, inside: f } }) } function h (e, t, i) { e.eachSeriesByType('funnel', function (e) { var i = e.getData(); var n = i.mapDimension('value'); var a = e.get('sort'); var r = l(e, t); var h = u(i, a); var d = e.get('orient'); var f = r.width; var p = r.height; var g = r.x; var m = r.y; var v = d === 'horizontal' ? [o(e.get('minSize'), p), o(e.get('maxSize'), p)] : [o(e.get('minSize'), f), o(e.get('maxSize'), f)]; var y = i.getDataExtent(n); var x = e.get('min'); var _ = e.get('max'); x == null && (x = Math.min(y[0], 0)), _ == null && (_ = y[1]); var b = e.get('funnelAlign'); var w = e.get('gap'); var S = d === 'horizontal' ? f : p; var M = (S - w * (i.count() - 1)) / i.count(); var I = function (e, t) { if (d === 'horizontal') { var a; var r = i.get(n, e) || 0; var o = s(r, [x, _], v, !0); switch (b) { case 'top':a = m; break; case 'center':a = m + (p - o) / 2; break; case 'bottom':a = m + (p - o); break } return [[t, a], [t, a + o]] }r = i.get(n, e) || 0; var l; var u = s(r, [x, _], v, !0); switch (b) { case 'left':l = g; break; case 'center':l = g + (f - u) / 2; break; case 'right':l = g + f - u; break } return [[l, t], [l + u, t]] }; a === 'ascending' && (M = -M, w = -w, d === 'horizontal' ? g += f : m += p, h = h.reverse()); for (var A = 0; A < h.length; A++) { var T = h[A]; var C = h[A + 1]; var D = i.getItemModel(T); if (d === 'horizontal') { var L = D.get('itemStyle.width'); L == null ? L = M : (L = o(L, f), a === 'ascending' && (L = -L)); var P = I(T, g); var k = I(C, g + L); g += L + w, i.setItemLayout(T, { points: P.concat(k.slice().reverse()) }) } else { var O = D.get('itemStyle.height'); O == null ? O = M : (O = o(O, p), a === 'ascending' && (O = -O)); P = I(T, d === 'horizontal' ? g : m), k = I(C, d === 'horizontal' ? g + L : m + O); m += O + w, i.setItemLayout(T, { points: P.concat(k.slice().reverse()) }) } }c(i) }) }e.exports = h }, '255c': function (e, t, i) { var n = i('3eba'); var a = i('d4d1'); var r = a.Polygon; var o = i('2306'); var s = i('6d8b'); var l = s.bind; var u = s.extend; var c = i('80f0'); var h = n.extendChartView({ type: 'themeRiver', init: function () { this._layers = [] }, render: function (e, t, i) { var n = e.getData(); var a = this.group; var s = e.getLayerSeries(); var h = n.getLayout('layoutInfo'); var f = h.rect; var p = h.boundaryGap; function g (e) { return e.name }a.attr('position', [0, f.y + p[0]]); var m = new c(this._layersSeries || [], s, g, g); var v = {}; function y (t, i, l) { var c = this._layers; if (t !== 'remove') { for (var h, f, p, g = [], m = [], y = s[i].indices, x = 0; x < y.length; x++) { var _ = n.getItemLayout(y[x]); var b = _.x; var w = _.y0; var S = _.y; g.push([b, w]), m.push([b, w + S]), h = n.getItemVisual(y[x], 'color') } var M = n.getItemLayout(y[0]); var I = n.getItemModel(y[x - 1]); var A = I.getModel('label'); var T = A.get('margin'); if (t === 'add') { var C = v[i] = new o.Group(); f = new r({ shape: { points: g, stackedOnPoints: m, smooth: 0.4, stackedOnSmooth: 0.4, smoothConstraint: !1 }, z2: 0 }), p = new o.Text({ style: { x: M.x - T, y: M.y0 + M.y / 2 } }), C.add(f), C.add(p), a.add(C), f.setClipPath(d(f.getBoundingRect(), e, function () { f.removeClipPath() })) } else { C = c[l]; f = C.childAt(0), p = C.childAt(1), a.add(C), v[i] = C, o.updateProps(f, { shape: { points: g, stackedOnPoints: m } }, e), o.updateProps(p, { style: { x: M.x - T, y: M.y0 + M.y / 2 } }, e) } var D = I.getModel('emphasis.itemStyle'); var L = I.getModel('itemStyle'); o.setTextStyle(p.style, A, { text: A.get('show') ? e.getFormattedLabel(y[x - 1], 'normal') || n.getName(y[x - 1]) : null, textVerticalAlign: 'middle' }), f.setStyle(u({ fill: h }, L.getItemStyle(['color']))), o.setHoverStyle(f, D.getItemStyle()) } else a.remove(c[i]) }m.add(l(y, this, 'add')).update(l(y, this, 'update')).remove(l(y, this, 'remove')).execute(), this._layersSeries = s, this._layers = v }, dispose: function () {} }); function d (e, t, i) { var n = new o.Rect({ shape: { x: e.x - 10, y: e.y - 10, width: 0, height: e.height + 20 } }); return o.initProps(n, { shape: { width: e.width + 20, height: e.height + 20 } }, t, i), n }e.exports = h }, '26e1': function (e, t, i) { var n = i('6d8b'); var a = i('e0d3'); var r = n.each; var o = n.isObject; var s = ['areaStyle', 'lineStyle', 'nodeStyle', 'linkStyle', 'chordStyle', 'label', 'labelLine']; function l (e) { var t = e && e.itemStyle; if (t) for (var i = 0, a = s.length; i < a; i++) { var r = s[i]; var o = t.normal; var l = t.emphasis; o && o[r] && (e[r] = e[r] || {}, e[r].normal ? n.merge(e[r].normal, o[r]) : e[r].normal = o[r], o[r] = null), l && l[r] && (e[r] = e[r] || {}, e[r].emphasis ? n.merge(e[r].emphasis, l[r]) : e[r].emphasis = l[r], l[r] = null) } } function u (e, t, i) { if (e && e[t] && (e[t].normal || e[t].emphasis)) { var a = e[t].normal; var r = e[t].emphasis; a && (i ? (e[t].normal = e[t].emphasis = null, n.defaults(e[t], a)) : e[t] = a), r && (e.emphasis = e.emphasis || {}, e.emphasis[t] = r) } } function c (e) { u(e, 'itemStyle'), u(e, 'lineStyle'), u(e, 'areaStyle'), u(e, 'label'), u(e, 'labelLine'), u(e, 'upperLabel'), u(e, 'edgeLabel') } function h (e, t) { var i = o(e) && e[t]; var n = o(i) && i.textStyle; if (n) for (var r = 0, s = a.TEXT_STYLE_OPTIONS.length; r < s; r++) { t = a.TEXT_STYLE_OPTIONS[r]; n.hasOwnProperty(t) && (i[t] = n[t]) } } function d (e) { e && (c(e), h(e, 'label'), e.emphasis && h(e.emphasis, 'label')) } function f (e) { if (o(e)) { l(e), c(e), h(e, 'label'), h(e, 'upperLabel'), h(e, 'edgeLabel'), e.emphasis && (h(e.emphasis, 'label'), h(e.emphasis, 'upperLabel'), h(e.emphasis, 'edgeLabel')); var t = e.markPoint; t && (l(t), d(t)); var i = e.markLine; i && (l(i), d(i)); var a = e.markArea; a && d(a); var r = e.data; if (e.type === 'graph') { r = r || e.nodes; var s = e.links || e.edges; if (s && !n.isTypedArray(s)) for (var f = 0; f < s.length; f++)d(s[f]); n.each(e.categories, function (e) { c(e) }) } if (r && !n.isTypedArray(r)) for (f = 0; f < r.length; f++)d(r[f]); t = e.markPoint; if (t && t.data) { var p = t.data; for (f = 0; f < p.length; f++)d(p[f]) }i = e.markLine; if (i && i.data) { var g = i.data; for (f = 0; f < g.length; f++)n.isArray(g[f]) ? (d(g[f][0]), d(g[f][1])) : d(g[f]) }e.type === 'gauge' ? (h(e, 'axisLabel'), h(e, 'title'), h(e, 'detail')) : e.type === 'treemap' ? (u(e.breadcrumb, 'itemStyle'), n.each(e.levels, function (e) { c(e) })) : e.type === 'tree' && c(e.leaves) } } function p (e) { return n.isArray(e) ? e : e ? [e] : [] } function g (e) { return (n.isArray(e) ? e[0] : e) || {} } function m (e, t) { r(p(e.series), function (e) { o(e) && f(e) }); var i = ['xAxis', 'yAxis', 'radiusAxis', 'angleAxis', 'singleAxis', 'parallelAxis', 'radar']; t && i.push('valueAxis', 'categoryAxis', 'logAxis', 'timeAxis'), r(i, function (t) { r(p(e[t]), function (e) { e && (h(e, 'axisLabel'), h(e.axisPointer, 'label')) }) }), r(p(e.parallel), function (e) { var t = e && e.parallelAxisDefault; h(t, 'axisLabel'), h(t && t.axisPointer, 'label') }), r(p(e.calendar), function (e) { u(e, 'itemStyle'), h(e, 'dayLabel'), h(e, 'monthLabel'), h(e, 'yearLabel') }), r(p(e.radar), function (e) { h(e, 'name') }), r(p(e.geo), function (e) { o(e) && (d(e), r(p(e.regions), function (e) { d(e) })) }), r(p(e.timeline), function (e) { d(e), u(e, 'label'), u(e, 'itemStyle'), u(e, 'controlStyle', !0); var t = e.data; n.isArray(t) && n.each(t, function (e) { n.isObject(e) && (u(e, 'label'), u(e, 'itemStyle')) }) }), r(p(e.toolbox), function (e) { u(e, 'iconStyle'), r(e.feature, function (e) { u(e, 'iconStyle') }) }), h(g(e.axisPointer), 'label'), h(g(e.tooltip).axisPointer, 'label') }e.exports = m }, '282b': function (e, t, i) { var n = i('6d8b'); function a (e) { for (var t = 0; t < e.length; t++)e[t][1] || (e[t][1] = e[t][0]); return function (t, i, a) { for (var r = {}, o = 0; o < e.length; o++) { var s = e[o][1]; if (!(i && n.indexOf(i, s) >= 0 || a && n.indexOf(a, s) < 0)) { var l = t.getShallow(s); l != null && (r[e[o][0]] = l) } } return r } }e.exports = a }, '292e': function (e, t, i) { var n = i('3842'); var a = n.parsePercent; var r = n.linearMap; var o = i('f934'); var s = i('bb70'); var l = i('6d8b'); var u = 2 * Math.PI; var c = Math.PI / 180; function h (e, t) { return o.getLayoutRect(e.getBoxLayoutParams(), { width: t.getWidth(), height: t.getHeight() }) } function d (e, t, i, n) { t.eachSeriesByType(e, function (e) { var t = e.getData(); var n = t.mapDimension('value'); var o = h(e, i); var d = e.get('center'); var f = e.get('radius'); l.isArray(f) || (f = [0, f]), l.isArray(d) || (d = [d, d]); var p = a(o.width, i.getWidth()); var g = a(o.height, i.getHeight()); var m = Math.min(p, g); var v = a(d[0], p) + o.x; var y = a(d[1], g) + o.y; var x = a(f[0], m / 2); var _ = a(f[1], m / 2); var b = -e.get('startAngle') * c; var w = e.get('minAngle') * c; var S = 0; t.each(n, function (e) { !isNaN(e) && S++ }); var M = t.getSum(n); var I = Math.PI / (M || S) * 2; var A = e.get('clockwise'); var T = e.get('roseType'); var C = e.get('stillShowZeroSum'); var D = t.getDataExtent(n); D[0] = 0; var L = u; var P = 0; var k = b; var O = A ? 1 : -1; if (t.each(n, function (e, i) { var n; if (isNaN(e))t.setItemLayout(i, { angle: NaN, startAngle: NaN, endAngle: NaN, clockwise: A, cx: v, cy: y, r0: x, r: T ? NaN : _, viewRect: o }); else { n = T !== 'area' ? M === 0 && C ? I : e * I : u / S, n < w ? (n = w, L -= w) : P += e; var a = k + O * n; t.setItemLayout(i, { angle: n, startAngle: k, endAngle: a, clockwise: A, cx: v, cy: y, r0: x, r: T ? r(e, D, [x, _]) : _, viewRect: o }), k = a } }), L < u && S) if (L <= 0.001) { var R = u / S; t.each(n, function (e, i) { if (!isNaN(e)) { var n = t.getItemLayout(i); n.angle = R, n.startAngle = b + O * i * R, n.endAngle = b + O * (i + 1) * R } }) } else I = L / P, k = b, t.each(n, function (e, i) { if (!isNaN(e)) { var n = t.getItemLayout(i); var a = n.angle === w ? w : e * I; n.startAngle = k, n.endAngle = k + O * a, k += O * a } }); s(e, _, o.width, o.height, o.x, o.y) }) }e.exports = d }, 2943: function (e, t) { function i (e) { var t = {}; e.eachSeriesByType('graph', function (e) { var i = e.getCategoriesData(); var n = e.getData(); var a = {}; i.each(function (n) { var r = i.getName(n); a['ec-' + r] = n; var o = i.getItemModel(n); var s = o.get('itemStyle.color') || e.getColorFromPalette(r, t); i.setItemVisual(n, 'color', s); for (var l = ['opacity', 'symbol', 'symbolSize', 'symbolKeepAspect'], u = 0; u < l.length; u++) { var c = o.getShallow(l[u], !0); c != null && i.setItemVisual(n, l[u], c) } }), i.count() && n.each(function (e) { var t = n.getItemModel(e); var r = t.getShallow('category'); if (r != null) { typeof r === 'string' && (r = a['ec-' + r]); for (var o = ['color', 'opacity', 'symbol', 'symbolSize', 'symbolKeepAspect'], s = 0; s < o.length; s++)n.getItemVisual(e, o[s], !0) == null && n.setItemVisual(e, o[s], i.getItemVisual(r, o[s])) } }) }) }e.exports = i }, '29a8': function (e, t) { var i = { legend: { selector: { all: '全选', inverse: '反选' } }, toolbox: { brush: { title: { rect: '矩形选择', polygon: '圈选', lineX: '横向选择', lineY: '纵向选择', keep: '保持选择', clear: '清除选择' } }, dataView: { title: '数据视图', lang: ['数据视图', '关闭', '刷新'] }, dataZoom: { title: { zoom: '区域缩放', back: '区域缩放还原' } }, magicType: { title: { line: '切换为折线图', bar: '切换为柱状图', stack: '切换为堆叠', tiled: '切换为平铺' } }, restore: { title: '还原' }, saveAsImage: { title: '保存为图片', lang: ['右键另存为图片'] } }, series: { typeNames: { pie: '饼图', bar: '柱状图', line: '折线图', scatter: '散点图', effectScatter: '涟漪散点图', radar: '雷达图', tree: '树图', treemap: '矩形树图', boxplot: '箱型图', candlestick: 'K线图', k: 'K线图', heatmap: '热力图', map: '地图', parallel: '平行坐标图', lines: '线图', graph: '关系图', sankey: '桑基图', funnel: '漏斗图', gauge: '仪表盘图', pictorialBar: '象形柱图', themeRiver: '主题河流图', sunburst: '旭日图' } }, aria: { general: { withTitle: '这是一个关于“{title}”的图表。', withoutTitle: '这是一个图表，' }, series: { single: { prefix: '', withName: '图表类型是{seriesType}，表示{seriesName}。', withoutName: '图表类型是{seriesType}。' }, multiple: { prefix: '它由{seriesCount}个图表系列组成。', withName: '第{seriesId}个系列是一个表示{seriesName}的{seriesType}，', withoutName: '第{seriesId}个系列是一个{seriesType}，', separator: { middle: '；', end: '。' } } }, data: { allData: '其数据是——', partialData: '其中，前{displayCnt}项是——', withName: '{name}的数据是{value}', withoutName: '{value}', separator: { middle: '，', end: '' } } } }; e.exports = i }, '29a9': function (e, t, i) { var n = i('3eba'); var a = i('b336'); i('bc5f'), i('ab05'), i('06ea'), i('004f'), i('d6ef'), n.registerPreprocessor(a) }, '2b17': function (e, t, i) { var n = i('4e08'); var a = (n.__DEV__, i('6d8b')); var r = (a.isTypedArray, a.extend); var o = (a.assert, a.each); var s = a.isObject; var l = i('e0d3'); var u = l.getDataItemValue; var c = l.isDataItemOption; var h = i('3842'); var d = h.parseDate; var f = i('ec6f'); var p = i('93d0'); var g = p.SOURCE_FORMAT_TYPED_ARRAY; var m = p.SOURCE_FORMAT_ARRAY_ROWS; var v = p.SOURCE_FORMAT_ORIGINAL; var y = p.SOURCE_FORMAT_OBJECT_ROWS; function x (e, t) { f.isInstance(e) || (e = f.seriesDataToSource(e)), this._source = e; var i = this._data = e.data; var n = e.sourceFormat; n === g && (this._offset = 0, this._dimSize = t, this._data = i); var a = b[n === m ? n + '_' + e.seriesLayoutBy : n]; r(this, a) } var _ = x.prototype; _.pure = !1, _.persistent = !0, _.getSource = function () { return this._source }; var b = { arrayRows_column: { pure: !0, count: function () { return Math.max(0, this._data.length - this._source.startIndex) }, getItem: function (e) { return this._data[e + this._source.startIndex] }, appendData: M }, arrayRows_row: { pure: !0, count: function () { var e = this._data[0]; return e ? Math.max(0, e.length - this._source.startIndex) : 0 }, getItem: function (e) { e += this._source.startIndex; for (var t = [], i = this._data, n = 0; n < i.length; n++) { var a = i[n]; t.push(a ? a[e] : null) } return t }, appendData: function () { throw new Error('Do not support appendData when set seriesLayoutBy: "row".') } }, objectRows: { pure: !0, count: w, getItem: S, appendData: M }, keyedColumns: { pure: !0, count: function () { var e = this._source.dimensionsDefine[0].name; var t = this._data[e]; return t ? t.length : 0 }, getItem: function (e) { for (var t = [], i = this._source.dimensionsDefine, n = 0; n < i.length; n++) { var a = this._data[i[n].name]; t.push(a ? a[e] : null) } return t }, appendData: function (e) { var t = this._data; o(e, function (e, i) { for (var n = t[i] || (t[i] = []), a = 0; a < (e || []).length; a++)n.push(e[a]) }) } }, original: { count: w, getItem: S, appendData: M }, typedArray: { persistent: !1, pure: !0, count: function () { return this._data ? this._data.length / this._dimSize : 0 }, getItem: function (e, t) { e -= this._offset, t = t || []; for (var i = this._dimSize * e, n = 0; n < this._dimSize; n++)t[n] = this._data[i + n]; return t }, appendData: function (e) { this._data = e }, clean: function () { this._offset += this.count(), this._data = null } } }; function w () { return this._data.length } function S (e) { return this._data[e] } function M (e) { for (var t = 0; t < e.length; t++) this._data.push(e[t]) } var I = { arrayRows: A, objectRows: function (e, t, i, n) { return i != null ? e[n] : e }, keyedColumns: A, original: function (e, t, i, n) { var a = u(e); return i != null && a instanceof Array ? a[i] : a }, typedArray: A }; function A (e, t, i, n) { return i != null ? e[i] : e } var T = { arrayRows: C, objectRows: function (e, t, i, n) { return D(e[t], this._dimensionInfos[t]) }, keyedColumns: C, original: function (e, t, i, n) { var a = e && (e.value == null ? e : e.value); return !this._rawData.pure && c(e) && (this.hasItemOption = !0), D(a instanceof Array ? a[n] : a, this._dimensionInfos[t]) }, typedArray: function (e, t, i, n) { return e[n] } }; function C (e, t, i, n) { return D(e[n], this._dimensionInfos[t]) } function D (e, t) { var i = t && t.type; if (i === 'ordinal') { var n = t && t.ordinalMeta; return n ? n.parseAndCollect(e) : e } return i === 'time' && typeof e !== 'number' && e != null && e !== '-' && (e = +d(e)), e == null || e === '' ? NaN : +e } function L (e, t, i) { if (e) { var n = e.getRawDataItem(t); if (n != null) { var a; var r; var o = e.getProvider().getSource().sourceFormat; var s = e.getDimensionInfo(i); return s && (a = s.name, r = s.index), I[o](n, t, r, a) } } } function P (e, t, i) { if (e) { var n = e.getProvider().getSource().sourceFormat; if (n === v || n === y) { var a = e.getRawDataItem(t); return n !== v || s(a) || (a = null), a ? a[i] : void 0 } } }t.DefaultDataProvider = x, t.defaultDimValueGetters = T, t.retrieveRawValue = L, t.retrieveRawAttr = P }, '2b61': function (e, t, i) { var n = i('7d6d'); var a = i('82eb'); var r = a.ContextCachedBy; var o = [['shadowBlur', 0], ['shadowOffsetX', 0], ['shadowOffsetY', 0], ['shadowColor', '#000'], ['lineCap', 'butt'], ['lineJoin', 'miter'], ['miterLimit', 10]]; var s = function (e) { this.extendFrom(e, !1) }; function l (e, t, i) { var n = t.x == null ? 0 : t.x; var a = t.x2 == null ? 1 : t.x2; var r = t.y == null ? 0 : t.y; var o = t.y2 == null ? 0 : t.y2; t.global || (n = n * i.width + i.x, a = a * i.width + i.x, r = r * i.height + i.y, o = o * i.height + i.y), n = isNaN(n) ? 0 : n, a = isNaN(a) ? 1 : a, r = isNaN(r) ? 0 : r, o = isNaN(o) ? 0 : o; var s = e.createLinearGradient(n, r, a, o); return s } function u (e, t, i) { var n = i.width; var a = i.height; var r = Math.min(n, a); var o = t.x == null ? 0.5 : t.x; var s = t.y == null ? 0.5 : t.y; var l = t.r == null ? 0.5 : t.r; t.global || (o = o * n + i.x, s = s * a + i.y, l *= r); var u = e.createRadialGradient(o, s, 0, o, s, l); return u }s.prototype = { constructor: s, fill: '#000', stroke: null, opacity: 1, fillOpacity: null, strokeOpacity: null, lineDash: null, lineDashOffset: 0, shadowBlur: 0, shadowOffsetX: 0, shadowOffsetY: 0, lineWidth: 1, strokeNoScale: !1, text: null, font: null, textFont: null, fontStyle: null, fontWeight: null, fontSize: null, fontFamily: null, textTag: null, textFill: '#000', textStroke: null, textWidth: null, textHeight: null, textStrokeWidth: 0, textLineHeight: null, textPosition: 'inside', textRect: null, textOffset: null, textAlign: null, textVerticalAlign: null, textDistance: 5, textShadowColor: 'transparent', textShadowBlur: 0, textShadowOffsetX: 0, textShadowOffsetY: 0, textBoxShadowColor: 'transparent', textBoxShadowBlur: 0, textBoxShadowOffsetX: 0, textBoxShadowOffsetY: 0, transformText: !1, textRotation: 0, textOrigin: null, textBackgroundColor: null, textBorderColor: null, textBorderWidth: 0, textBorderRadius: 0, textPadding: null, rich: null, truncate: null, blend: null, bind: function (e, t, i) { var a = this; var s = i && i.style; var l = !s || e.__attrCachedBy !== r.STYLE_BIND; e.__attrCachedBy = r.STYLE_BIND; for (var u = 0; u < o.length; u++) { var c = o[u]; var h = c[0]; (l || a[h] !== s[h]) && (e[h] = n(e, h, a[h] || c[1])) } if ((l || a.fill !== s.fill) && (e.fillStyle = a.fill), (l || a.stroke !== s.stroke) && (e.strokeStyle = a.stroke), (l || a.opacity !== s.opacity) && (e.globalAlpha = a.opacity == null ? 1 : a.opacity), (l || a.blend !== s.blend) && (e.globalCompositeOperation = a.blend || 'source-over'), this.hasStroke()) { var d = a.lineWidth; e.lineWidth = d / (this.strokeNoScale && t && t.getLineScale ? t.getLineScale() : 1) } }, hasFill: function () { var e = this.fill; return e != null && e !== 'none' }, hasStroke: function () { var e = this.stroke; return e != null && e !== 'none' && this.lineWidth > 0 }, extendFrom: function (e, t) { if (e) for (var i in e)!e.hasOwnProperty(i) || !0 !== t && (!1 === t ? this.hasOwnProperty(i) : e[i] == null) || (this[i] = e[i]) }, set: function (e, t) { typeof e === 'string' ? this[e] = t : this.extendFrom(e, !0) }, clone: function () { var e = new this.constructor(); return e.extendFrom(this, !0), e }, getGradient: function (e, t, i) { for (var n = t.type === 'radial' ? u : l, a = n(e, t, i), r = t.colorStops, o = 0; o < r.length; o++)a.addColorStop(r[o].offset, r[o].color); return a } }; for (var c = s.prototype, h = 0; h < o.length; h++) { var d = o[h]; d[0] in c || (c[d[0]] = d[1]) }s.getGradient = c.getGradient; var f = s; e.exports = f }, '2b8c': function (e, t, i) { var n = i('6d8b'); var a = i('5f14'); var r = n.each; function o (e) { if (e) for (var t in e) if (e.hasOwnProperty(t)) return !0 } function s (e, t, i) { var o = {}; return r(t, function (t) { var l = o[t] = s(); r(e[t], function (e, r) { if (a.isValidType(r)) { var o = { type: r, visual: e }; i && i(o, t), l[r] = new a(o), r === 'opacity' && (o = n.clone(o), o.type = 'colorAlpha', l.__hidden.__alphaForOpacity = new a(o)) } }) }), o; function s () { var e = function () {}; e.prototype.__hidden = e.prototype; var t = new e(); return t } } function l (e, t, i) { var a; n.each(i, function (e) { t.hasOwnProperty(e) && o(t[e]) && (a = !0) }), a && n.each(i, function (i) { t.hasOwnProperty(i) && o(t[i]) ? e[i] = n.clone(t[i]) : delete e[i] }) } function u (e, t, i, r, o, s) { var l; var u = {}; function c (e) { return i.getItemVisual(l, e) } function h (e, t) { i.setItemVisual(l, e, t) } function d (e, n) { l = s == null ? e : n; var a = i.getRawDataItem(l); if (!a || !1 !== a.visualMap) for (var d = r.call(o, e), f = t[d], p = u[d], g = 0, m = p.length; g < m; g++) { var v = p[g]; f[v] && f[v].applyVisual(e, c, h) } }n.each(e, function (e) { var i = a.prepareVisualTypes(t[e]); u[e] = i }), s == null ? i.each(d) : i.each([s], d) } function c (e, t, i, r) { var o = {}; function s (e, n) { function a (e) { return n.getItemVisual(l, e) } function s (e, t) { n.setItemVisual(l, e, t) } var l; r != null && (r = n.getDimension(r)); while ((l = e.next()) != null) { var u = n.getRawDataItem(l); if (!u || !1 !== u.visualMap) for (var c = r != null ? n.get(r, l, !0) : l, h = i(c), d = t[h], f = o[h], p = 0, g = f.length; p < g; p++) { var m = f[p]; d[m] && d[m].applyVisual(c, a, s) } } } return n.each(e, function (e) { var i = a.prepareVisualTypes(t[e]); o[e] = i }), { progress: s } }t.createVisualMappings = s, t.replaceVisualOption = l, t.applyVisual = u, t.incrementalApplyVisual = c }, '2c17': function (e, t, i) { var n = i('3eba'); var a = i('6d8b'); var r = a.createHashMap; var o = a.each; n.registerProcessor({ getTargetSeries: function (e) { var t = r(); return e.eachComponent('dataZoom', function (e) { e.eachTargetAxis(function (e, i, n) { var a = n.getAxisProxy(e.name, i); o(a.getTargetSeriesModels(), function (e) { t.set(e.uid, e) }) }) }), t }, modifyOutputEnd: !0, overallReset: function (e, t) { e.eachComponent('dataZoom', function (e) { e.eachTargetAxis(function (e, i, n) { n.getAxisProxy(e.name, i).reset(n, t) }), e.eachTargetAxis(function (e, i, n) { n.getAxisProxy(e.name, i).filterData(n, t) }) }), e.eachComponent('dataZoom', function (e) { var t = e.findRepresentativeAxisProxy(); var i = t.getDataPercentWindow(); var n = t.getDataValueWindow(); e.setCalculatedRange({ start: i[0], end: i[1], startValue: n[0], endValue: n[1] }) }) } }) }, '2cf4c': function (e, t) { var i = 1; typeof window !== 'undefined' && (i = Math.max(window.devicePixelRatio || 1, 1)); var n = 0; var a = i; t.debugMode = n, t.devicePixelRatio = a }, '2cfc': function (e, t, i) { var n = i('3eba'); i('4338'), i('bcbe'), i('c62c'), i('cb8f'), i('f138'), n.extendComponentView({ type: 'single' }) }, '2f31': function (e, t, i) { var n = i('3eba'); var a = i('ae75'); i('10cc'), i('f31f'), i('c2dd'), i('b8ec'), i('fecb'), n.registerPreprocessor(a) }, '2f45': function (e, t, i) { var n = i('6d8b'); var a = n.each; var r = n.createHashMap; var o = (n.assert, i('4e08')); var s = (o.__DEV__, r(['tooltip', 'label', 'itemName', 'itemId', 'seriesName'])); function l (e) { var t = {}; var i = t.encode = {}; var n = r(); var o = []; var l = []; var c = t.userOutput = { dimensionNames: e.dimensions.slice(), encode: {} }; a(e.dimensions, function (t) { var a = e.getDimensionInfo(t); var r = a.coordDim; if (r) { var d = a.coordDimIndex; u(i, r)[d] = t, a.isExtraCoord || (n.set(r, 1), h(a.type) && (o[0] = t), u(c.encode, r)[d] = a.index), a.defaultTooltip && l.push(t) }s.each(function (e, t) { var n = u(i, t); var r = a.otherDims[t]; r != null && !1 !== r && (n[r] = a.name) }) }); var d = []; var f = {}; n.each(function (e, t) { var n = i[t]; f[t] = n[0], d = d.concat(n) }), t.dataDimsOnCoord = d, t.encodeFirstDimNotExtra = f; var p = i.label; p && p.length && (o = p.slice()); var g = i.tooltip; return g && g.length ? l = g.slice() : l.length || (l = o.slice()), i.defaultedLabel = o, i.defaultedTooltip = l, t } function u (e, t) { return e.hasOwnProperty(t) || (e[t] = []), e[t] } function c (e) { return e === 'category' ? 'ordinal' : e === 'time' ? 'time' : 'float' } function h (e) { return !(e === 'ordinal' || e === 'time') }t.OTHER_DIMENSIONS = s, t.summarizeDimensions = l, t.getDimensionTypeByAxis = c }, '2f73': function (e, t, i) { var n = i('3eba'); var a = i('6d8b'); var r = i('1e32'); i('1ccf'), i('f5e6'), i('792e'), i('cb8f'), i('6acf'), n.registerLayout(a.curry(r, 'bar')), n.extendComponentView({ type: 'polar' }) }, '2f91': function (e, t) { var i = ['itemStyle', 'borderColor']; function n (e, t) { var n = e.get('color'); e.eachRawSeriesByType('boxplot', function (t) { var a = n[t.seriesIndex % n.length]; var r = t.getData(); r.setVisual({ legendSymbol: 'roundRect', color: t.get(i) || a }), e.isSeriesFiltered(t) || r.each(function (e) { var t = r.getItemModel(e); r.setItemVisual(e, { color: t.get(i, !0) }) }) }) }e.exports = n }, 3014: function (e, t, i) { var n = i('4f85'); var a = i('3301'); var r = n.extend({ type: 'series.__base_bar__', getInitialData: function (e, t) { return a(this.getSource(), this, { useEncodeDefaulter: !0 }) }, getMarkerPosition: function (e) { var t = this.coordinateSystem; if (t) { var i = t.dataToPoint(t.clampData(e)); var n = this.getData(); var a = n.getLayout('offset'); var r = n.getLayout('size'); var o = t.getBaseAxis().isHorizontal() ? 0 : 1; return i[o] += a + r / 2, i } return [NaN, NaN] }, defaultOption: { zlevel: 0, z: 2, coordinateSystem: 'cartesian2d', legendHoverLink: !0, barMinHeight: 0, barMinAngle: 0, large: !1, largeThreshold: 400, progressive: 3e3, progressiveChunkMode: 'mod', itemStyle: {}, emphasis: {} } }); e.exports = r }, 3041: function (e, t, i) { var n = i('e1fc'); var a = i('0da8'); var r = i('76a5'); var o = i('d9fc'); var s = i('c7a2'); var l = i('ae69'); var u = i('cb11'); var c = i('cbe5'); var h = i('87b1'); var d = i('d498'); var f = i('48a9'); var p = i('2b61'); var g = i('1687'); var m = i('342d'); var v = m.createFromString; var y = i('6d8b'); var x = y.isString; var _ = y.extend; var b = y.defaults; var w = y.trim; var S = y.each; var M = /[\s,]+/; function I (e) { if (x(e)) { var t = new DOMParser(); e = t.parseFromString(e, 'text/xml') }e.nodeType === 9 && (e = e.firstChild); while (e.nodeName.toLowerCase() !== 'svg' || e.nodeType !== 1)e = e.nextSibling; return e } function A () { this._defs = {}, this._root = null, this._isDefine = !1, this._isText = !1 }A.prototype.parse = function (e, t) { t = t || {}; var i = I(e); if (!i) throw new Error('Illegal svg'); var a = new n(); this._root = a; var r = i.getAttribute('viewBox') || ''; var o = parseFloat(i.getAttribute('width') || t.width); var l = parseFloat(i.getAttribute('height') || t.height); isNaN(o) && (o = null), isNaN(l) && (l = null), O(i, a, null, !0); var u; var c; var h = i.firstChild; while (h) this._parseNode(h, a), h = h.nextSibling; if (r) { var d = w(r).split(M); d.length >= 4 && (u = { x: parseFloat(d[0] || 0), y: parseFloat(d[1] || 0), width: parseFloat(d[2]), height: parseFloat(d[3]) }) } if (u && o != null && l != null && (c = G(u, o, l), !t.ignoreViewBox)) { var f = a; a = new n(), a.add(f), f.scale = c.scale.slice(), f.position = c.position.slice() } return t.ignoreRootClip || o == null || l == null || a.setClipPath(new s({ shape: { x: 0, y: 0, width: o, height: l } })), { root: a, width: o, height: l, viewBoxRect: u, viewBoxTransform: c } }, A.prototype._parseNode = function (e, t) { var i; var n = e.nodeName.toLowerCase(); if (n === 'defs' ? this._isDefine = !0 : n === 'text' && (this._isText = !0), this._isDefine) { var a = C[n]; if (a) { var r = a.call(this, e); var o = e.getAttribute('id'); o && (this._defs[o] = r) } } else { a = T[n]; a && (i = a.call(this, e, t), t.add(i)) } var s = e.firstChild; while (s)s.nodeType === 1 && this._parseNode(s, i), s.nodeType === 3 && this._isText && this._parseText(s, i), s = s.nextSibling; n === 'defs' ? this._isDefine = !1 : n === 'text' && (this._isText = !1) }, A.prototype._parseText = function (e, t) { if (e.nodeType === 1) { var i = e.getAttribute('dx') || 0; var n = e.getAttribute('dy') || 0; this._textX += parseFloat(i), this._textY += parseFloat(n) } var a = new r({ style: { text: e.textContent, transformText: !0 }, position: [this._textX || 0, this._textY || 0] }); L(t, a), O(e, a, this._defs); var o = a.style.fontSize; o && o < 9 && (a.style.fontSize = 9, a.scale = a.scale || [1, 1], a.scale[0] *= o / 9, a.scale[1] *= o / 9); var s = a.getBoundingRect(); return this._textX += s.width, t.add(a), a }; var T = { g: function (e, t) { var i = new n(); return L(t, i), O(e, i, this._defs), i }, rect: function (e, t) { var i = new s(); return L(t, i), O(e, i, this._defs), i.setShape({ x: parseFloat(e.getAttribute('x') || 0), y: parseFloat(e.getAttribute('y') || 0), width: parseFloat(e.getAttribute('width') || 0), height: parseFloat(e.getAttribute('height') || 0) }), i }, circle: function (e, t) { var i = new o(); return L(t, i), O(e, i, this._defs), i.setShape({ cx: parseFloat(e.getAttribute('cx') || 0), cy: parseFloat(e.getAttribute('cy') || 0), r: parseFloat(e.getAttribute('r') || 0) }), i }, line: function (e, t) { var i = new u(); return L(t, i), O(e, i, this._defs), i.setShape({ x1: parseFloat(e.getAttribute('x1') || 0), y1: parseFloat(e.getAttribute('y1') || 0), x2: parseFloat(e.getAttribute('x2') || 0), y2: parseFloat(e.getAttribute('y2') || 0) }), i }, ellipse: function (e, t) { var i = new l(); return L(t, i), O(e, i, this._defs), i.setShape({ cx: parseFloat(e.getAttribute('cx') || 0), cy: parseFloat(e.getAttribute('cy') || 0), rx: parseFloat(e.getAttribute('rx') || 0), ry: parseFloat(e.getAttribute('ry') || 0) }), i }, polygon: function (e, t) { var i = e.getAttribute('points'); i && (i = P(i)); var n = new h({ shape: { points: i || [] } }); return L(t, n), O(e, n, this._defs), n }, polyline: function (e, t) { var i = new c(); L(t, i), O(e, i, this._defs); var n = e.getAttribute('points'); n && (n = P(n)); var a = new d({ shape: { points: n || [] } }); return a }, image: function (e, t) { var i = new a(); return L(t, i), O(e, i, this._defs), i.setStyle({ image: e.getAttribute('xlink:href'), x: e.getAttribute('x'), y: e.getAttribute('y'), width: e.getAttribute('width'), height: e.getAttribute('height') }), i }, text: function (e, t) { var i = e.getAttribute('x') || 0; var a = e.getAttribute('y') || 0; var r = e.getAttribute('dx') || 0; var o = e.getAttribute('dy') || 0; this._textX = parseFloat(i) + parseFloat(r), this._textY = parseFloat(a) + parseFloat(o); var s = new n(); return L(t, s), O(e, s, this._defs), s }, tspan: function (e, t) { var i = e.getAttribute('x'); var a = e.getAttribute('y'); i != null && (this._textX = parseFloat(i)), a != null && (this._textY = parseFloat(a)); var r = e.getAttribute('dx') || 0; var o = e.getAttribute('dy') || 0; var s = new n(); return L(t, s), O(e, s, this._defs), this._textX += r, this._textY += o, s }, path: function (e, t) { var i = e.getAttribute('d') || ''; var n = v(i); return L(t, n), O(e, n, this._defs), n } }; var C = { lineargradient: function (e) { var t = parseInt(e.getAttribute('x1') || 0, 10); var i = parseInt(e.getAttribute('y1') || 0, 10); var n = parseInt(e.getAttribute('x2') || 10, 10); var a = parseInt(e.getAttribute('y2') || 0, 10); var r = new f(t, i, n, a); return D(e, r), r }, radialgradient: function (e) {} }; function D (e, t) { var i = e.firstChild; while (i) { if (i.nodeType === 1) { var n = i.getAttribute('offset'); n = n.indexOf('%') > 0 ? parseInt(n, 10) / 100 : n ? parseFloat(n) : 0; var a = i.getAttribute('stop-color') || '#000000'; t.addColorStop(n, a) }i = i.nextSibling } } function L (e, t) { e && e.__inheritedStyle && (t.__inheritedStyle || (t.__inheritedStyle = {}), b(t.__inheritedStyle, e.__inheritedStyle)) } function P (e) { for (var t = w(e).split(M), i = [], n = 0; n < t.length; n += 2) { var a = parseFloat(t[n]); var r = parseFloat(t[n + 1]); i.push([a, r]) } return i } var k = { fill: 'fill', stroke: 'stroke', 'stroke-width': 'lineWidth', opacity: 'opacity', 'fill-opacity': 'fillOpacity', 'stroke-opacity': 'strokeOpacity', 'stroke-dasharray': 'lineDash', 'stroke-dashoffset': 'lineDashOffset', 'stroke-linecap': 'lineCap', 'stroke-linejoin': 'lineJoin', 'stroke-miterlimit': 'miterLimit', 'font-family': 'fontFamily', 'font-size': 'fontSize', 'font-style': 'fontStyle', 'font-weight': 'fontWeight', 'text-align': 'textAlign', 'alignment-baseline': 'textBaseline' }; function O (e, t, i, n) { var a = t.__inheritedStyle || {}; var r = t.type === 'text'; if (e.nodeType === 1 && (z(e, t), _(a, V(e)), !n)) for (var o in k) if (k.hasOwnProperty(o)) { var s = e.getAttribute(o); s != null && (a[k[o]] = s) } var l = r ? 'textFill' : 'fill'; var u = r ? 'textStroke' : 'stroke'; t.style = t.style || new p(); var c = t.style; a.fill != null && c.set(l, E(a.fill, i)), a.stroke != null && c.set(u, E(a.stroke, i)), S(['lineWidth', 'opacity', 'fillOpacity', 'strokeOpacity', 'miterLimit', 'fontSize'], function (e) { var t = e === 'lineWidth' && r ? 'textStrokeWidth' : e; a[e] != null && c.set(t, parseFloat(a[e])) }), a.textBaseline && a.textBaseline !== 'auto' || (a.textBaseline = 'alphabetic'), a.textBaseline === 'alphabetic' && (a.textBaseline = 'bottom'), a.textAlign === 'start' && (a.textAlign = 'left'), a.textAlign === 'end' && (a.textAlign = 'right'), S(['lineDashOffset', 'lineCap', 'lineJoin', 'fontWeight', 'fontFamily', 'fontStyle', 'textAlign', 'textBaseline'], function (e) { a[e] != null && c.set(e, a[e]) }), a.lineDash && (t.style.lineDash = w(a.lineDash).split(M)), c[u] && c[u] !== 'none' && (t[u] = !0), t.__inheritedStyle = a } var R = /url\(\s*#(.*?)\)/; function E (e, t) { var i = t && e && e.match(R); if (i) { var n = w(i[1]); var a = t[n]; return a } return e } var N = /(translate|scale|rotate|skewX|skewY|matrix)\(([\-\s0-9\.e,]*)\)/g; function z (e, t) { var i = e.getAttribute('transform'); if (i) { i = i.replace(/,/g, ' '); var n = null; var a = []; i.replace(N, function (e, t, i) { a.push(t, i) }); for (var r = a.length - 1; r > 0; r -= 2) { var o = a[r]; var s = a[r - 1]; switch (n = n || g.create(), s) { case 'translate':o = w(o).split(M), g.translate(n, n, [parseFloat(o[0]), parseFloat(o[1] || 0)]); break; case 'scale':o = w(o).split(M), g.scale(n, n, [parseFloat(o[0]), parseFloat(o[1] || o[0])]); break; case 'rotate':o = w(o).split(M), g.rotate(n, n, parseFloat(o[0])); break; case 'skew':o = w(o).split(M), console.warn('Skew transform is not supported yet'); break; case 'matrix':o = w(o).split(M); n[0] = parseFloat(o[0]), n[1] = parseFloat(o[1]), n[2] = parseFloat(o[2]), n[3] = parseFloat(o[3]), n[4] = parseFloat(o[4]), n[5] = parseFloat(o[5]); break } }t.setLocalTransform(n) } } var B = /([^\s:;]+)\s*:\s*([^:;]+)/g; function V (e) { var t = e.getAttribute('style'); var i = {}; if (!t) return i; var n; var a = {}; B.lastIndex = 0; while ((n = B.exec(t)) != null)a[n[1]] = n[2]; for (var r in k)k.hasOwnProperty(r) && a[r] != null && (i[k[r]] = a[r]); return i } function G (e, t, i) { var n = t / e.width; var a = i / e.height; var r = Math.min(n, a); var o = [r, r]; var s = [-(e.x + e.width / 2) * r + t / 2, -(e.y + e.height / 2) * r + i / 2]; return { scale: o, position: s } } function F (e, t) { var i = new A(); return i.parse(e, t) }t.parseXML = I, t.makeViewBoxTransform = G, t.parseSVG = F }, '307a': function (e, t, i) { var n = i('6d8b'); var a = i('eaea'); var r = i('3842'); var o = [20, 140]; var s = a.extend({ type: 'visualMap.continuous', defaultOption: { align: 'auto', calculable: !1, range: null, realtime: !0, itemHeight: null, itemWidth: null, hoverLink: !0, hoverLinkDataSize: null, hoverLinkOnHandle: null }, optionUpdated: function (e, t) { s.superApply(this, 'optionUpdated', arguments), this.resetExtent(), this.resetVisual(function (e) { e.mappingMethod = 'linear', e.dataExtent = this.getExtent() }), this._resetRange() }, resetItemSize: function () { s.superApply(this, 'resetItemSize', arguments); var e = this.itemSize; this._orient === 'horizontal' && e.reverse(), (e[0] == null || isNaN(e[0])) && (e[0] = o[0]), (e[1] == null || isNaN(e[1])) && (e[1] = o[1]) }, _resetRange: function () { var e = this.getExtent(); var t = this.option.range; !t || t.auto ? (e.auto = 1, this.option.range = e) : n.isArray(t) && (t[0] > t[1] && t.reverse(), t[0] = Math.max(t[0], e[0]), t[1] = Math.min(t[1], e[1])) }, completeVisualOption: function () { a.prototype.completeVisualOption.apply(this, arguments), n.each(this.stateList, function (e) { var t = this.option.controller[e].symbolSize; t && t[0] !== t[1] && (t[0] = 0) }, this) }, setSelected: function (e) { this.option.range = e.slice(), this._resetRange() }, getSelected: function () { var e = this.getExtent(); var t = r.asc((this.get('range') || []).slice()); return t[0] > e[1] && (t[0] = e[1]), t[1] > e[1] && (t[1] = e[1]), t[0] < e[0] && (t[0] = e[0]), t[1] < e[0] && (t[1] = e[0]), t }, getValueState: function (e) { var t = this.option.range; var i = this.getExtent(); return (t[0] <= i[0] || t[0] <= e) && (t[1] >= i[1] || e <= t[1]) ? 'inRange' : 'outOfRange' }, findTargetDataIndices: function (e) { var t = []; return this.eachTargetSeries(function (i) { var n = []; var a = i.getData(); a.each(this.getDataDimension(a), function (t, i) { e[0] <= t && t <= e[1] && n.push(i) }, this), t.push({ seriesId: i.id, dataIndex: n }) }, this), t }, getVisualMeta: function (e) { var t = l(this, 'outOfRange', this.getExtent()); var i = l(this, 'inRange', this.option.range.slice()); var n = []; function a (t, i) { n.push({ value: t, color: e(t, i) }) } for (var r = 0, o = 0, s = i.length, u = t.length; o < u && (!i.length || t[o] <= i[0]); o++)t[o] < i[r] && a(t[o], 'outOfRange'); for (var c = 1; r < s; r++, c = 0)c && n.length && a(i[r], 'outOfRange'), a(i[r], 'inRange'); for (c = 1; o < u; o++)(!i.length || i[i.length - 1] < t[o]) && (c && (n.length && a(n[n.length - 1].value, 'outOfRange'), c = 0), a(t[o], 'outOfRange')); var h = n.length; return { stops: n, outerColors: [h ? n[0].color : 'transparent', h ? n[h - 1].color : 'transparent'] } } }); function l (e, t, i) { if (i[0] === i[1]) return i.slice(); for (var n = 200, a = (i[1] - i[0]) / n, r = i[0], o = [], s = 0; s <= n && r < i[1]; s++)o.push(r), r += a; return o.push(i[1]), o } var u = s; e.exports = u }, '307b': function (e, t, i) { var n = i('6d8b'); function a (e, t) { var i = this.getAxis(); var n = t instanceof Array ? t[0] : t; var a = (e instanceof Array ? e[0] : e) / 2; return i.type === 'category' ? i.getBandWidth() : Math.abs(i.dataToCoord(n - a) - i.dataToCoord(n + a)) } function r (e) { var t = e.getRect(); return { coordSys: { type: 'singleAxis', x: t.x, y: t.y, width: t.width, height: t.height }, api: { coord: function (t) { return e.dataToPoint(t) }, size: n.bind(a, e) } } }e.exports = r }, '307d': function (e, t, i) { var n = i('6d8b'); var a = i('6179'); var r = i('3842'); var o = i('923d'); var s = i('73ca'); var l = i('88f0'); var u = i('ee1a'); var c = u.getStackedDimension; var h = function (e, t, i, a) { var r = e.getData(); var s = a.type; if (!n.isArray(a) && (s === 'min' || s === 'max' || s === 'average' || s === 'median' || a.xAxis != null || a.yAxis != null)) { var l, u; if (a.yAxis != null || a.xAxis != null)l = t.getAxis(a.yAxis != null ? 'y' : 'x'), u = n.retrieve(a.yAxis, a.xAxis); else { var h = o.getAxisInfo(a, r, t, e); l = h.valueAxis; var d = c(r, h.valueDataDim); u = o.numCalculate(r, d, s) } var f = l.dim === 'x' ? 0 : 1; var p = 1 - f; var g = n.clone(a); var m = {}; g.type = null, g.coord = [], m.coord = [], g.coord[p] = -1 / 0, m.coord[p] = 1 / 0; var v = i.get('precision'); v >= 0 && typeof u === 'number' && (u = +u.toFixed(Math.min(v, 20))), g.coord[f] = m.coord[f] = u, a = [g, m, { type: s, valueIndex: a.valueIndex, value: u }] } return a = [o.dataTransform(e, a[0]), o.dataTransform(e, a[1]), n.extend({}, a[2])], a[2].type = a[2].type || '', n.merge(a[2], a[0]), n.merge(a[2], a[1]), a }; function d (e) { return !isNaN(e) && !isFinite(e) } function f (e, t, i, n) { var a = 1 - e; var r = n.dimensions[e]; return d(t[a]) && d(i[a]) && t[e] === i[e] && n.getAxis(r).containData(t[e]) } function p (e, t) { if (e.type === 'cartesian2d') { var i = t[0].coord; var n = t[1].coord; if (i && n && (f(1, i, n, e) || f(0, i, n, e))) return !0 } return o.dataFilter(e, t[0]) && o.dataFilter(e, t[1]) } function g (e, t, i, n, a) { var o; var s = n.coordinateSystem; var l = e.getItemModel(t); var u = r.parsePercent(l.get('x'), a.getWidth()); var c = r.parsePercent(l.get('y'), a.getHeight()); if (isNaN(u) || isNaN(c)) { if (n.getMarkerPosition)o = n.getMarkerPosition(e.getValues(e.dimensions, t)); else { var h = s.dimensions; var f = e.get(h[0], t); var p = e.get(h[1], t); o = s.dataToPoint([f, p]) } if (s.type === 'cartesian2d') { var g = s.getAxis('x'); var m = s.getAxis('y'); h = s.dimensions; d(e.get(h[0], t)) ? o[0] = g.toGlobalCoord(g.getExtent()[i ? 0 : 1]) : d(e.get(h[1], t)) && (o[1] = m.toGlobalCoord(m.getExtent()[i ? 0 : 1])) }isNaN(u) || (o[0] = u), isNaN(c) || (o[1] = c) } else o = [u, c]; e.setItemLayout(t, o) } var m = l.extend({ type: 'markLine', updateTransform: function (e, t, i) { t.eachSeries(function (e) { var t = e.markLineModel; if (t) { var n = t.getData(); var a = t.__from; var r = t.__to; a.each(function (t) { g(a, t, !0, e, i), g(r, t, !1, e, i) }), n.each(function (e) { n.setItemLayout(e, [a.getItemLayout(e), r.getItemLayout(e)]) }), this.markerGroupMap.get(e.id).updateLayout() } }, this) }, renderSeries: function (e, t, i, a) { var r = e.coordinateSystem; var o = e.id; var l = e.getData(); var u = this.markerGroupMap; var c = u.get(o) || u.set(o, new s()); this.group.add(c.group); var h = v(r, e, t); var d = h.from; var f = h.to; var p = h.line; t.__from = d, t.__to = f, t.setData(p); var m = t.get('symbol'); var y = t.get('symbolSize'); function x (t, i, n) { var r = t.getItemModel(i); g(t, i, n, e, a), t.setItemVisual(i, { symbolRotate: r.get('symbolRotate'), symbolSize: r.get('symbolSize') || y[n ? 0 : 1], symbol: r.get('symbol', !0) || m[n ? 0 : 1], color: r.get('itemStyle.color') || l.getVisual('color') }) }n.isArray(m) || (m = [m, m]), typeof y === 'number' && (y = [y, y]), h.from.each(function (e) { x(d, e, !0), x(f, e, !1) }), p.each(function (e) { var t = p.getItemModel(e).get('lineStyle.color'); p.setItemVisual(e, { color: t || d.getItemVisual(e, 'color') }), p.setItemLayout(e, [d.getItemLayout(e), f.getItemLayout(e)]), p.setItemVisual(e, { fromSymbolRotate: d.getItemVisual(e, 'symbolRotate'), fromSymbolSize: d.getItemVisual(e, 'symbolSize'), fromSymbol: d.getItemVisual(e, 'symbol'), toSymbolRotate: f.getItemVisual(e, 'symbolRotate'), toSymbolSize: f.getItemVisual(e, 'symbolSize'), toSymbol: f.getItemVisual(e, 'symbol') }) }), c.updateData(p), h.line.eachItemGraphicEl(function (e, i) { e.traverse(function (e) { e.dataModel = t }) }), c.__keep = !0, c.group.silent = t.get('silent') || e.get('silent') } }); function v (e, t, i) { var r; r = e ? n.map(e && e.dimensions, function (e) { var i = t.getData().getDimensionInfo(t.getData().mapDimension(e)) || {}; return n.defaults({ name: e }, i) }) : [{ name: 'value', type: 'float' }]; var s = new a(r, i); var l = new a(r, i); var u = new a([], i); var c = n.map(i.get('data'), n.curry(h, t, e, i)); e && (c = n.filter(c, n.curry(p, e))); var d = e ? o.dimValueGetter : function (e) { return e.value }; return s.initData(n.map(c, function (e) { return e[0] }), null, d), l.initData(n.map(c, function (e) { return e[1] }), null, d), u.initData(n.map(c, function (e) { return e[2] })), u.hasItemOption = !0, { from: s, to: l, line: u } }e.exports = m }, '30a3': function (e, t, i) { var n = i('6d8b'); var a = i('607d'); var r = a.Dispatcher; var o = i('98b7'); var s = i('06ad'); var l = function (e) { e = e || {}, this.stage = e.stage || {}, this.onframe = e.onframe || function () {}, this._clips = [], this._running = !1, this._time, this._pausedTime, this._pauseStart, this._paused = !1, r.call(this) }; l.prototype = { constructor: l, addClip: function (e) { this._clips.push(e) }, addAnimator: function (e) { e.animation = this; for (var t = e.getClips(), i = 0; i < t.length; i++) this.addClip(t[i]) }, removeClip: function (e) { var t = n.indexOf(this._clips, e); t >= 0 && this._clips.splice(t, 1) }, removeAnimator: function (e) { for (var t = e.getClips(), i = 0; i < t.length; i++) this.removeClip(t[i]); e.animation = null }, _update: function () { for (var e = (new Date()).getTime() - this._pausedTime, t = e - this._time, i = this._clips, n = i.length, a = [], r = [], o = 0; o < n; o++) { var s = i[o]; var l = s.step(e, t); l && (a.push(l), r.push(s)) } for (o = 0; o < n;)i[o]._needsRemove ? (i[o] = i[n - 1], i.pop(), n--) : o++; n = a.length; for (o = 0; o < n; o++)r[o].fire(a[o]); this._time = e, this.onframe(t), this.trigger('frame', t), this.stage.update && this.stage.update() }, _startLoop: function () { var e = this; function t () { e._running && (o(t), !e._paused && e._update()) } this._running = !0, o(t) }, start: function () { this._time = (new Date()).getTime(), this._pausedTime = 0, this._startLoop() }, stop: function () { this._running = !1 }, pause: function () { this._paused || (this._pauseStart = (new Date()).getTime(), this._paused = !0) }, resume: function () { this._paused && (this._pausedTime += (new Date()).getTime() - this._pauseStart, this._paused = !1) }, clear: function () { this._clips = [] }, isFinished: function () { return !this._clips.length }, animate: function (e, t) { t = t || {}; var i = new s(e, t.loop, t.getter, t.setter); return this.addAnimator(i), i } }, n.mixin(l, r); var u = l; e.exports = u }, '311a': function (e, t, i) { var n = i('3eba'); i('d01c'), i('5b69'), i('bdc0'); var a = i('81ac'); var r = i('0e0f'); n.registerLayout(a), n.registerVisual(r) }, '313e': function (e, t, i) { var n = i('3eba'); (function () { for (var e in n) { if (n == null || !n.hasOwnProperty(e) || e === 'default' || e === '__esModule') return; t[e] = n[e] } })(); var a = i('b719'); (function () { for (var e in a) { if (a == null || !a.hasOwnProperty(e) || e === 'default' || e === '__esModule') return; t[e] = a[e] } })(), i('0352'), i('ef97'), i('94b1'), i('c037'), i('15af'), i('8deb'), i('675c'), i('ef97a'), i('dae1'), i('23ee'), i('07e6'), i('a4b1'), i('0817'), i('311a'), i('fa52'), i('085d'), i('1111'), i('a7e2'), i('5ce2'), i('aadf'), i('6c12f'), i('d716'), i('e057'), i('cd12'), i('2f73'), i('d070'), i('2cfc'), i('f306'), i('9390'), i('7f59'), i('b11c'), i('007d'), i('cb8f'), i('2f31'), i('627c'), i('ee95'), i('db0e'), i('95a8'), i('7e32'), i('0b4b'), i('d28f'), i('0a6d'), i('7f72'), i('e4d1'), i('5450'), i('7419'), i('29a9'), i('f170'), i('8ee0') }, '31d9': function (e, t, i) { var n = i('6d8b'); var a = n.each; var r = '\0__link_datas'; var o = '\0__link_mainData'; function s (e) { var t = e.mainData; var i = e.datas; i || (i = { main: t }, e.datasAttr = { main: 'data' }), e.datas = e.mainData = null, f(t, i, e), a(i, function (i) { a(t.TRANSFERABLE_METHODS, function (t) { i.wrapMethod(t, n.curry(l, e)) }) }), t.wrapMethod('cloneShallow', n.curry(c, e)), a(t.CHANGABLE_METHODS, function (i) { t.wrapMethod(i, n.curry(u, e)) }), n.assert(i[t.dataType] === t) } function l (e, t) { if (d(this)) { var i = n.extend({}, this[r]); i[this.dataType] = t, f(t, i, e) } else p(t, this.dataType, this[o], e); return t } function u (e, t) { return e.struct && e.struct.update(this), t } function c (e, t) { return a(t[r], function (i, n) { i !== t && p(i.cloneShallow(), n, t, e) }), t } function h (e) { var t = this[o]; return e == null || t == null ? t : t[r][e] } function d (e) { return e[o] === e } function f (e, t, i) { e[r] = {}, a(t, function (t, n) { p(t, n, e, i) }) } function p (e, t, i, n) { i[r][t] = e, e[o] = i, e.dataType = t, n.struct && (e[n.structAttr] = n.struct, n.struct[n.datasAttr[t]] = e), e.getLinkedData = h } var g = s; e.exports = g }, '320a': function (e, t, i) { for (var n = i('6d8b'), a = i('f279'), r = [126, 25], o = [[[0, 3.5], [7, 11.2], [15, 11.9], [30, 7], [42, 0.7], [52, 0.7], [56, 7.7], [59, 0.7], [64, 0.7], [64, 0], [5, 0], [0, 3.5]], [[13, 16.1], [19, 14.7], [16, 21.7], [11, 23.1], [13, 16.1]], [[12, 32.2], [14, 38.5], [15, 38.5], [13, 32.2], [12, 32.2]], [[16, 47.6], [12, 53.2], [13, 53.2], [18, 47.6], [16, 47.6]], [[6, 64.4], [8, 70], [9, 70], [8, 64.4], [6, 64.4]], [[23, 82.6], [29, 79.8], [30, 79.8], [25, 82.6], [23, 82.6]], [[37, 70.7], [43, 62.3], [44, 62.3], [39, 70.7], [37, 70.7]], [[48, 51.1], [51, 45.5], [53, 45.5], [50, 51.1], [48, 51.1]], [[51, 35], [51, 28.7], [53, 28.7], [53, 35], [51, 35]], [[52, 22.4], [55, 17.5], [56, 17.5], [53, 22.4], [52, 22.4]], [[58, 12.6], [62, 7], [63, 7], [60, 12.6], [58, 12.6]], [[0, 3.5], [0, 93.1], [64, 93.1], [64, 0], [63, 0], [63, 92.4], [1, 92.4], [1, 3.5], [0, 3.5]]], s = 0; s < o.length; s++) for (var l = 0; l < o[s].length; l++)o[s][l][0] /= 10.5, o[s][l][1] /= -14, o[s][l][0] += r[0], o[s][l][1] += r[1]; function u (e, t) { e === 'china' && t.push(new a('南海诸岛', n.map(o, function (e) { return { type: 'polygon', exterior: e } }), r)) }e.exports = u }, '32a1': function (e, t, i) { var n = i('6d8b'); var a = i('7dcf'); var r = i('ef6a'); var o = i('5576'); var s = n.bind; var l = a.extend({ type: 'dataZoom.inside', init: function (e, t) { this._range }, render: function (e, t, i, a) { l.superApply(this, 'render', arguments), this._range = e.getPercentRange(), n.each(this.getTargetCoordInfo(), function (t, a) { var r = n.map(t, function (e) { return o.generateCoordId(e.model) }); n.each(t, function (t) { var l = t.model; var c = {}; n.each(['pan', 'zoom', 'scrollMove'], function (e) { c[e] = s(u[e], this, t, a) }, this), o.register(i, { coordId: o.generateCoordId(l), allCoordIds: r, containsPoint: function (e, t, i) { return l.coordinateSystem.containPoint([t, i]) }, dataZoomId: e.id, dataZoomModel: e, getRange: c }) }, this) }, this) }, dispose: function () { o.unregister(this.api, this.dataZoomModel.id), l.superApply(this, 'dispose', arguments), this._range = null } }); var u = { zoom: function (e, t, i, n) { var a = this._range; var o = a.slice(); var s = e.axisModels[0]; if (s) { var l = h[t](null, [n.originX, n.originY], s, i, e); var u = (l.signal > 0 ? l.pixelStart + l.pixelLength - l.pixel : l.pixel - l.pixelStart) / l.pixelLength * (o[1] - o[0]) + o[0]; var c = Math.max(1 / n.scale, 0); o[0] = (o[0] - u) * c + u, o[1] = (o[1] - u) * c + u; var d = this.dataZoomModel.findRepresentativeAxisProxy().getMinMaxSpan(); return r(0, o, [0, 100], 0, d.minSpan, d.maxSpan), this._range = o, a[0] !== o[0] || a[1] !== o[1] ? o : void 0 } }, pan: c(function (e, t, i, n, a, r) { var o = h[n]([r.oldX, r.oldY], [r.newX, r.newY], t, a, i); return o.signal * (e[1] - e[0]) * o.pixel / o.pixelLength }), scrollMove: c(function (e, t, i, n, a, r) { var o = h[n]([0, 0], [r.scrollDelta, r.scrollDelta], t, a, i); return o.signal * (e[1] - e[0]) * r.scrollDelta }) }; function c (e) { return function (t, i, n, a) { var o = this._range; var s = o.slice(); var l = t.axisModels[0]; if (l) { var u = e(s, l, t, i, n, a); return r(u, s, [0, 100], 'all'), this._range = s, o[0] !== s[0] || o[1] !== s[1] ? s : void 0 } } } var h = { grid: function (e, t, i, n, a) { var r = i.axis; var o = {}; var s = a.model.coordinateSystem.getRect(); return e = e || [0, 0], r.dim === 'x' ? (o.pixel = t[0] - e[0], o.pixelLength = s.width, o.pixelStart = s.x, o.signal = r.inverse ? 1 : -1) : (o.pixel = t[1] - e[1], o.pixelLength = s.height, o.pixelStart = s.y, o.signal = r.inverse ? -1 : 1), o }, polar: function (e, t, i, n, a) { var r = i.axis; var o = {}; var s = a.model.coordinateSystem; var l = s.getRadiusAxis().getExtent(); var u = s.getAngleAxis().getExtent(); return e = e ? s.pointToCoord(e) : [0, 0], t = s.pointToCoord(t), i.mainType === 'radiusAxis' ? (o.pixel = t[0] - e[0], o.pixelLength = l[1] - l[0], o.pixelStart = l[0], o.signal = r.inverse ? 1 : -1) : (o.pixel = t[1] - e[1], o.pixelLength = u[1] - u[0], o.pixelStart = u[0], o.signal = r.inverse ? -1 : 1), o }, singleAxis: function (e, t, i, n, a) { var r = i.axis; var o = a.model.coordinateSystem.getRect(); var s = {}; return e = e || [0, 0], r.orient === 'horizontal' ? (s.pixel = t[0] - e[0], s.pixelLength = o.width, s.pixelStart = o.x, s.signal = r.inverse ? 1 : -1) : (s.pixel = t[1] - e[1], s.pixelLength = o.height, s.pixelStart = o.y, s.signal = r.inverse ? -1 : 1), s } }; var d = l; e.exports = d }, 3301: function (e, t, i) { var n = i('6d8b'); var a = i('6179'); var r = i('b1d4'); var o = i('93d0'); var s = o.SOURCE_FORMAT_ORIGINAL; var l = i('2f45'); var u = l.getDimensionTypeByAxis; var c = i('e0d3'); var h = c.getDataItemValue; var d = i('2039'); var f = i('8b7f'); var p = f.getCoordSysInfoBySeries; var g = i('ec6f'); var m = i('ee1a'); var v = m.enableDataStack; var y = i('0f99'); var x = y.makeSeriesEncodeForAxisCoordSys; function _ (e, t, i) { i = i || {}, g.isInstance(e) || (e = g.seriesDataToSource(e)); var o; var s = t.get('coordinateSystem'); var l = d.get(s); var c = p(t); c && (o = n.map(c.coordSysDims, function (e) { var t = { name: e }; var i = c.axisMap.get(e); if (i) { var n = i.get('type'); t.type = u(n) } return t })), o || (o = l && (l.getDimensionsInfo ? l.getDimensionsInfo() : l.dimensions.slice()) || ['x', 'y']); var h; var f; var m = r(e, { coordDimensions: o, generateCoord: i.generateCoord, encodeDefaulter: i.useEncodeDefaulter ? n.curry(x, o, t) : null }); c && n.each(m, function (e, t) { var i = e.coordDim; var n = c.categoryAxisMap.get(i); n && (h == null && (h = t), e.ordinalMeta = n.getOrdinalMeta()), e.otherDims.itemName != null && (f = !0) }), f || h == null || (m[h].otherDims.itemName = 0); var y = v(t, m); var _ = new a(m, t); _.setCalculationInfo(y); var w = h != null && b(e) ? function (e, t, i, n) { return n === h ? i : this.defaultDimValueGetter(e, t, i, n) } : null; return _.hasItemOption = !1, _.initData(e, null, w), _ } function b (e) { if (e.sourceFormat === s) { var t = w(e.data || []); return t != null && !n.isArray(h(t)) } } function w (e) { var t = 0; while (t < e.length && e[t] == null)t++; return e[t] } var S = _; e.exports = S }, 3329: function (e, t, i) { var n = i('3eba'); var a = i('6d8b'); var r = i('2306'); var o = i('a15a'); var s = o.createSymbol; var l = i('3842'); var u = l.parsePercent; var c = l.isNumeric; var h = i('e7aa'); var d = h.setLabel; var f = ['itemStyle', 'borderWidth']; var p = [{ xy: 'x', wh: 'width', index: 0, posDesc: ['left', 'right'] }, { xy: 'y', wh: 'height', index: 1, posDesc: ['top', 'bottom'] }]; var g = new r.Circle(); var m = n.extendChartView({ type: 'pictorialBar', render: function (e, t, i) { var n = this.group; var a = e.getData(); var r = this._data; var o = e.coordinateSystem; var s = o.getBaseAxis(); var l = !!s.isHorizontal(); var u = o.grid.getRect(); var c = { ecSize: { width: i.getWidth(), height: i.getHeight() }, seriesModel: e, coordSys: o, coordSysExtent: [[u.x, u.x + u.width], [u.y, u.y + u.height]], isHorizontal: l, valueDim: p[+l], categoryDim: p[1 - l] }; return a.diff(r).add(function (e) { if (a.hasValue(e)) { var t = C(a, e); var i = v(a, e, t, c); var r = k(a, c, i); a.setItemGraphicEl(e, r), n.add(r), B(r, c, i) } }).update(function (e, t) { var i = r.getItemGraphicEl(t); if (a.hasValue(e)) { var o = C(a, e); var s = v(a, e, o, c); var l = E(a, s); i && l !== i.__pictorialShapeStr && (n.remove(i), a.setItemGraphicEl(e, null), i = null), i ? O(i, c, s) : i = k(a, c, s, !0), a.setItemGraphicEl(e, i), i.__pictorialSymbolMeta = s, n.add(i), B(i, c, s) } else n.remove(i) }).remove(function (e) { var t = r.getItemGraphicEl(e); t && R(r, e, t.__pictorialSymbolMeta.animationModel, t) }).execute(), this._data = a, this.group }, dispose: a.noop, remove: function (e, t) { var i = this.group; var n = this._data; e.get('animation') ? n && n.eachItemGraphicEl(function (t) { R(n, t.dataIndex, e, t) }) : i.removeAll() } }); function v (e, t, i, n) { var r = e.getItemLayout(t); var o = i.get('symbolRepeat'); var s = i.get('symbolClip'); var l = i.get('symbolPosition') || 'start'; var c = i.get('symbolRotate'); var h = (c || 0) * Math.PI / 180 || 0; var d = i.get('symbolPatternSize') || 2; var f = i.isAnimationEnabled(); var p = { dataIndex: t, layout: r, itemModel: i, symbolType: e.getItemVisual(t, 'symbol') || 'circle', color: e.getItemVisual(t, 'color'), symbolClip: s, symbolRepeat: o, symbolRepeatDirection: i.get('symbolRepeatDirection'), symbolPatternSize: d, rotation: h, animationModel: f ? i : null, hoverAnimation: f && i.get('hoverAnimation'), z2: i.getShallow('z', !0) || 0 }; y(i, o, r, n, p), _(e, t, r, o, s, p.boundingLength, p.pxSign, d, n, p), b(i, p.symbolScale, h, n, p); var g = p.symbolSize; var m = i.get('symbolOffset'); return a.isArray(m) && (m = [u(m[0], g[0]), u(m[1], g[1])]), w(i, g, r, o, s, m, l, p.valueLineWidth, p.boundingLength, p.repeatCutLength, n, p), p } function y (e, t, i, n, r) { var o; var s = n.valueDim; var l = e.get('symbolBoundingData'); var u = n.coordSys.getOtherAxis(n.coordSys.getBaseAxis()); var c = u.toGlobalCoord(u.dataToCoord(0)); var h = 1 - +(i[s.wh] <= 0); if (a.isArray(l)) { var d = [x(u, l[0]) - c, x(u, l[1]) - c]; d[1] < d[0] && d.reverse(), o = d[h] } else o = l != null ? x(u, l) - c : t ? n.coordSysExtent[s.index][h] - c : i[s.wh]; r.boundingLength = o, t && (r.repeatCutLength = i[s.wh]), r.pxSign = o > 0 ? 1 : o < 0 ? -1 : 0 } function x (e, t) { return e.toGlobalCoord(e.dataToCoord(e.scale.parse(t))) } function _ (e, t, i, n, r, o, s, l, c, h) { var d = c.valueDim; var f = c.categoryDim; var p = Math.abs(i[f.wh]); var g = e.getItemVisual(t, 'symbolSize'); a.isArray(g) ? g = g.slice() : (g == null && (g = '100%'), g = [g, g]), g[f.index] = u(g[f.index], p), g[d.index] = u(g[d.index], n ? p : Math.abs(o)), h.symbolSize = g; var m = h.symbolScale = [g[0] / l, g[1] / l]; m[d.index] *= (c.isHorizontal ? -1 : 1) * s } function b (e, t, i, n, a) { var r = e.get(f) || 0; r && (g.attr({ scale: t.slice(), rotation: i }), g.updateTransform(), r /= g.getLineScale(), r *= t[n.valueDim.index]), a.valueLineWidth = r } function w (e, t, i, n, r, o, s, l, h, d, f, p) { var g = f.categoryDim; var m = f.valueDim; var v = p.pxSign; var y = Math.max(t[m.index] + l, 0); var x = y; if (n) { var _ = Math.abs(h); var b = a.retrieve(e.get('symbolMargin'), '15%') + ''; var w = !1; b.lastIndexOf('!') === b.length - 1 && (w = !0, b = b.slice(0, b.length - 1)), b = u(b, t[m.index]); var S = Math.max(y + 2 * b, 0); var M = w ? 0 : 2 * b; var I = c(n); var A = I ? n : V((_ + M) / S); var T = _ - A * y; b = T / 2 / (w ? A : A - 1), S = y + 2 * b, M = w ? 0 : 2 * b, I || n === 'fixed' || (A = d ? V((Math.abs(d) + M) / S) : 0), x = A * S - M, p.repeatTimes = A, p.symbolMargin = b } var C = v * (x / 2); var D = p.pathPosition = []; D[g.index] = i[g.wh] / 2, D[m.index] = s === 'start' ? C : s === 'end' ? h - C : h / 2, o && (D[0] += o[0], D[1] += o[1]); var L = p.bundlePosition = []; L[g.index] = i[g.xy], L[m.index] = i[m.xy]; var P = p.barRectShape = a.extend({}, i); P[m.wh] = v * Math.max(Math.abs(i[m.wh]), Math.abs(D[m.index] + C)), P[g.wh] = i[g.wh]; var k = p.clipShape = {}; k[g.xy] = -i[g.xy], k[g.wh] = f.ecSize[g.wh], k[m.xy] = 0, k[m.wh] = i[m.wh] } function S (e) { var t = e.symbolPatternSize; var i = s(e.symbolType, -t / 2, -t / 2, t, t, e.color); return i.attr({ culling: !0 }), i.type !== 'image' && i.setStyle({ strokeNoScale: !0 }), i } function M (e, t, i, n) { var a = e.__pictorialBundle; var r = i.symbolSize; var o = i.valueLineWidth; var s = i.pathPosition; var l = t.valueDim; var u = i.repeatTimes || 0; var c = 0; var h = r[t.valueDim.index] + o + 2 * i.symbolMargin; for (N(e, function (e) { e.__pictorialAnimationIndex = c, e.__pictorialRepeatTimes = u, c < u ? z(e, null, p(c), i, n) : z(e, null, { scale: [0, 0] }, i, n, function () { a.remove(e) }), P(e, i), c++ }); c < u; c++) { var d = S(i); d.__pictorialAnimationIndex = c, d.__pictorialRepeatTimes = u, a.add(d); var f = p(c); z(d, { position: f.position, scale: [0, 0] }, { scale: f.scale, rotation: f.rotation }, i, n), d.on('mouseover', g).on('mouseout', m), P(d, i) } function p (e) { var t = s.slice(); var n = i.pxSign; var a = e; return (i.symbolRepeatDirection === 'start' ? n > 0 : n < 0) && (a = u - 1 - e), t[l.index] = h * (a - u / 2 + 0.5) + s[l.index], { position: t, scale: i.symbolScale.slice(), rotation: i.rotation } } function g () { N(e, function (e) { e.trigger('emphasis') }) } function m () { N(e, function (e) { e.trigger('normal') }) } } function I (e, t, i, n) { var a = e.__pictorialBundle; var r = e.__pictorialMainPath; function o () { this.trigger('emphasis') } function s () { this.trigger('normal') }r ? z(r, null, { position: i.pathPosition.slice(), scale: i.symbolScale.slice(), rotation: i.rotation }, i, n) : (r = e.__pictorialMainPath = S(i), a.add(r), z(r, { position: i.pathPosition.slice(), scale: [0, 0], rotation: i.rotation }, { scale: i.symbolScale.slice() }, i, n), r.on('mouseover', o).on('mouseout', s)), P(r, i) } function A (e, t, i) { var n = a.extend({}, t.barRectShape); var o = e.__pictorialBarRect; o ? z(o, null, { shape: n }, t, i) : (o = e.__pictorialBarRect = new r.Rect({ z2: 2, shape: n, silent: !0, style: { stroke: 'transparent', fill: 'transparent', lineWidth: 0 } }), e.add(o)) } function T (e, t, i, n) { if (i.symbolClip) { var o = e.__pictorialClipPath; var s = a.extend({}, i.clipShape); var l = t.valueDim; var u = i.animationModel; var c = i.dataIndex; if (o)r.updateProps(o, { shape: s }, u, c); else { s[l.wh] = 0, o = new r.Rect({ shape: s }), e.__pictorialBundle.setClipPath(o), e.__pictorialClipPath = o; var h = {}; h[l.wh] = i.clipShape[l.wh], r[n ? 'updateProps' : 'initProps'](o, { shape: h }, u, c) } } } function C (e, t) { var i = e.getItemModel(t); return i.getAnimationDelayParams = D, i.isAnimationEnabled = L, i } function D (e) { return { index: e.__pictorialAnimationIndex, count: e.__pictorialRepeatTimes } } function L () { return this.parentModel.isAnimationEnabled() && !!this.getShallow('animation') } function P (e, t) { e.off('emphasis').off('normal'); var i = t.symbolScale.slice(); t.hoverAnimation && e.on('emphasis', function () { this.animateTo({ scale: [1.1 * i[0], 1.1 * i[1]] }, 400, 'elasticOut') }).on('normal', function () { this.animateTo({ scale: i.slice() }, 400, 'elasticOut') }) } function k (e, t, i, n) { var a = new r.Group(); var o = new r.Group(); return a.add(o), a.__pictorialBundle = o, o.attr('position', i.bundlePosition.slice()), i.symbolRepeat ? M(a, t, i) : I(a, t, i), A(a, i, n), T(a, t, i, n), a.__pictorialShapeStr = E(e, i), a.__pictorialSymbolMeta = i, a } function O (e, t, i) { var n = i.animationModel; var a = i.dataIndex; var o = e.__pictorialBundle; r.updateProps(o, { position: i.bundlePosition.slice() }, n, a), i.symbolRepeat ? M(e, t, i, !0) : I(e, t, i, !0), A(e, i, !0), T(e, t, i, !0) } function R (e, t, i, n) { var o = n.__pictorialBarRect; o && (o.style.text = null); var s = []; N(n, function (e) { s.push(e) }), n.__pictorialMainPath && s.push(n.__pictorialMainPath), n.__pictorialClipPath && (i = null), a.each(s, function (e) { r.updateProps(e, { scale: [0, 0] }, i, t, function () { n.parent && n.parent.remove(n) }) }), e.setItemGraphicEl(t, null) } function E (e, t) { return [e.getItemVisual(t.dataIndex, 'symbol') || 'none', !!t.symbolRepeat, !!t.symbolClip].join(':') } function N (e, t, i) { a.each(e.__pictorialBundle.children(), function (n) { n !== e.__pictorialBarRect && t.call(i, n) }) } function z (e, t, i, n, a, o) { t && e.attr(t), n.symbolClip && !a ? i && e.attr(i) : i && r[a ? 'updateProps' : 'initProps'](e, i, n.animationModel, n.dataIndex, o) } function B (e, t, i) { var n = i.color; var o = i.dataIndex; var s = i.itemModel; var l = s.getModel('itemStyle').getItemStyle(['color']); var u = s.getModel('emphasis.itemStyle').getItemStyle(); var c = s.getShallow('cursor'); N(e, function (e) { e.setColor(n), e.setStyle(a.defaults({ fill: n, opacity: i.opacity }, l)), r.setHoverStyle(e, u), c && (e.cursor = c), e.z2 = i.z2 }); var h = {}; var f = t.valueDim.posDesc[+(i.boundingLength > 0)]; var p = e.__pictorialBarRect; d(p.style, h, s, n, t.seriesModel, o, f), r.setHoverStyle(p, h) } function V (e) { var t = Math.round(e); return Math.abs(e - t) < 1e-4 ? t : Math.ceil(e) } var G = m; e.exports = G }, '340d': function (e, t, i) { var n = i('6d8b'); var a = i('e887'); var r = i('4e47'); var o = i('80f0'); var s = i('eda2'); var l = s.windowOpen; var u = 'sunburstRootToNode'; var c = a.extend({ type: 'sunburst', init: function () {}, render: function (e, t, i, a) { var s = this; this.seriesModel = e, this.api = i, this.ecModel = t; var l = e.getData(); var u = l.tree.root; var c = e.getViewRoot(); var h = this.group; var d = e.get('renderLabelForZeroData'); var f = []; c.eachNode(function (e) { f.push(e) }); var p = this._oldChildren || []; if (v(f, p), _(u, c), a && a.highlight && a.highlight.piece) { var g = e.getShallow('highlightPolicy'); a.highlight.piece.onEmphasis(g) } else if (a && a.unhighlight) { var m = this.virtualPiece; !m && u.children.length && (m = u.children[0].piece), m && m.onNormal() } function v (e, t) { function i (e) { return e.getId() } function a (i, n) { var a = i == null ? null : e[i]; var r = n == null ? null : t[n]; y(a, r) }e.length === 0 && t.length === 0 || new o(t, e, i, i).add(a).update(a).remove(n.curry(a, null)).execute() } function y (i, n) { if (d || !i || i.getValue() || (i = null), i !== u && n !== u) if (n && n.piece)i ? (n.piece.updateData(!1, i, 'normal', e, t), l.setItemGraphicEl(i.dataIndex, n.piece)) : x(n); else if (i) { var a = new r(i, e, t); h.add(a), l.setItemGraphicEl(i.dataIndex, a) } } function x (e) { e && e.piece && (h.remove(e.piece), e.piece = null) } function _ (i, n) { if (n.depth > 0) { s.virtualPiece ? s.virtualPiece.updateData(!1, i, 'normal', e, t) : (s.virtualPiece = new r(i, e, t), h.add(s.virtualPiece)), n.piece._onclickEvent && n.piece.off('click', n.piece._onclickEvent); var a = function (e) { s._rootToNode(n.parentNode) }; n.piece._onclickEvent = a, s.virtualPiece.on('click', a) } else s.virtualPiece && (h.remove(s.virtualPiece), s.virtualPiece = null) } this._initEvents(), this._oldChildren = f }, dispose: function () {}, _initEvents: function () { var e = this; var t = function (t) { var i = !1; var n = e.seriesModel.getViewRoot(); n.eachNode(function (n) { if (!i && n.piece && n.piece.childAt(0) === t.target) { var a = n.getModel().get('nodeClick'); if (a === 'rootToNode')e._rootToNode(n); else if (a === 'link') { var r = n.getModel(); var o = r.get('link'); if (o) { var s = r.get('target', !0) || '_blank'; l(o, s) } }i = !0 } }) }; this.group._onclickEvent && this.group.off('click', this.group._onclickEvent), this.group.on('click', t), this.group._onclickEvent = t }, _rootToNode: function (e) { e !== this.seriesModel.getViewRoot() && this.api.dispatchAction({ type: u, from: this.uid, seriesId: this.seriesModel.id, targetNode: e }) }, containPoint: function (e, t) { var i = t.getData(); var n = i.getItemLayout(0); if (n) { var a = e[0] - n.cx; var r = e[1] - n.cy; var o = Math.sqrt(a * a + r * r); return o <= n.r && o >= n.r0 } } }); var h = c; e.exports = h }, '342d': function (e, t, i) { var n = i('cbe5'); var a = i('20c8'); var r = i('ee84'); var o = Math.sqrt; var s = Math.sin; var l = Math.cos; var u = Math.PI; var c = function (e) { return Math.sqrt(e[0] * e[0] + e[1] * e[1]) }; var h = function (e, t) { return (e[0] * t[0] + e[1] * t[1]) / (c(e) * c(t)) }; var d = function (e, t) { return (e[0] * t[1] < e[1] * t[0] ? -1 : 1) * Math.acos(h(e, t)) }; function f (e, t, i, n, a, r, c, f, p, g, m) { var v = p * (u / 180); var y = l(v) * (e - i) / 2 + s(v) * (t - n) / 2; var x = -1 * s(v) * (e - i) / 2 + l(v) * (t - n) / 2; var _ = y * y / (c * c) + x * x / (f * f); _ > 1 && (c *= o(_), f *= o(_)); var b = (a === r ? -1 : 1) * o((c * c * (f * f) - c * c * (x * x) - f * f * (y * y)) / (c * c * (x * x) + f * f * (y * y))) || 0; var w = b * c * x / f; var S = b * -f * y / c; var M = (e + i) / 2 + l(v) * w - s(v) * S; var I = (t + n) / 2 + s(v) * w + l(v) * S; var A = d([1, 0], [(y - w) / c, (x - S) / f]); var T = [(y - w) / c, (x - S) / f]; var C = [(-1 * y - w) / c, (-1 * x - S) / f]; var D = d(T, C); h(T, C) <= -1 && (D = u), h(T, C) >= 1 && (D = 0), r === 0 && D > 0 && (D -= 2 * u), r === 1 && D < 0 && (D += 2 * u), m.addData(g, M, I, c, f, A, D, v, r) } var p = /([mlvhzcqtsa])([^mlvhzcqtsa]*)/gi; var g = /-?([0-9]*\.)?[0-9]+([eE]-?[0-9]+)?/g; function m (e) { if (!e) return new a(); for (var t, i = 0, n = 0, r = i, o = n, s = new a(), l = a.CMD, u = e.match(p), c = 0; c < u.length; c++) { for (var h, d = u[c], m = d.charAt(0), v = d.match(g) || [], y = v.length, x = 0; x < y; x++)v[x] = parseFloat(v[x]); var _ = 0; while (_ < y) { var b; var w; var S; var M; var I; var A; var T; var C = i; var D = n; switch (m) { case 'l':i += v[_++], n += v[_++], h = l.L, s.addData(h, i, n); break; case 'L':i = v[_++], n = v[_++], h = l.L, s.addData(h, i, n); break; case 'm':i += v[_++], n += v[_++], h = l.M, s.addData(h, i, n), r = i, o = n, m = 'l'; break; case 'M':i = v[_++], n = v[_++], h = l.M, s.addData(h, i, n), r = i, o = n, m = 'L'; break; case 'h':i += v[_++], h = l.L, s.addData(h, i, n); break; case 'H':i = v[_++], h = l.L, s.addData(h, i, n); break; case 'v':n += v[_++], h = l.L, s.addData(h, i, n); break; case 'V':n = v[_++], h = l.L, s.addData(h, i, n); break; case 'C':h = l.C, s.addData(h, v[_++], v[_++], v[_++], v[_++], v[_++], v[_++]), i = v[_ - 2], n = v[_ - 1]; break; case 'c':h = l.C, s.addData(h, v[_++] + i, v[_++] + n, v[_++] + i, v[_++] + n, v[_++] + i, v[_++] + n), i += v[_ - 2], n += v[_ - 1]; break; case 'S':b = i, w = n; var L = s.len(); var P = s.data; t === l.C && (b += i - P[L - 4], w += n - P[L - 3]), h = l.C, C = v[_++], D = v[_++], i = v[_++], n = v[_++], s.addData(h, b, w, C, D, i, n); break; case 's':b = i, w = n; L = s.len(), P = s.data; t === l.C && (b += i - P[L - 4], w += n - P[L - 3]), h = l.C, C = i + v[_++], D = n + v[_++], i += v[_++], n += v[_++], s.addData(h, b, w, C, D, i, n); break; case 'Q':C = v[_++], D = v[_++], i = v[_++], n = v[_++], h = l.Q, s.addData(h, C, D, i, n); break; case 'q':C = v[_++] + i, D = v[_++] + n, i += v[_++], n += v[_++], h = l.Q, s.addData(h, C, D, i, n); break; case 'T':b = i, w = n; L = s.len(), P = s.data; t === l.Q && (b += i - P[L - 4], w += n - P[L - 3]), i = v[_++], n = v[_++], h = l.Q, s.addData(h, b, w, i, n); break; case 't':b = i, w = n; L = s.len(), P = s.data; t === l.Q && (b += i - P[L - 4], w += n - P[L - 3]), i += v[_++], n += v[_++], h = l.Q, s.addData(h, b, w, i, n); break; case 'A':S = v[_++], M = v[_++], I = v[_++], A = v[_++], T = v[_++], C = i, D = n, i = v[_++], n = v[_++], h = l.A, f(C, D, i, n, A, T, S, M, I, h, s); break; case 'a':S = v[_++], M = v[_++], I = v[_++], A = v[_++], T = v[_++], C = i, D = n, i += v[_++], n += v[_++], h = l.A, f(C, D, i, n, A, T, S, M, I, h, s); break } }m !== 'z' && m !== 'Z' || (h = l.Z, s.addData(h), i = r, n = o), t = h } return s.toStatic(), s } function v (e, t) { var i = m(e); return t = t || {}, t.buildPath = function (e) { if (e.setData) { e.setData(i.data); var t = e.getContext(); t && e.rebuildPath(t) } else { t = e; i.rebuildPath(t) } }, t.applyTransform = function (e) { r(i, e), this.dirty(!0) }, t } function y (e, t) { return new n(v(e, t)) } function x (e, t) { return n.extend(v(e, t)) } function _ (e, t) { for (var i = [], a = e.length, r = 0; r < a; r++) { var o = e[r]; o.path || o.createPathProxy(), o.__dirtyPath && o.buildPath(o.path, o.shape, !0), i.push(o.path) } var s = new n(t); return s.createPathProxy(), s.buildPath = function (e) { e.appendPath(i); var t = e.getContext(); t && e.rebuildPath(t) }, s }t.createFromString = y, t.extendFromString = x, t.mergePath = _ }, '347f': function (e, t, i) { var n = i('6d8b'); var a = i('9850'); var r = i('1687'); var o = i('2306'); var s = i('f934'); var l = i('933b'); var u = i('08c3'); var c = i('a15a'); var h = c.createSymbol; var d = i('697e'); var f = i('3842'); var p = i('eda2'); var g = p.encodeHTML; var m = n.bind; var v = n.each; var y = Math.PI; var x = l.extend({ type: 'timeline.slider', init: function (e, t) { this.api = t, this._axis, this._viewRect, this._timer, this._currentPointer, this._mainGroup, this._labelGroup }, render: function (e, t, i, n) { if (this.model = e, this.api = i, this.ecModel = t, this.group.removeAll(), e.get('show', !0)) { var a = this._layout(e, i); var r = this._createGroup('mainGroup'); var o = this._createGroup('labelGroup'); var s = this._axis = this._createAxis(a, e); e.formatTooltip = function (e) { return g(s.scale.getLabel(e)) }, v(['AxisLine', 'AxisTick', 'Control', 'CurrentPointer'], function (t) { this['_render' + t](a, r, s, e) }, this), this._renderAxisLabel(a, o, s, e), this._position(a, e) } this._doPlayStop() }, remove: function () { this._clearTimer(), this.group.removeAll() }, dispose: function () { this._clearTimer() }, _layout: function (e, t) { var i = e.get('label.position'); var n = e.get('orient'); var a = _(e, t); i == null || i === 'auto' ? i = n === 'horizontal' ? a.y + a.height / 2 < t.getHeight() / 2 ? '-' : '+' : a.x + a.width / 2 < t.getWidth() / 2 ? '+' : '-' : isNaN(i) && (i = { horizontal: { top: '-', bottom: '+' }, vertical: { left: '-', right: '+' } }[n][i]); var r; var o; var s; var l; var u = { horizontal: 'center', vertical: i >= 0 || i === '+' ? 'left' : 'right' }; var c = { horizontal: i >= 0 || i === '+' ? 'top' : 'bottom', vertical: 'middle' }; var h = { horizontal: 0, vertical: y / 2 }; var d = n === 'vertical' ? a.height : a.width; var f = e.getModel('controlStyle'); var p = f.get('show', !0); var g = p ? f.get('itemSize') : 0; var m = p ? f.get('itemGap') : 0; var v = g + m; var x = e.get('label.rotate') || 0; x = x * y / 180; var b = f.get('position', !0); var w = p && f.get('showPlayBtn', !0); var S = p && f.get('showPrevBtn', !0); var M = p && f.get('showNextBtn', !0); var I = 0; var A = d; return b === 'left' || b === 'bottom' ? (w && (r = [0, 0], I += v), S && (o = [I, 0], I += v), M && (s = [A - g, 0], A -= v)) : (w && (r = [A - g, 0], A -= v), S && (o = [0, 0], I += v), M && (s = [A - g, 0], A -= v)), l = [I, A], e.get('inverse') && l.reverse(), { viewRect: a, mainLength: d, orient: n, rotation: h[n], labelRotation: x, labelPosOpt: i, labelAlign: e.get('label.align') || u[n], labelBaseline: e.get('label.verticalAlign') || e.get('label.baseline') || c[n], playPosition: r, prevBtnPosition: o, nextBtnPosition: s, axisExtent: l, controlSize: g, controlGap: m } }, _position: function (e, t) { var i = this._mainGroup; var n = this._labelGroup; var a = e.viewRect; if (e.orient === 'vertical') { var o = r.create(); var s = a.x; var l = a.y + a.height; r.translate(o, o, [-s, -l]), r.rotate(o, o, -y / 2), r.translate(o, o, [s, l]), a = a.clone(), a.applyTransform(o) } var u = v(a); var c = v(i.getBoundingRect()); var h = v(n.getBoundingRect()); var d = i.position; var f = n.position; f[0] = d[0] = u[0][0]; var p = e.labelPosOpt; if (isNaN(p)) { var g = p === '+' ? 0 : 1; x(d, c, u, 1, g), x(f, h, u, 1, 1 - g) } else { g = p >= 0 ? 0 : 1; x(d, c, u, 1, g), f[1] = d[1] + p } function m (e) { var t = e.position; e.origin = [u[0][0] - t[0], u[1][0] - t[1]] } function v (e) { return [[e.x, e.x + e.width], [e.y, e.y + e.height]] } function x (e, t, i, n, a) { e[n] += i[n][a] - t[n][a] }i.attr('position', d), n.attr('position', f), i.rotation = n.rotation = e.rotation, m(i), m(n) }, _createAxis: function (e, t) { var i = t.getData(); var n = t.get('axisType'); var a = d.createScaleByModel(t, n); a.getTicks = function () { return i.mapArray(['value'], function (e) { return e }) }; var r = i.getDataExtent('value'); a.setExtent(r[0], r[1]), a.niceTicks(); var o = new u('value', a, e.axisExtent, n); return o.model = t, o }, _createGroup: function (e) { var t = this['_' + e] = new o.Group(); return this.group.add(t), t }, _renderAxisLine: function (e, t, i, a) { var r = i.getExtent(); a.get('lineStyle.show') && t.add(new o.Line({ shape: { x1: r[0], y1: 0, x2: r[1], y2: 0 }, style: n.extend({ lineCap: 'round' }, a.getModel('lineStyle').getLineStyle()), silent: !0, z2: 1 })) }, _renderAxisTick: function (e, t, i, n) { var a = n.getData(); var r = i.scale.getTicks(); v(r, function (e) { var r = i.dataToCoord(e); var s = a.getItemModel(e); var l = s.getModel('itemStyle'); var u = s.getModel('emphasis.itemStyle'); var c = { position: [r, 0], onclick: m(this._changeTimeline, this, e) }; var h = w(s, l, t, c); o.setHoverStyle(h, u.getItemStyle()), s.get('tooltip') ? (h.dataIndex = e, h.dataModel = n) : h.dataIndex = h.dataModel = null }, this) }, _renderAxisLabel: function (e, t, i, n) { var a = i.getLabelModel(); if (a.get('show')) { var r = n.getData(); var s = i.getViewLabels(); v(s, function (n) { var a = n.tickValue; var s = r.getItemModel(a); var l = s.getModel('label'); var u = s.getModel('emphasis.label'); var c = i.dataToCoord(n.tickValue); var h = new o.Text({ position: [c, 0], rotation: e.labelRotation - e.rotation, onclick: m(this._changeTimeline, this, a), silent: !1 }); o.setTextStyle(h.style, l, { text: n.formattedLabel, textAlign: e.labelAlign, textVerticalAlign: e.labelBaseline }), t.add(h), o.setHoverStyle(h, o.setTextStyle({}, u)) }, this) } }, _renderControl: function (e, t, i, n) { var a = e.controlSize; var r = e.rotation; var s = n.getModel('controlStyle').getItemStyle(); var l = n.getModel('emphasis.controlStyle').getItemStyle(); var u = [0, -a / 2, a, a]; var c = n.getPlayState(); var h = n.get('inverse', !0); function d (e, i, c, h) { if (e) { var d = { position: e, origin: [a / 2, 0], rotation: h ? -r : 0, rectHover: !0, style: s, onclick: c }; var f = b(n, i, u, d); t.add(f), o.setHoverStyle(f, l) } }d(e.nextBtnPosition, 'controlStyle.nextIcon', m(this._changeTimeline, this, h ? '-' : '+')), d(e.prevBtnPosition, 'controlStyle.prevIcon', m(this._changeTimeline, this, h ? '+' : '-')), d(e.playPosition, 'controlStyle.' + (c ? 'stopIcon' : 'playIcon'), m(this._handlePlayClick, this, !c), !0) }, _renderCurrentPointer: function (e, t, i, n) { var a = n.getData(); var r = n.getCurrentIndex(); var o = a.getItemModel(r).getModel('checkpointStyle'); var s = this; var l = { onCreate: function (e) { e.draggable = !0, e.drift = m(s._handlePointerDrag, s), e.ondragend = m(s._handlePointerDragend, s), S(e, r, i, n, !0) }, onUpdate: function (e) { S(e, r, i, n) } }; this._currentPointer = w(o, o, this._mainGroup, {}, this._currentPointer, l) }, _handlePlayClick: function (e) { this._clearTimer(), this.api.dispatchAction({ type: 'timelinePlayChange', playState: e, from: this.uid }) }, _handlePointerDrag: function (e, t, i) { this._clearTimer(), this._pointerChangeTimeline([i.offsetX, i.offsetY]) }, _handlePointerDragend: function (e) { this._pointerChangeTimeline([e.offsetX, e.offsetY], !0) }, _pointerChangeTimeline: function (e, t) { var i = this._toAxisCoord(e)[0]; var n = this._axis; var a = f.asc(n.getExtent().slice()); i > a[1] && (i = a[1]), i < a[0] && (i = a[0]), this._currentPointer.position[0] = i, this._currentPointer.dirty(); var r = this._findNearestTick(i); var o = this.model; (t || r !== o.getCurrentIndex() && o.get('realtime')) && this._changeTimeline(r) }, _doPlayStop: function () { function e () { var e = this.model; this._changeTimeline(e.getCurrentIndex() + (e.get('rewind', !0) ? -1 : 1)) } this._clearTimer(), this.model.getPlayState() && (this._timer = setTimeout(m(e, this), this.model.get('playInterval'))) }, _toAxisCoord: function (e) { var t = this._mainGroup.getLocalTransform(); return o.applyTransform(e, t, !0) }, _findNearestTick: function (e) { var t; var i = this.model.getData(); var n = 1 / 0; var a = this._axis; return i.each(['value'], function (i, r) { var o = a.dataToCoord(i); var s = Math.abs(o - e); s < n && (n = s, t = r) }), t }, _clearTimer: function () { this._timer && (clearTimeout(this._timer), this._timer = null) }, _changeTimeline: function (e) { var t = this.model.getCurrentIndex(); e === '+' ? e = t + 1 : e === '-' && (e = t - 1), this.api.dispatchAction({ type: 'timelineChange', currentIndex: e, from: this.uid }) } }); function _ (e, t) { return s.getLayoutRect(e.getBoxLayoutParams(), { width: t.getWidth(), height: t.getHeight() }, e.get('padding')) } function b (e, t, i, n) { var r = n.style; var s = o.createIcon(e.get(t), n || {}, new a(i[0], i[1], i[2], i[3])); return r && s.setStyle(r), s } function w (e, t, i, a, r, o) { var s = t.get('color'); if (r)r.setColor(s), i.add(r), o && o.onUpdate(r); else { var l = e.get('symbol'); r = h(l, -1, -1, 2, 2, s), r.setStyle('strokeNoScale', !0), i.add(r), o && o.onCreate(r) } var u = t.getItemStyle(['color', 'symbol', 'symbolSize']); r.setStyle(u), a = n.merge({ rectHover: !0, z2: 100 }, a, !0); var c = e.get('symbolSize'); c = c instanceof Array ? c.slice() : [+c, +c], c[0] /= 2, c[1] /= 2, a.scale = c; var d = e.get('symbolOffset'); if (d) { var p = a.position = a.position || [0, 0]; p[0] += f.parsePercent(d[0], c[0]), p[1] += f.parsePercent(d[1], c[1]) } var g = e.get('symbolRotate'); return a.rotation = (g || 0) * Math.PI / 180 || 0, r.attr(a), r.updateTransform(), r } function S (e, t, i, n, a) { if (!e.dragging) { var r = n.getModel('checkpointStyle'); var o = i.dataToCoord(n.getData().get(['value'], t)); a || !r.get('animation', !0) ? e.attr({ position: [o, 0] }) : (e.stopAnimation(!0), e.animateTo({ position: [o, 0] }, r.get('animationDuration', !0), r.get('animationEasing', !0))) } }e.exports = x }, 3790: function (e, t, i) { var n = i('3a56'); var a = n.extend({ type: 'dataZoom.slider', layoutMode: 'box', defaultOption: { show: !0, right: 'ph', top: 'ph', width: 'ph', height: 'ph', left: null, bottom: null, backgroundColor: 'rgba(47,69,84,0)', dataBackground: { lineStyle: { color: '#2f4554', width: 0.5, opacity: 0.3 }, areaStyle: { color: 'rgba(47,69,84,0.3)', opacity: 0.3 } }, borderColor: '#ddd', fillerColor: 'rgba(167,183,204,0.4)', handleIcon: 'M8.2,13.6V3.9H6.3v9.7H3.1v14.9h3.3v9.7h1.8v-9.7h3.3V13.6H8.2z M9.7,24.4H4.8v-1.4h4.9V24.4z M9.7,19.1H4.8v-1.4h4.9V19.1z', handleSize: '100%', handleStyle: { color: '#a7b7cc' }, labelPrecision: null, labelFormatter: null, showDetail: !0, showDataShadow: 'auto', realtime: !0, zoomLock: !1, textStyle: { color: '#333' } } }); var r = a; e.exports = r }, 3842: function (e, t, i) { var n = i('6d8b'); var a = 1e-4; function r (e) { return e.replace(/^\s+|\s+$/g, '') } function o (e, t, i, n) { var a = t[1] - t[0]; var r = i[1] - i[0]; if (a === 0) return r === 0 ? i[0] : (i[0] + i[1]) / 2; if (n) if (a > 0) { if (e <= t[0]) return i[0]; if (e >= t[1]) return i[1] } else { if (e >= t[0]) return i[0]; if (e <= t[1]) return i[1] } else { if (e === t[0]) return i[0]; if (e === t[1]) return i[1] } return (e - t[0]) / a * r + i[0] } function s (e, t) { switch (e) { case 'center':case 'middle':e = '50%'; break; case 'left':case 'top':e = '0%'; break; case 'right':case 'bottom':e = '100%'; break } return typeof e === 'string' ? r(e).match(/%$/) ? parseFloat(e) / 100 * t : parseFloat(e) : e == null ? NaN : +e } function l (e, t, i) { return t == null && (t = 10), t = Math.min(Math.max(0, t), 20), e = (+e).toFixed(t), i ? e : +e } function u (e) { return e.sort(function (e, t) { return e - t }), e } function c (e) { if (e = +e, isNaN(e)) return 0; var t = 1; var i = 0; while (Math.round(e * t) / t !== e)t *= 10, i++; return i } function h (e) { var t = e.toString(); var i = t.indexOf('e'); if (i > 0) { var n = +t.slice(i + 1); return n < 0 ? -n : 0 } var a = t.indexOf('.'); return a < 0 ? 0 : t.length - 1 - a } function d (e, t) { var i = Math.log; var n = Math.LN10; var a = Math.floor(i(e[1] - e[0]) / n); var r = Math.round(i(Math.abs(t[1] - t[0])) / n); var o = Math.min(Math.max(-a + r, 0), 20); return isFinite(o) ? o : 20 } function f (e, t, i) { if (!e[t]) return 0; var a = n.reduce(e, function (e, t) { return e + (isNaN(t) ? 0 : t) }, 0); if (a === 0) return 0; var r = Math.pow(10, i); var o = n.map(e, function (e) { return (isNaN(e) ? 0 : e) / a * r * 100 }); var s = 100 * r; var l = n.map(o, function (e) { return Math.floor(e) }); var u = n.reduce(l, function (e, t) { return e + t }, 0); var c = n.map(o, function (e, t) { return e - l[t] }); while (u < s) { for (var h = Number.NEGATIVE_INFINITY, d = null, f = 0, p = c.length; f < p; ++f)c[f] > h && (h = c[f], d = f); ++l[d], c[d] = 0, ++u } return l[t] / r } var p = 9007199254740991; function g (e) { var t = 2 * Math.PI; return (e % t + t) % t } function m (e) { return e > -a && e < a } var v = /^(?:(\d{4})(?:[-\/](\d{1,2})(?:[-\/](\d{1,2})(?:[T ](\d{1,2})(?::(\d\d)(?::(\d\d)(?:[.,](\d+))?)?)?(Z|[\+\-]\d\d:?\d\d)?)?)?)?)?$/; function y (e) { if (e instanceof Date) return e; if (typeof e === 'string') { var t = v.exec(e); if (!t) return new Date(NaN); if (t[8]) { var i = +t[4] || 0; return t[8].toUpperCase() !== 'Z' && (i -= t[8].slice(0, 3)), new Date(Date.UTC(+t[1], +(t[2] || 1) - 1, +t[3] || 1, i, +(t[5] || 0), +t[6] || 0, +t[7] || 0)) } return new Date(+t[1], +(t[2] || 1) - 1, +t[3] || 1, +t[4] || 0, +(t[5] || 0), +t[6] || 0, +t[7] || 0) } return e == null ? new Date(NaN) : new Date(Math.round(e)) } function x (e) { return Math.pow(10, _(e)) } function _ (e) { if (e === 0) return 0; var t = Math.floor(Math.log(e) / Math.LN10); return e / Math.pow(10, t) >= 10 && t++, t } function b (e, t) { var i; var n = _(e); var a = Math.pow(10, n); var r = e / a; return i = t ? r < 1.5 ? 1 : r < 2.5 ? 2 : r < 4 ? 3 : r < 7 ? 5 : 10 : r < 1 ? 1 : r < 2 ? 2 : r < 3 ? 3 : r < 5 ? 5 : 10, e = i * a, n >= -20 ? +e.toFixed(n < 0 ? -n : 0) : e } function w (e, t) { var i = (e.length - 1) * t + 1; var n = Math.floor(i); var a = +e[n - 1]; var r = i - n; return r ? a + r * (e[n] - a) : a } function S (e) { e.sort(function (e, t) { return s(e, t, 0) ? -1 : 1 }); for (var t = -1 / 0, i = 1, n = 0; n < e.length;) { for (var a = e[n].interval, r = e[n].close, o = 0; o < 2; o++)a[o] <= t && (a[o] = t, r[o] = o ? 1 : 1 - i), t = a[o], i = r[o]; a[0] === a[1] && r[0] * r[1] !== 1 ? e.splice(n, 1) : n++ } return e; function s (e, t, i) { return e.interval[i] < t.interval[i] || e.interval[i] === t.interval[i] && (e.close[i] - t.close[i] === (i ? -1 : 1) || !i && s(e, t, 1)) } } function M (e) { return e - parseFloat(e) >= 0 }t.linearMap = o, t.parsePercent = s, t.round = l, t.asc = u, t.getPrecision = c, t.getPrecisionSafe = h, t.getPixelPrecision = d, t.getPercentWithPrecision = f, t.MAX_SAFE_INTEGER = p, t.remRadian = g, t.isRadianAroundZero = m, t.parseDate = y, t.quantity = x, t.quantityExponent = _, t.nice = b, t.quantile = w, t.reformIntervals = S, t.isNumeric = M }, '38a2': function (e, t, i) { var n = i('2b17'); var a = n.retrieveRawValue; var r = i('eda2'); var o = r.getTooltipMarker; var s = r.formatTpl; var l = i('e0d3'); var u = l.getTooltipRenderMode; var c = /\{@(.+?)\}/g; var h = { getDataParams: function (e, t) { var i = this.getData(t); var n = this.getRawValue(e, t); var a = i.getRawIndex(e); var r = i.getName(e); var s = i.getRawDataItem(e); var l = i.getItemVisual(e, 'color'); var c = i.getItemVisual(e, 'borderColor'); var h = this.ecModel.getComponent('tooltip'); var d = h && h.get('renderMode'); var f = u(d); var p = this.mainType; var g = p === 'series'; var m = i.userOutput; return { componentType: p, componentSubType: this.subType, componentIndex: this.componentIndex, seriesType: g ? this.subType : null, seriesIndex: this.seriesIndex, seriesId: g ? this.id : null, seriesName: g ? this.name : null, name: r, dataIndex: a, data: s, dataType: t, value: n, color: l, borderColor: c, dimensionNames: m ? m.dimensionNames : null, encode: m ? m.encode : null, marker: o({ color: l, renderMode: f }), $vars: ['seriesName', 'name', 'value'] } }, getFormattedLabel: function (e, t, i, n, r) { t = t || 'normal'; var o = this.getData(i); var l = o.getItemModel(e); var u = this.getDataParams(e, i); n != null && u.value instanceof Array && (u.value = u.value[n]); var h = l.get(t === 'normal' ? [r || 'label', 'formatter'] : [t, r || 'label', 'formatter']); if (typeof h === 'function') return u.status = t, u.dimensionIndex = n, h(u); if (typeof h === 'string') { var d = s(h, u); return d.replace(c, function (t, i) { var n = i.length; return i.charAt(0) === '[' && i.charAt(n - 1) === ']' && (i = +i.slice(1, n - 1)), a(o, e, i) }) } }, getRawValue: function (e, t) { return a(this.getData(t), e) }, formatTooltip: function () {} }; e.exports = h }, 3901: function (e, t, i) { var n = i('282b'); var a = n([['lineWidth', 'width'], ['stroke', 'color'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor']]); var r = { getLineStyle: function (e) { var t = a(this, e); return t.lineDash = this.getLineDash(t.lineWidth), t }, getLineDash: function (e) { e == null && (e = 1); var t = this.get('type'); var i = Math.max(e, 2); var n = 4 * e; return t !== 'solid' && t != null && (t === 'dashed' ? [n, n] : [i, i]) } }; e.exports = r }, '392f': function (e, t, i) { var n = i('6d8b'); var a = n.inherits; var r = i('19eb'); var o = i('9850'); function s (e) { r.call(this, e), this._displayables = [], this._temporaryDisplayables = [], this._cursor = 0, this.notClear = !0 }s.prototype.incremental = !0, s.prototype.clearDisplaybles = function () { this._displayables = [], this._temporaryDisplayables = [], this._cursor = 0, this.dirty(), this.notClear = !1 }, s.prototype.addDisplayable = function (e, t) { t ? this._temporaryDisplayables.push(e) : this._displayables.push(e), this.dirty() }, s.prototype.addDisplayables = function (e, t) { t = t || !1; for (var i = 0; i < e.length; i++) this.addDisplayable(e[i], t) }, s.prototype.eachPendingDisplayable = function (e) { for (var t = this._cursor; t < this._displayables.length; t++)e && e(this._displayables[t]); for (t = 0; t < this._temporaryDisplayables.length; t++)e && e(this._temporaryDisplayables[t]) }, s.prototype.update = function () { this.updateTransform(); for (var e = this._cursor; e < this._displayables.length; e++) { var t = this._displayables[e]; t.parent = this, t.update(), t.parent = null } for (e = 0; e < this._temporaryDisplayables.length; e++) { t = this._temporaryDisplayables[e]; t.parent = this, t.update(), t.parent = null } }, s.prototype.brush = function (e, t) { for (var i = this._cursor; i < this._displayables.length; i++) { var n = this._displayables[i]; n.beforeBrush && n.beforeBrush(e), n.brush(e, i === this._cursor ? null : this._displayables[i - 1]), n.afterBrush && n.afterBrush(e) } this._cursor = i; for (i = 0; i < this._temporaryDisplayables.length; i++) { n = this._temporaryDisplayables[i]; n.beforeBrush && n.beforeBrush(e), n.brush(e, i === 0 ? null : this._temporaryDisplayables[i - 1]), n.afterBrush && n.afterBrush(e) } this._temporaryDisplayables = [], this.notClear = !0 }; var l = []; s.prototype.getBoundingRect = function () { if (!this._rect) { for (var e = new o(1 / 0, 1 / 0, -1 / 0, -1 / 0), t = 0; t < this._displayables.length; t++) { var i = this._displayables[t]; var n = i.getBoundingRect().clone(); i.needLocalTransform() && n.applyTransform(i.getLocalTransform(l)), e.union(n) } this._rect = e } return this._rect }, s.prototype.contain = function (e, t) { var i = this.transformCoordToLocal(e, t); var n = this.getBoundingRect(); if (n.contain(i[0], i[1])) for (var a = 0; a < this._displayables.length; a++) { var r = this._displayables[a]; if (r.contain(e, t)) return !0 } return !1 }, a(s, r); var u = s; e.exports = u }, 3942: function (e, t, i) { var n = i('3eba'); var a = i('6d8b'); n.registerAction({ type: 'timelineChange', event: 'timelineChanged', update: 'prepareAndUpdate' }, function (e, t) { var i = t.getComponent('timeline'); return i && e.currentIndex != null && (i.setCurrentIndex(e.currentIndex), !i.get('loop', !0) && i.isIndexMax() && i.setPlayState(!1)), t.resetOption('timeline'), a.defaults({ currentIndex: i.option.currentIndex }, e) }), n.registerAction({ type: 'timelinePlayChange', event: 'timelinePlayChanged', update: 'update' }, function (e, t) { var i = t.getComponent('timeline'); i && e.playState != null && i.setPlayState(e.playState) }) }, 3970: function (e, t, i) { var n = i('4f85'); var a = i('3301'); var r = i('2039'); var o = n.extend({ type: 'series.heatmap', getInitialData: function (e, t) { return a(this.getSource(), this, { generateCoord: 'value' }) }, preventIncremental: function () { var e = r.get(this.get('coordinateSystem')); if (e && e.dimensions) return e.dimensions[0] === 'lng' && e.dimensions[1] === 'lat' }, defaultOption: { coordinateSystem: 'cartesian2d', zlevel: 0, z: 2, geoIndex: 0, blurSize: 30, pointSize: 20, maxOpacity: 1, minOpacity: 0 } }); e.exports = o }, '3a56': function (e, t, i) { var n = i('4e08'); var a = (n.__DEV__, i('3eba')); var r = i('6d8b'); var o = i('22d1'); var s = i('e0d3'); var l = i('50e5'); var u = i('cc39'); var c = r.each; var h = l.eachAxisDim; var d = a.extendComponentModel({ type: 'dataZoom', dependencies: ['xAxis', 'yAxis', 'zAxis', 'radiusAxis', 'angleAxis', 'singleAxis', 'series'], defaultOption: { zlevel: 0, z: 4, orient: null, xAxisIndex: null, yAxisIndex: null, filterMode: 'filter', throttle: null, start: 0, end: 100, startValue: null, endValue: null, minSpan: null, maxSpan: null, minValueSpan: null, maxValueSpan: null, rangeMode: null }, init: function (e, t, i) { this._dataIntervalByAxis = {}, this._dataInfo = {}, this._axisProxies = {}, this.textStyleModel, this._autoThrottle = !0, this._rangePropMode = ['percent', 'percent']; var n = f(e); this.settledOption = n, this.mergeDefaultAndTheme(e, i), this.doInit(n) }, mergeOption: function (e) { var t = f(e); r.merge(this.option, e, !0), r.merge(this.settledOption, t, !0), this.doInit(t) }, doInit: function (e) { var t = this.option; o.canvasSupported || (t.realtime = !1), this._setDefaultThrottle(e), p(this, e); var i = this.settledOption; c([['start', 'startValue'], ['end', 'endValue']], function (e, n) { this._rangePropMode[n] === 'value' && (t[e[0]] = i[e[0]] = null) }, this), this.textStyleModel = this.getModel('textStyle'), this._resetTarget(), this._giveAxisProxies() }, _giveAxisProxies: function () { var e = this._axisProxies; this.eachTargetAxis(function (t, i, n, a) { var r = this.dependentModels[t.axis][i]; var o = r.__dzAxisProxy || (r.__dzAxisProxy = new u(t.name, i, this, a)); e[t.name + '_' + i] = o }, this) }, _resetTarget: function () { var e = this.option; var t = this._judgeAutoMode(); h(function (t) { var i = t.axisIndex; e[i] = s.normalizeToArray(e[i]) }, this), t === 'axisIndex' ? this._autoSetAxisIndex() : t === 'orient' && this._autoSetOrient() }, _judgeAutoMode: function () { var e = this.option; var t = !1; h(function (i) { e[i.axisIndex] != null && (t = !0) }, this); var i = e.orient; return i == null && t ? 'orient' : t ? void 0 : (i == null && (e.orient = 'horizontal'), 'axisIndex') }, _autoSetAxisIndex: function () { var e = !0; var t = this.get('orient', !0); var i = this.option; var n = this.dependentModels; if (e) { var a = t === 'vertical' ? 'y' : 'x'; n[a + 'Axis'].length ? (i[a + 'AxisIndex'] = [0], e = !1) : c(n.singleAxis, function (n) { e && n.get('orient', !0) === t && (i.singleAxisIndex = [n.componentIndex], e = !1) }) }e && h(function (t) { if (e) { var n = []; var a = this.dependentModels[t.axis]; if (a.length && !n.length) for (var r = 0, o = a.length; r < o; r++)a[r].get('type') === 'category' && n.push(r); i[t.axisIndex] = n, n.length && (e = !1) } }, this), e && this.ecModel.eachSeries(function (e) { this._isSeriesHasAllAxesTypeOf(e, 'value') && h(function (t) { var n = i[t.axisIndex]; var a = e.get(t.axisIndex); var o = e.get(t.axisId); var s = e.ecModel.queryComponents({ mainType: t.axis, index: a, id: o })[0]; a = s.componentIndex, r.indexOf(n, a) < 0 && n.push(a) }) }, this) }, _autoSetOrient: function () { var e; this.eachTargetAxis(function (t) { !e && (e = t.name) }, this), this.option.orient = e === 'y' ? 'vertical' : 'horizontal' }, _isSeriesHasAllAxesTypeOf: function (e, t) { var i = !0; return h(function (n) { var a = e.get(n.axisIndex); var r = this.dependentModels[n.axis][a]; r && r.get('type') === t || (i = !1) }, this), i }, _setDefaultThrottle: function (e) { if (e.hasOwnProperty('throttle') && (this._autoThrottle = !1), this._autoThrottle) { var t = this.ecModel.option; this.option.throttle = t.animation && t.animationDurationUpdate > 0 ? 100 : 20 } }, getFirstTargetAxisModel: function () { var e; return h(function (t) { if (e == null) { var i = this.get(t.axisIndex); i.length && (e = this.dependentModels[t.axis][i[0]]) } }, this), e }, eachTargetAxis: function (e, t) { var i = this.ecModel; h(function (n) { c(this.get(n.axisIndex), function (a) { e.call(t, n, a, this, i) }, this) }, this) }, getAxisProxy: function (e, t) { return this._axisProxies[e + '_' + t] }, getAxisModel: function (e, t) { var i = this.getAxisProxy(e, t); return i && i.getAxisModel() }, setRawRange: function (e) { var t = this.option; var i = this.settledOption; c([['start', 'startValue'], ['end', 'endValue']], function (n) { e[n[0]] == null && e[n[1]] == null || (t[n[0]] = i[n[0]] = e[n[0]], t[n[1]] = i[n[1]] = e[n[1]]) }, this), p(this, e) }, setCalculatedRange: function (e) { var t = this.option; c(['start', 'startValue', 'end', 'endValue'], function (i) { t[i] = e[i] }) }, getPercentRange: function () { var e = this.findRepresentativeAxisProxy(); if (e) return e.getDataPercentWindow() }, getValueRange: function (e, t) { if (e != null || t != null) return this.getAxisProxy(e, t).getDataValueWindow(); var i = this.findRepresentativeAxisProxy(); return i ? i.getDataValueWindow() : void 0 }, findRepresentativeAxisProxy: function (e) { if (e) return e.__dzAxisProxy; var t = this._axisProxies; for (var i in t) if (t.hasOwnProperty(i) && t[i].hostedBy(this)) return t[i]; for (var i in t) if (t.hasOwnProperty(i) && !t[i].hostedBy(this)) return t[i] }, getRangePropMode: function () { return this._rangePropMode.slice() } }); function f (e) { var t = {}; return c(['start', 'end', 'startValue', 'endValue', 'throttle'], function (i) { e.hasOwnProperty(i) && (t[i] = e[i]) }), t } function p (e, t) { var i = e._rangePropMode; var n = e.get('rangeMode'); c([['start', 'startValue'], ['end', 'endValue']], function (e, a) { var r = t[e[0]] != null; var o = t[e[1]] != null; r && !o ? i[a] = 'percent' : !r && o ? i[a] = 'value' : n ? i[a] = n[a] : r && (i[a] = 'percent') }) } var g = d; e.exports = g }, '3cd6': function (e, t, i) { var n = i('6d8b'); var a = i('48a9'); var r = i('607d'); var o = i('72b6'); var s = i('2306'); var l = i('3842'); var u = i('ef6a'); var c = i('cbb0'); var h = i('e0d3'); var d = l.linearMap; var f = n.each; var p = Math.min; var g = Math.max; var m = 12; var v = 6; var y = o.extend({ type: 'visualMap.continuous', init: function () { y.superApply(this, 'init', arguments), this._shapes = {}, this._dataInterval = [], this._handleEnds = [], this._orient, this._useHandle, this._hoverLinkDataIndices = [], this._dragging, this._hovering }, doRender: function (e, t, i, n) { n && n.type === 'selectDataRange' && n.from === this.uid || this._buildView() }, _buildView: function () { this.group.removeAll(); var e = this.visualMapModel; var t = this.group; this._orient = e.get('orient'), this._useHandle = e.get('calculable'), this._resetInterval(), this._renderBar(t); var i = e.get('text'); this._renderEndsText(t, i, 0), this._renderEndsText(t, i, 1), this._updateView(!0), this.renderBackground(t), this._updateView(), this._enableHoverLinkToSeries(), this._enableHoverLinkFromSeries(), this.positionGroup(t) }, _renderEndsText: function (e, t, i) { if (t) { var n = t[1 - i]; n = n != null ? n + '' : ''; var a = this.visualMapModel; var r = a.get('textGap'); var o = a.itemSize; var l = this._shapes.barGroup; var u = this._applyTransform([o[0] / 2, i === 0 ? -r : o[1] + r], l); var c = this._applyTransform(i === 0 ? 'bottom' : 'top', l); var h = this._orient; var d = this.visualMapModel.textStyleModel; this.group.add(new s.Text({ style: { x: u[0], y: u[1], textVerticalAlign: h === 'horizontal' ? 'middle' : c, textAlign: h === 'horizontal' ? c : 'center', text: n, textFont: d.getFont(), textFill: d.getTextColor() } })) } }, _renderBar: function (e) { var t = this.visualMapModel; var i = this._shapes; var a = t.itemSize; var r = this._orient; var o = this._useHandle; var s = c.getItemAlign(t, this.api, a); var l = i.barGroup = this._createBarGroup(s); l.add(i.outOfRange = x()), l.add(i.inRange = x(null, o ? M(this._orient) : null, n.bind(this._dragHandle, this, 'all', !1), n.bind(this._dragHandle, this, 'all', !0))); var u = t.textStyleModel.getTextRect('国'); var h = g(u.width, u.height); o && (i.handleThumbs = [], i.handleLabels = [], i.handleLabelPoints = [], this._createHandle(l, 0, a, h, r, s), this._createHandle(l, 1, a, h, r, s)), this._createIndicator(l, a, h, r), e.add(l) }, _createHandle: function (e, t, i, a, o) { var l = n.bind(this._dragHandle, this, t, !1); var u = n.bind(this._dragHandle, this, t, !0); var c = x(_(t, a), M(this._orient), l, u); c.position[0] = i[0], e.add(c); var h = this.visualMapModel.textStyleModel; var d = new s.Text({ draggable: !0, drift: l, onmousemove: function (e) { r.stop(e.event) }, ondragend: u, style: { x: 0, y: 0, text: '', textFont: h.getFont(), textFill: h.getTextColor() } }); this.group.add(d); var f = [o === 'horizontal' ? a / 2 : 1.5 * a, o === 'horizontal' ? t === 0 ? -1.5 * a : 1.5 * a : t === 0 ? -a / 2 : a / 2]; var p = this._shapes; p.handleThumbs[t] = c, p.handleLabelPoints[t] = f, p.handleLabels[t] = d }, _createIndicator: function (e, t, i, n) { var a = x([[0, 0]], 'move'); a.position[0] = t[0], a.attr({ invisible: !0, silent: !0 }), e.add(a); var r = this.visualMapModel.textStyleModel; var o = new s.Text({ silent: !0, invisible: !0, style: { x: 0, y: 0, text: '', textFont: r.getFont(), textFill: r.getTextColor() } }); this.group.add(o); var l = [n === 'horizontal' ? i / 2 : v + 3, 0]; var u = this._shapes; u.indicator = a, u.indicatorLabel = o, u.indicatorLabelPoint = l }, _dragHandle: function (e, t, i, n) { if (this._useHandle) { if (this._dragging = !t, !t) { var a = this._applyTransform([i, n], this._shapes.barGroup, !0); this._updateInterval(e, a[1]), this._updateView() }t === !this.visualMapModel.get('realtime') && this.api.dispatchAction({ type: 'selectDataRange', from: this.uid, visualMapId: this.visualMapModel.id, selected: this._dataInterval.slice() }), t ? !this._hovering && this._clearHoverLinkToSeries() : S(this.visualMapModel) && this._doHoverLinkToSeries(this._handleEnds[e], !1) } }, _resetInterval: function () { var e = this.visualMapModel; var t = this._dataInterval = e.getSelected(); var i = e.getExtent(); var n = [0, e.itemSize[1]]; this._handleEnds = [d(t[0], i, n, !0), d(t[1], i, n, !0)] }, _updateInterval: function (e, t) { t = t || 0; var i = this.visualMapModel; var n = this._handleEnds; var a = [0, i.itemSize[1]]; u(t, n, a, e, 0); var r = i.getExtent(); this._dataInterval = [d(n[0], a, r, !0), d(n[1], a, r, !0)] }, _updateView: function (e) { var t = this.visualMapModel; var i = t.getExtent(); var n = this._shapes; var a = [0, t.itemSize[1]]; var r = e ? a : this._handleEnds; var o = this._createBarVisual(this._dataInterval, i, r, 'inRange'); var s = this._createBarVisual(i, i, a, 'outOfRange'); n.inRange.setStyle({ fill: o.barColor, opacity: o.opacity }).setShape('points', o.barPoints), n.outOfRange.setStyle({ fill: s.barColor, opacity: s.opacity }).setShape('points', s.barPoints), this._updateHandle(r, o) }, _createBarVisual: function (e, t, i, n) { var r = { forceState: n, convertOpacityToAlpha: !0 }; var o = this._makeColorGradient(e, r); var s = [this.getControllerVisual(e[0], 'symbolSize', r), this.getControllerVisual(e[1], 'symbolSize', r)]; var l = this._createBarPoints(i, s); return { barColor: new a(0, 0, 0, 1, o), barPoints: l, handlesColor: [o[0].color, o[o.length - 1].color] } }, _makeColorGradient: function (e, t) { var i = 100; var n = []; var a = (e[1] - e[0]) / i; n.push({ color: this.getControllerVisual(e[0], 'color', t), offset: 0 }); for (var r = 1; r < i; r++) { var o = e[0] + a * r; if (o > e[1]) break; n.push({ color: this.getControllerVisual(o, 'color', t), offset: r / i }) } return n.push({ color: this.getControllerVisual(e[1], 'color', t), offset: 1 }), n }, _createBarPoints: function (e, t) { var i = this.visualMapModel.itemSize; return [[i[0] - t[0], e[0]], [i[0], e[0]], [i[0], e[1]], [i[0] - t[1], e[1]]] }, _createBarGroup: function (e) { var t = this._orient; var i = this.visualMapModel.get('inverse'); return new s.Group(t !== 'horizontal' || i ? t === 'horizontal' && i ? { scale: e === 'bottom' ? [-1, 1] : [1, 1], rotation: -Math.PI / 2 } : t !== 'vertical' || i ? { scale: e === 'left' ? [1, 1] : [-1, 1] } : { scale: e === 'left' ? [1, -1] : [-1, -1] } : { scale: e === 'bottom' ? [1, 1] : [-1, 1], rotation: Math.PI / 2 }) }, _updateHandle: function (e, t) { if (this._useHandle) { var i = this._shapes; var n = this.visualMapModel; var a = i.handleThumbs; var r = i.handleLabels; f([0, 1], function (o) { var l = a[o]; l.setStyle('fill', t.handlesColor[o]), l.position[1] = e[o]; var u = s.applyTransform(i.handleLabelPoints[o], s.getTransform(l, this.group)); r[o].setStyle({ x: u[0], y: u[1], text: n.formatValueText(this._dataInterval[o]), textVerticalAlign: 'middle', textAlign: this._applyTransform(this._orient === 'horizontal' ? o === 0 ? 'bottom' : 'top' : 'left', i.barGroup) }) }, this) } }, _showIndicator: function (e, t, i, n) { var a = this.visualMapModel; var r = a.getExtent(); var o = a.itemSize; var l = [0, o[1]]; var u = d(e, r, l, !0); var c = this._shapes; var h = c.indicator; if (h) { h.position[1] = u, h.attr('invisible', !1), h.setShape('points', b(!!i, n, u, o[1])); var f = { convertOpacityToAlpha: !0 }; var p = this.getControllerVisual(e, 'color', f); h.setStyle('fill', p); var g = s.applyTransform(c.indicatorLabelPoint, s.getTransform(h, this.group)); var m = c.indicatorLabel; m.attr('invisible', !1); var v = this._applyTransform('left', c.barGroup); var y = this._orient; m.setStyle({ text: (i || '') + a.formatValueText(t), textVerticalAlign: y === 'horizontal' ? v : 'middle', textAlign: y === 'horizontal' ? 'center' : v, x: g[0], y: g[1] }) } }, _enableHoverLinkToSeries: function () { var e = this; this._shapes.barGroup.on('mousemove', function (t) { if (e._hovering = !0, !e._dragging) { var i = e.visualMapModel.itemSize; var n = e._applyTransform([t.offsetX, t.offsetY], e._shapes.barGroup, !0, !0); n[1] = p(g(0, n[1]), i[1]), e._doHoverLinkToSeries(n[1], n[0] >= 0 && n[0] <= i[0]) } }).on('mouseout', function () { e._hovering = !1, !e._dragging && e._clearHoverLinkToSeries() }) }, _enableHoverLinkFromSeries: function () { var e = this.api.getZr(); this.visualMapModel.option.hoverLink ? (e.on('mouseover', this._hoverLinkFromSeriesMouseOver, this), e.on('mouseout', this._hideIndicator, this)) : this._clearHoverLinkFromSeries() }, _doHoverLinkToSeries: function (e, t) { var i = this.visualMapModel; var n = i.itemSize; if (i.option.hoverLink) { var a = [0, n[1]]; var r = i.getExtent(); e = p(g(a[0], e), a[1]); var o = w(i, r, a); var s = [e - o, e + o]; var l = d(e, a, r, !0); var u = [d(s[0], a, r, !0), d(s[1], a, r, !0)]; s[0] < a[0] && (u[0] = -1 / 0), s[1] > a[1] && (u[1] = 1 / 0), t && (u[0] === -1 / 0 ? this._showIndicator(l, u[1], '< ', o) : u[1] === 1 / 0 ? this._showIndicator(l, u[0], '> ', o) : this._showIndicator(l, l, '≈ ', o)); var f = this._hoverLinkDataIndices; var m = []; (t || S(i)) && (m = this._hoverLinkDataIndices = i.findTargetDataIndices(u)); var v = h.compressBatches(f, m); this._dispatchHighDown('downplay', c.makeHighDownBatch(v[0], i)), this._dispatchHighDown('highlight', c.makeHighDownBatch(v[1], i)) } }, _hoverLinkFromSeriesMouseOver: function (e) { var t = e.target; var i = this.visualMapModel; if (t && t.dataIndex != null) { var n = this.ecModel.getSeriesByIndex(t.seriesIndex); if (i.isTargetSeries(n)) { var a = n.getData(t.dataType); var r = a.get(i.getDataDimension(a), t.dataIndex, !0); isNaN(r) || this._showIndicator(r, r) } } }, _hideIndicator: function () { var e = this._shapes; e.indicator && e.indicator.attr('invisible', !0), e.indicatorLabel && e.indicatorLabel.attr('invisible', !0) }, _clearHoverLinkToSeries: function () { this._hideIndicator(); var e = this._hoverLinkDataIndices; this._dispatchHighDown('downplay', c.makeHighDownBatch(e, this.visualMapModel)), e.length = 0 }, _clearHoverLinkFromSeries: function () { this._hideIndicator(); var e = this.api.getZr(); e.off('mouseover', this._hoverLinkFromSeriesMouseOver), e.off('mouseout', this._hideIndicator) }, _applyTransform: function (e, t, i, a) { var r = s.getTransform(t, a ? null : this.group); return s[n.isArray(e) ? 'applyTransform' : 'transformDirection'](e, r, i) }, _dispatchHighDown: function (e, t) { t && t.length && this.api.dispatchAction({ type: e, batch: t }) }, dispose: function () { this._clearHoverLinkFromSeries(), this._clearHoverLinkToSeries() }, remove: function () { this._clearHoverLinkFromSeries(), this._clearHoverLinkToSeries() } }); function x (e, t, i, n) { return new s.Polygon({ shape: { points: e }, draggable: !!i, cursor: t, drift: i, onmousemove: function (e) { r.stop(e.event) }, ondragend: n }) } function _ (e, t) { return e === 0 ? [[0, 0], [t, 0], [t, -t]] : [[0, 0], [t, 0], [t, t]] } function b (e, t, i, n) { return e ? [[0, -p(t, g(i, 0))], [v, 0], [0, p(t, g(n - i, 0))]] : [[0, 0], [5, -5], [5, 5]] } function w (e, t, i) { var n = m / 2; var a = e.get('hoverLinkDataSize'); return a && (n = d(a, t, i, !0) / 2), n } function S (e) { var t = e.get('hoverLinkOnHandle'); return !!(t == null ? e.get('realtime') : t) } function M (e) { return e === 'vertical' ? 'ns-resize' : 'ew-resize' } var I = y; e.exports = I }, '3eba': function (e, t, i) { var n = i('4e08'); var a = (n.__DEV__, i('697e7')); var r = i('6d8b'); var o = i('41ef'); var s = i('22d1'); var l = i('04f6'); var u = i('1fab'); var c = i('7e63'); var h = i('843e'); var d = i('2039'); var f = i('ca98'); var p = i('fb05'); var g = i('d15d'); var m = i('6cb7'); var v = i('4f85'); var y = i('b12f'); var x = i('e887'); var _ = i('2306'); var b = i('e0d3'); var w = i('88b3'); var S = w.throttle; var M = i('fd63'); var I = i('b809'); var A = i('998c'); var T = i('69ff'); var C = i('c533'); var D = i('f219'); i('0352'); var L = i('ec34'); var P = r.assert; var k = r.each; var O = r.isFunction; var R = r.isObject; var E = m.parseClassType; var N = '4.9.0'; var z = { zrender: '4.3.2' }; var B = 1; var V = 1e3; var G = 800; var F = 900; var H = 5e3; var W = 1e3; var U = 1100; var Z = 2e3; var Y = 3e3; var j = 3500; var X = 4e3; var q = 5e3; var $ = { PROCESSOR: { FILTER: V, SERIES_FILTER: G, STATISTIC: H }, VISUAL: { LAYOUT: W, PROGRESSIVE_LAYOUT: U, GLOBAL: Z, CHART: Y, POST_CHART_LAYOUT: j, COMPONENT: X, BRUSH: q } }; var K = '__flagInMainProcess'; var J = '__optionUpdated'; var Q = /^[a-zA-Z0-9_]+$/; function ee (e, t) { return function (i, n, a) { t || !this._disposed ? (i = i && i.toLowerCase(), u.prototype[e].call(this, i, n, a)) : _e(this.id) } } function te () { u.call(this) } function ie (e, t, i) { i = i || {}, typeof t === 'string' && (t = ke[t]), this.id, this.group, this._dom = e; var n = 'canvas'; var o = this._zr = a.init(e, { renderer: i.renderer || n, devicePixelRatio: i.devicePixelRatio, width: i.width, height: i.height }); this._throttledZrFlush = S(r.bind(o.flush, o), 17); t = r.clone(t); t && p(t, !0), this._theme = t, this._chartsViews = [], this._chartsMap = {}, this._componentsViews = [], this._componentsMap = {}, this._coordSysMgr = new d(); var s = this._api = Me(this); function c (e, t) { return e.__prio - t.__prio }l(Pe, c), l(Ce, c), this._scheduler = new T(this, s, Ce, Pe), u.call(this, this._ecEventProcessor = new Ie()), this._messageCenter = new te(), this._initEvents(), this.resize = r.bind(this.resize, this), this._pendingActions = [], o.animation.on('frame', this._onframe, this), de(o, this), r.setAsPrimitive(this) }te.prototype.on = ee('on', !0), te.prototype.off = ee('off', !0), te.prototype.one = ee('one', !0), r.mixin(te, u); var ne = ie.prototype; function ae (e, t, i) { if (this._disposed)_e(this.id); else { var n; var a = this._model; var r = this._coordSysMgr.getCoordinateSystems(); t = b.parseFinder(a, t); for (var o = 0; o < r.length; o++) { var s = r[o]; if (s[e] && (n = s[e](a, t, i)) != null) return n } } }ne._onframe = function () { if (!this._disposed) { var e = this._scheduler; if (this[J]) { var t = this[J].silent; this[K] = !0, oe(this), re.update.call(this), this[K] = !1, this[J] = !1, ce.call(this, t), he.call(this, t) } else if (e.unfinished) { var i = B; var n = this._model; var a = this._api; e.unfinished = !1; do { var r = +new Date(); e.performSeriesTasks(n), e.performDataProcessorTasks(n), le(this, n), e.performVisualTasks(n), ve(this, this._model, a, 'remain'), i -= +new Date() - r } while (i > 0 && e.unfinished);e.unfinished || this._zr.flush() } } }, ne.getDom = function () { return this._dom }, ne.getZr = function () { return this._zr }, ne.setOption = function (e, t, i) { if (this._disposed)_e(this.id); else { var n; if (R(t) && (i = t.lazyUpdate, n = t.silent, t = t.notMerge), this[K] = !0, !this._model || t) { var a = new f(this._api); var r = this._theme; var o = this._model = new c(); o.scheduler = this._scheduler, o.init(null, null, r, a) } this._model.setOption(e, De), i ? (this[J] = { silent: n }, this[K] = !1) : (oe(this), re.update.call(this), this._zr.flush(), this[J] = !1, this[K] = !1, ce.call(this, n), he.call(this, n)) } }, ne.setTheme = function () { console.error('ECharts#setTheme() is DEPRECATED in ECharts 3.0') }, ne.getModel = function () { return this._model }, ne.getOption = function () { return this._model && this._model.getOption() }, ne.getWidth = function () { return this._zr.getWidth() }, ne.getHeight = function () { return this._zr.getHeight() }, ne.getDevicePixelRatio = function () { return this._zr.painter.dpr || window.devicePixelRatio || 1 }, ne.getRenderedCanvas = function (e) { if (s.canvasSupported) { e = e || {}, e.pixelRatio = e.pixelRatio || 1, e.backgroundColor = e.backgroundColor || this._model.get('backgroundColor'); var t = this._zr; return t.painter.getRenderedCanvas(e) } }, ne.getSvgDataURL = function () { if (s.svgSupported) { var e = this._zr; var t = e.storage.getDisplayList(); return r.each(t, function (e) { e.stopAnimation(!0) }), e.painter.toDataURL() } }, ne.getDataURL = function (e) { if (!this._disposed) { e = e || {}; var t = e.excludeComponents; var i = this._model; var n = []; var a = this; k(t, function (e) { i.eachComponent({ mainType: e }, function (e) { var t = a._componentsMap[e.__viewId]; t.group.ignore || (n.push(t), t.group.ignore = !0) }) }); var r = this._zr.painter.getType() === 'svg' ? this.getSvgDataURL() : this.getRenderedCanvas(e).toDataURL('image/' + (e && e.type || 'png')); return k(n, function (e) { e.group.ignore = !1 }), r }_e(this.id) }, ne.getConnectedDataURL = function (e) { if (this._disposed)_e(this.id); else if (s.canvasSupported) { var t = e.type === 'svg'; var i = this.group; var n = Math.min; var o = Math.max; var l = 1 / 0; if (Ee[i]) { var u = l; var c = l; var h = -l; var d = -l; var f = []; var p = e && e.pixelRatio || 1; r.each(Re, function (a, s) { if (a.group === i) { var l = t ? a.getZr().painter.getSvgDom().innerHTML : a.getRenderedCanvas(r.clone(e)); var p = a.getDom().getBoundingClientRect(); u = n(p.left, u), c = n(p.top, c), h = o(p.right, h), d = o(p.bottom, d), f.push({ dom: l, left: p.left, top: p.top }) } }), u *= p, c *= p, h *= p, d *= p; var g = h - u; var m = d - c; var v = r.createCanvas(); var y = a.init(v, { renderer: t ? 'svg' : 'canvas' }); if (y.resize({ width: g, height: m }), t) { var x = ''; return k(f, function (e) { var t = e.left - u; var i = e.top - c; x += '<g transform="translate(' + t + ',' + i + ')">' + e.dom + '</g>' }), y.painter.getSvgRoot().innerHTML = x, e.connectedBackgroundColor && y.painter.setBackgroundColor(e.connectedBackgroundColor), y.refreshImmediately(), y.painter.toDataURL() } return e.connectedBackgroundColor && y.add(new _.Rect({ shape: { x: 0, y: 0, width: g, height: m }, style: { fill: e.connectedBackgroundColor } })), k(f, function (e) { var t = new _.Image({ style: { x: e.left * p - u, y: e.top * p - c, image: e.dom } }); y.add(t) }), y.refreshImmediately(), v.toDataURL('image/' + (e && e.type || 'png')) } return this.getDataURL(e) } }, ne.convertToPixel = r.curry(ae, 'convertToPixel'), ne.convertFromPixel = r.curry(ae, 'convertFromPixel'), ne.containPixel = function (e, t) { if (!this._disposed) { var i; var n = this._model; return e = b.parseFinder(n, e), r.each(e, function (e, n) { n.indexOf('Models') >= 0 && r.each(e, function (e) { var a = e.coordinateSystem; if (a && a.containPoint)i |= !!a.containPoint(t); else if (n === 'seriesModels') { var r = this._chartsMap[e.__viewId]; r && r.containPoint && (i |= r.containPoint(t, e)) } }, this) }, this), !!i }_e(this.id) }, ne.getVisual = function (e, t) { var i = this._model; e = b.parseFinder(i, e, { defaultMainType: 'series' }); var n = e.seriesModel; var a = n.getData(); var r = e.hasOwnProperty('dataIndexInside') ? e.dataIndexInside : e.hasOwnProperty('dataIndex') ? a.indexOfRawIndex(e.dataIndex) : null; return r != null ? a.getItemVisual(r, t) : a.getVisual(t) }, ne.getViewOfComponentModel = function (e) { return this._componentsMap[e.__viewId] }, ne.getViewOfSeriesModel = function (e) { return this._chartsMap[e.__viewId] }; var re = { prepareAndUpdate: function (e) { oe(this), re.update.call(this, e) }, update: function (e) { var t = this._model; var i = this._api; var n = this._zr; var a = this._coordSysMgr; var r = this._scheduler; if (t) { r.restoreData(t, e), r.performSeriesTasks(t), a.create(t, i), r.performDataProcessorTasks(t, e), le(this, t), a.update(t, i), pe(t), r.performVisualTasks(t, e), ge(this, t, i, e); var l = t.get('backgroundColor') || 'transparent'; if (s.canvasSupported)n.setBackgroundColor(l); else { var u = o.parse(l); l = o.stringify(u, 'rgb'), u[3] === 0 && (l = 'transparent') }ye(t, i) } }, updateTransform: function (e) { var t = this._model; var i = this; var n = this._api; if (t) { var a = []; t.eachComponent(function (r, o) { var s = i.getViewOfComponentModel(o); if (s && s.__alive) if (s.updateTransform) { var l = s.updateTransform(o, t, n, e); l && l.update && a.push(s) } else a.push(s) }); var o = r.createHashMap(); t.eachSeries(function (a) { var r = i._chartsMap[a.__viewId]; if (r.updateTransform) { var s = r.updateTransform(a, t, n, e); s && s.update && o.set(a.uid, 1) } else o.set(a.uid, 1) }), pe(t), this._scheduler.performVisualTasks(t, e, { setDirty: !0, dirtyMap: o }), ve(i, t, n, e, o), ye(t, this._api) } }, updateView: function (e) { var t = this._model; t && (x.markUpdateMethod(e, 'updateView'), pe(t), this._scheduler.performVisualTasks(t, e, { setDirty: !0 }), ge(this, this._model, this._api, e), ye(t, this._api)) }, updateVisual: function (e) { re.update.call(this, e) }, updateLayout: function (e) { re.update.call(this, e) } }; function oe (e) { var t = e._model; var i = e._scheduler; i.restorePipelines(t), i.prepareStageTasks(), fe(e, 'component', t, i), fe(e, 'chart', t, i), i.plan() } function se (e, t, i, n, a) { var o = e._model; if (n) { var s = {}; s[n + 'Id'] = i[n + 'Id'], s[n + 'Index'] = i[n + 'Index'], s[n + 'Name'] = i[n + 'Name']; var l = { mainType: n, query: s }; a && (l.subType = a); var u = i.excludeSeriesId; u != null && (u = r.createHashMap(b.normalizeToArray(u))), o && o.eachComponent(l, function (t) { u && u.get(t.id) != null || c(e[n === 'series' ? '_chartsMap' : '_componentsMap'][t.__viewId]) }, e) } else k(e._componentsViews.concat(e._chartsViews), c); function c (n) { n && n.__alive && n[t] && n[t](n.__model, o, e._api, i) } } function le (e, t) { var i = e._chartsMap; var n = e._scheduler; t.eachSeries(function (e) { n.updateStreamModes(e, i[e.__viewId]) }) } function ue (e, t) { var i = e.type; var n = e.escapeConnect; var a = Ae[i]; var o = a.actionInfo; var s = (o.update || 'update').split(':'); var l = s.pop(); s = s[0] != null && E(s[0]), this[K] = !0; var u = [e]; var c = !1; e.batch && (c = !0, u = r.map(e.batch, function (t) { return t = r.defaults(r.extend({}, t), e), t.batch = null, t })); var h; var d = []; var f = i === 'highlight' || i === 'downplay'; k(u, function (e) { h = a.action(e, this._model, this._api), h = h || r.extend({}, e), h.type = o.event || h.type, d.push(h), f ? se(this, l, e, 'series') : s && se(this, l, e, s.main, s.sub) }, this), l === 'none' || f || s || (this[J] ? (oe(this), re.update.call(this, e), this[J] = !1) : re[l].call(this, e)), h = c ? { type: o.event || i, escapeConnect: n, batch: d } : d[0], this[K] = !1, !t && this._messageCenter.trigger(h.type, h) } function ce (e) { var t = this._pendingActions; while (t.length) { var i = t.shift(); ue.call(this, i, e) } } function he (e) { !e && this.trigger('updated') } function de (e, t) { e.on('rendered', function () { t.trigger('rendered'), !e.animation.isFinished() || t[J] || t._scheduler.unfinished || t._pendingActions.length || t.trigger('finished') }) } function fe (e, t, i, n) { for (var a = t === 'component', r = a ? e._componentsViews : e._chartsViews, o = a ? e._componentsMap : e._chartsMap, s = e._zr, l = e._api, u = 0; u < r.length; u++)r[u].__alive = !1; function c (e) { var t = '_ec_' + e.id + '_' + e.type; var u = o[t]; if (!u) { var c = E(e.type); var h = a ? y.getClass(c.main, c.sub) : x.getClass(c.sub); u = new h(), u.init(i, l), o[t] = u, r.push(u), s.add(u.group) }e.__viewId = u.__id = t, u.__alive = !0, u.__model = e, u.group.__ecComponentInfo = { mainType: e.mainType, index: e.componentIndex }, !a && n.prepareView(u, e, i, l) }a ? i.eachComponent(function (e, t) { e !== 'series' && c(t) }) : i.eachSeries(c); for (u = 0; u < r.length;) { var h = r[u]; h.__alive ? u++ : (!a && h.renderTask.dispose(), s.remove(h.group), h.dispose(i, l), r.splice(u, 1), delete o[h.__id], h.__id = h.group.__ecComponentInfo = null) } } function pe (e) { e.clearColorPalette(), e.eachSeries(function (e) { e.clearColorPalette() }) } function ge (e, t, i, n) { me(e, t, i, n), k(e._chartsViews, function (e) { e.__alive = !1 }), ve(e, t, i, n), k(e._chartsViews, function (e) { e.__alive || e.remove(t, i) }) } function me (e, t, i, n, a) { k(a || e._componentsViews, function (e) { var a = e.__model; e.render(a, t, i, n), Se(a, e) }) } function ve (e, t, i, n, a) { var r; var o = e._scheduler; t.eachSeries(function (t) { var i = e._chartsMap[t.__viewId]; i.__alive = !0; var s = i.renderTask; o.updatePayload(s, n), a && a.get(t.uid) && s.dirty(), r |= s.perform(o.getPerformArgs(s)), i.group.silent = !!t.get('silent'), Se(t, i), we(t, i) }), o.unfinished |= r, be(e, t), I(e._zr.dom, t) } function ye (e, t) { k(Le, function (i) { i(e, t) }) }ne.resize = function (e) { if (this._disposed)_e(this.id); else { this._zr.resize(e); var t = this._model; if (this._loadingFX && this._loadingFX.resize(), t) { var i = t.resetOption('media'); var n = e && e.silent; this[K] = !0, i && oe(this), re.update.call(this), this[K] = !1, ce.call(this, n), he.call(this, n) } } }, ne.showLoading = function (e, t) { if (this._disposed)_e(this.id); else if (R(e) && (t = e, e = ''), e = e || 'default', this.hideLoading(), Oe[e]) { var i = Oe[e](this._api, t); var n = this._zr; this._loadingFX = i, n.add(i) } }, ne.hideLoading = function () { this._disposed ? _e(this.id) : (this._loadingFX && this._zr.remove(this._loadingFX), this._loadingFX = null) }, ne.makeActionFromEvent = function (e) { var t = r.extend({}, e); return t.type = Te[e.type], t }, ne.dispatchAction = function (e, t) { this._disposed ? _e(this.id) : (R(t) || (t = { silent: !!t }), Ae[e.type] && this._model && (this[K] ? this._pendingActions.push(e) : (ue.call(this, e, t.silent), t.flush ? this._zr.flush(!0) : !1 !== t.flush && s.browser.weChat && this._throttledZrFlush(), ce.call(this, t.silent), he.call(this, t.silent)))) }, ne.appendData = function (e) { if (this._disposed)_e(this.id); else { var t = e.seriesIndex; var i = this.getModel(); var n = i.getSeriesByIndex(t); n.appendData(e), this._scheduler.unfinished = !0 } }, ne.on = ee('on', !1), ne.off = ee('off', !1), ne.one = ee('one', !1); var xe = ['click', 'dblclick', 'mouseover', 'mouseout', 'mousemove', 'mousedown', 'mouseup', 'globalout', 'contextmenu']; function _e (e) {} function be (e, t) { var i = e._zr; var n = i.storage; var a = 0; n.traverse(function (e) { a++ }), a > t.get('hoverLayerThreshold') && !s.node && t.eachSeries(function (t) { if (!t.preventUsingHoverLayer) { var i = e._chartsMap[t.__viewId]; i.__alive && i.group.traverse(function (e) { e.useHoverLayer = !0 }) } }) } function we (e, t) { var i = e.get('blendMode') || null; t.group.traverse(function (e) { e.isGroup || e.style.blend !== i && e.setStyle('blend', i), e.eachPendingDisplayable && e.eachPendingDisplayable(function (e) { e.setStyle('blend', i) }) }) } function Se (e, t) { var i = e.get('z'); var n = e.get('zlevel'); t.group.traverse(function (e) { e.type !== 'group' && (i != null && (e.z = i), n != null && (e.zlevel = n)) }) } function Me (e) { var t = e._coordSysMgr; return r.extend(new h(e), { getCoordinateSystems: r.bind(t.getCoordinateSystems, t), getComponentByElement: function (t) { while (t) { var i = t.__ecComponentInfo; if (i != null) return e._model.getComponent(i.mainType, i.index); t = t.parent } } }) } function Ie () { this.eventInfo }ne._initEvents = function () { k(xe, function (e) { var t = function (t) { var i; var n = this.getModel(); var a = t.target; var o = e === 'globalout'; if (o)i = {}; else if (a && a.dataIndex != null) { var s = a.dataModel || n.getSeriesByIndex(a.seriesIndex); i = s && s.getDataParams(a.dataIndex, a.dataType, a) || {} } else a && a.eventData && (i = r.extend({}, a.eventData)); if (i) { var l = i.componentType; var u = i.componentIndex; l !== 'markLine' && l !== 'markPoint' && l !== 'markArea' || (l = 'series', u = i.seriesIndex); var c = l && u != null && n.getComponent(l, u); var h = c && this[c.mainType === 'series' ? '_chartsMap' : '_componentsMap'][c.__viewId]; i.event = t, i.type = e, this._ecEventProcessor.eventInfo = { targetEl: a, packedEvent: i, model: c, view: h }, this.trigger(e, i) } }; t.zrEventfulCallAtLast = !0, this._zr.on(e, t, this) }, this), k(Te, function (e, t) { this._messageCenter.on(t, function (e) { this.trigger(t, e) }, this) }, this) }, ne.isDisposed = function () { return this._disposed }, ne.clear = function () { this._disposed ? _e(this.id) : this.setOption({ series: [] }, !0) }, ne.dispose = function () { if (this._disposed)_e(this.id); else { this._disposed = !0, b.setAttribute(this.getDom(), Be, ''); var e = this._api; var t = this._model; k(this._componentsViews, function (i) { i.dispose(t, e) }), k(this._chartsViews, function (i) { i.dispose(t, e) }), this._zr.dispose(), delete Re[this.id] } }, r.mixin(ie, u), Ie.prototype = { constructor: Ie, normalizeQuery: function (e) { var t = {}; var i = {}; var n = {}; if (r.isString(e)) { var a = E(e); t.mainType = a.main || null, t.subType = a.sub || null } else { var o = ['Index', 'Name', 'Id']; var s = { name: 1, dataIndex: 1, dataType: 1 }; r.each(e, function (e, a) { for (var r = !1, l = 0; l < o.length; l++) { var u = o[l]; var c = a.lastIndexOf(u); if (c > 0 && c === a.length - u.length) { var h = a.slice(0, c); h !== 'data' && (t.mainType = h, t[u.toLowerCase()] = e, r = !0) } }s.hasOwnProperty(a) && (i[a] = e, r = !0), r || (n[a] = e) }) } return { cptQuery: t, dataQuery: i, otherQuery: n } }, filter: function (e, t, i) { var n = this.eventInfo; if (!n) return !0; var a = n.targetEl; var r = n.packedEvent; var o = n.model; var s = n.view; if (!o || !s) return !0; var l = t.cptQuery; var u = t.dataQuery; return c(l, o, 'mainType') && c(l, o, 'subType') && c(l, o, 'index', 'componentIndex') && c(l, o, 'name') && c(l, o, 'id') && c(u, r, 'name') && c(u, r, 'dataIndex') && c(u, r, 'dataType') && (!s.filterForExposedEvent || s.filterForExposedEvent(e, t.otherQuery, a, r)); function c (e, t, i, n) { return e[i] == null || t[n || i] === e[i] } }, afterTrigger: function () { this.eventInfo = null } }; var Ae = {}; var Te = {}; var Ce = []; var De = []; var Le = []; var Pe = []; var ke = {}; var Oe = {}; var Re = {}; var Ee = {}; var Ne = new Date() - 0; var ze = new Date() - 0; var Be = '_echarts_instance_'; function Ve (e) { var t = 0; var i = 1; var n = 2; var a = '__connectUpdateStatus'; function r (e, t) { for (var i = 0; i < e.length; i++) { var n = e[i]; n[a] = t } }k(Te, function (o, s) { e._messageCenter.on(s, function (o) { if (Ee[e.group] && e[a] !== t) { if (o && o.escapeConnect) return; var s = e.makeActionFromEvent(o); var l = []; k(Re, function (t) { t !== e && t.group === e.group && l.push(t) }), r(l, t), k(l, function (e) { e[a] !== i && e.dispatchAction(s) }), r(l, n) } }) }) } function Ge (e, t, i) { var n = Ze(e); if (n) return n; var a = new ie(e, t, i); return a.id = 'ec_' + Ne++, Re[a.id] = a, b.setAttribute(e, Be, a.id), Ve(a), a } function Fe (e) { if (r.isArray(e)) { var t = e; e = null, k(t, function (t) { t.group != null && (e = t.group) }), e = e || 'g_' + ze++, k(t, function (t) { t.group = e }) } return Ee[e] = !0, e } function He (e) { Ee[e] = !1 } var We = He; function Ue (e) { typeof e === 'string' ? e = Re[e] : e instanceof ie || (e = Ze(e)), e instanceof ie && !e.isDisposed() && e.dispose() } function Ze (e) { return Re[b.getAttribute(e, Be)] } function Ye (e) { return Re[e] } function je (e, t) { ke[e] = t } function Xe (e) { De.push(e) } function qe (e, t) { it(Ce, e, t, V) } function $e (e) { Le.push(e) } function Ke (e, t, i) { typeof t === 'function' && (i = t, t = ''); var n = R(e) ? e.type : [e, e = { event: t }][0]; e.event = (e.event || n).toLowerCase(), t = e.event, P(Q.test(n) && Q.test(t)), Ae[n] || (Ae[n] = { action: i, actionInfo: e }), Te[t] = n } function Je (e, t) { d.register(e, t) } function Qe (e) { var t = d.get(e); if (t) return t.getDimensionsInfo ? t.getDimensionsInfo() : t.dimensions.slice() } function et (e, t) { it(Pe, e, t, W, 'layout') } function tt (e, t) { it(Pe, e, t, Y, 'visual') } function it (e, t, i, n, a) { (O(t) || R(t)) && (i = t, t = n); var r = T.wrapStageHandler(i, a); return r.__prio = t, r.__raw = i, e.push(r), r } function nt (e, t) { Oe[e] = t } function at (e) { return m.extend(e) } function rt (e) { return y.extend(e) } function ot (e) { return v.extend(e) } function st (e) { return x.extend(e) } function lt (e) { r.$override('createCanvas', e) } function ut (e, t, i) { L.registerMap(e, t, i) } function ct (e) { var t = L.retrieveMap(e); return t && t[0] && { geoJson: t[0].geoJSON, specialAreas: t[0].specialAreas } }tt(Z, M), Xe(p), qe(F, g), nt('default', A), Ke({ type: 'highlight', event: 'highlight', update: 'highlight' }, r.noop), Ke({ type: 'downplay', event: 'downplay', update: 'downplay' }, r.noop), je('light', C), je('dark', D); var ht = {}; t.version = N, t.dependencies = z, t.PRIORITY = $, t.init = Ge, t.connect = Fe, t.disConnect = He, t.disconnect = We, t.dispose = Ue, t.getInstanceByDom = Ze, t.getInstanceById = Ye, t.registerTheme = je, t.registerPreprocessor = Xe, t.registerProcessor = qe, t.registerPostUpdate = $e, t.registerAction = Ke, t.registerCoordinateSystem = Je, t.getCoordinateSystemDimensions = Qe, t.registerLayout = et, t.registerVisual = tt, t.registerLoading = nt, t.extendComponentModel = at, t.extendComponentView = rt, t.extendSeriesModel = ot, t.extendChartView = st, t.setCanvasCreator = lt, t.registerMap = ut, t.getMap = ct, t.dataTool = ht; var dt = i('b719'); (function () { for (var e in dt)dt.hasOwnProperty(e) && (t[e] = dt[e]) })() }, '3f8e': function (e, t, i) { var n = i('8727'); var a = n.createElement; var r = i('20c8'); var o = i('9850'); var s = i('1687'); var l = i('e86a'); var u = i('a73c'); var c = i('76a5'); var h = r.CMD; var d = Array.prototype.join; var f = 'none'; var p = Math.round; var g = Math.sin; var m = Math.cos; var v = Math.PI; var y = 2 * Math.PI; var x = 180 / v; var _ = 1e-4; function b (e) { return p(1e4 * e) / 1e4 } function w (e) { return e < _ && e > -_ } function S (e, t) { var i = t ? e.textFill : e.fill; return i != null && i !== f } function M (e, t) { var i = t ? e.textStroke : e.stroke; return i != null && i !== f } function I (e, t) { t && A(e, 'transform', 'matrix(' + d.call(t, ',') + ')') } function A (e, t, i) { (!i || i.type !== 'linear' && i.type !== 'radial') && e.setAttribute(t, i) } function T (e, t, i) { e.setAttributeNS('http://www.w3.org/1999/xlink', t, i) } function C (e, t, i, n) { if (S(t, i)) { var a = i ? t.textFill : t.fill; a = a === 'transparent' ? f : a, A(e, 'fill', a), A(e, 'fill-opacity', t.fillOpacity != null ? t.fillOpacity * t.opacity : t.opacity) } else A(e, 'fill', f); if (M(t, i)) { var r = i ? t.textStroke : t.stroke; r = r === 'transparent' ? f : r, A(e, 'stroke', r); var o = i ? t.textStrokeWidth : t.lineWidth; var s = !i && t.strokeNoScale ? n.getLineScale() : 1; A(e, 'stroke-width', o / s), A(e, 'paint-order', i ? 'stroke' : 'fill'), A(e, 'stroke-opacity', t.strokeOpacity != null ? t.strokeOpacity : t.opacity); var l = t.lineDash; l ? (A(e, 'stroke-dasharray', t.lineDash.join(',')), A(e, 'stroke-dashoffset', p(t.lineDashOffset || 0))) : A(e, 'stroke-dasharray', ''), t.lineCap && A(e, 'stroke-linecap', t.lineCap), t.lineJoin && A(e, 'stroke-linejoin', t.lineJoin), t.miterLimit && A(e, 'stroke-miterlimit', t.miterLimit) } else A(e, 'stroke', f) } function D (e) { for (var t = [], i = e.data, n = e.len(), a = 0; a < n;) { var r = i[a++]; var o = ''; var s = 0; switch (r) { case h.M:o = 'M', s = 2; break; case h.L:o = 'L', s = 2; break; case h.Q:o = 'Q', s = 4; break; case h.C:o = 'C', s = 6; break; case h.A:var l = i[a++]; var u = i[a++]; var c = i[a++]; var d = i[a++]; var f = i[a++]; var _ = i[a++]; var S = i[a++]; var M = i[a++]; var I = Math.abs(_); var A = w(I - y) || (M ? _ >= y : -_ >= y); var T = _ > 0 ? _ % y : _ % y + y; var C = !1; C = !!A || !w(I) && T >= v === !!M; var D = b(l + c * m(f)); var L = b(u + d * g(f)); A && (_ = M ? y - 1e-4 : 1e-4 - y, C = !0, a === 9 && t.push('M', D, L)); var P = b(l + c * m(f + _)); var k = b(u + d * g(f + _)); t.push('A', b(c), b(d), p(S * x), +C, +M, P, k); break; case h.Z:o = 'Z'; break; case h.R:P = b(i[a++]), k = b(i[a++]); var O = b(i[a++]); var R = b(i[a++]); t.push('M', P, k, 'L', P + O, k, 'L', P + O, k + R, 'L', P, k + R, 'L', P, k); break }o && t.push(o); for (var E = 0; E < s; E++)t.push(b(i[a++])) } return t.join(' ') } var L = { brush: function (e) { var t = e.style; var i = e.__svgEl; i || (i = a('path'), e.__svgEl = i), e.path || e.createPathProxy(); var n = e.path; if (e.__dirtyPath) { n.beginPath(), n.subPixelOptimize = !1, e.buildPath(n, e.shape), e.__dirtyPath = !1; var r = D(n); r.indexOf('NaN') < 0 && A(i, 'd', r) }C(i, t, !1, e), I(i, e.transform), t.text != null ? z(e, e.getBoundingRect()) : F(e) } }; var P = { brush: function (e) { var t = e.style; var i = t.image; if (i instanceof HTMLImageElement) { var n = i.src; i = n } if (i) { var r = t.x || 0; var o = t.y || 0; var s = t.width; var l = t.height; var u = e.__svgEl; u || (u = a('image'), e.__svgEl = u), i !== e.__imageSrc && (T(u, 'href', i), e.__imageSrc = i), A(u, 'width', s), A(u, 'height', l), A(u, 'x', r), A(u, 'y', o), I(u, e.transform), t.text != null ? z(e, e.getBoundingRect()) : F(e) } } }; var k = {}; var O = new o(); var R = {}; var E = []; var N = { left: 'start', right: 'end', center: 'middle', middle: 'middle' }; var z = function (e, t) { var i = e.style; var n = e.transform; var r = e instanceof c || i.transformText; e.__dirty && u.normalizeTextStyle(i, !0); var o = i.text; if (o != null && (o += ''), u.needDrawText(o, i)) { o == null && (o = ''), !r && n && (O.copy(t), O.applyTransform(n), t = O); var s = e.__textSvgEl; s || (s = a('text'), e.__textSvgEl = s); var h = s.style; var d = i.font || l.DEFAULT_FONT; var f = s.__computedFont; d !== s.__styleFont && (h.font = s.__styleFont = d, f = s.__computedFont = h.font); var p = i.textPadding; var g = i.textLineHeight; var m = e.__textCotentBlock; m && !e.__dirtyText || (m = e.__textCotentBlock = l.parsePlainText(o, f, p, g, i.truncate)); var v = m.outerHeight; var y = m.lineHeight; u.getBoxPosition(R, e, i, t); var x = R.baseX; var _ = R.baseY; var b = R.textAlign || 'left'; var w = R.textVerticalAlign; B(s, r, n, i, t, x, _); var S = l.adjustTextY(_, v, w); var M = x; var I = S; p && (M = V(x, b, p), I += p[0]), I += y / 2, C(s, i, !0, e); var A = m.canCacheByTextString; var T = e.__tspanList || (e.__tspanList = []); var D = T.length; if (A && e.__canCacheByTextString && e.__text === o) { if (e.__dirtyText && D) for (var L = 0; L < D; ++L)G(T[L], b, M, I + L * y) } else { e.__text = o, e.__canCacheByTextString = A; var P = m.lines; var k = P.length; for (L = 0; L < k; L++) { var E = T[L]; var N = P[L]; E ? E.__zrText !== N && (E.innerHTML = '', E.appendChild(document.createTextNode(N))) : (E = T[L] = a('tspan'), s.appendChild(E), E.appendChild(document.createTextNode(N))), G(E, b, M, I + L * y) } if (D > k) { for (;L < D; L++)s.removeChild(T[L]); T.length = k } } } }; function B (e, t, i, n, a, r, o) { s.identity(E), t && i && s.copy(E, i); var l = n.textRotation; if (a && l) { var u = n.textOrigin; u === 'center' ? (r = a.width / 2 + a.x, o = a.height / 2 + a.y) : u && (r = u[0] + a.x, o = u[1] + a.y), E[4] -= r, E[5] -= o, s.rotate(E, E, l), E[4] += r, E[5] += o }I(e, E) } function V (e, t, i) { return t === 'right' ? e - i[1] : t === 'center' ? e + i[3] / 2 - i[1] / 2 : e + i[3] } function G (e, t, i, n) { A(e, 'dominant-baseline', 'middle'), A(e, 'text-anchor', N[t]), A(e, 'x', i), A(e, 'y', n) } function F (e) { e && e.__textSvgEl && (e.__textSvgEl.parentNode && e.__textSvgEl.parentNode.removeChild(e.__textSvgEl), e.__textSvgEl = null, e.__tspanList = [], e.__text = null) }k.drawRectText = z, k.brush = function (e) { var t = e.style; t.text != null ? z(e, !1) : F(e) }, t.path = L, t.image = P, t.text = k }, '401b': function (e, t) { var i = typeof Float32Array === 'undefined' ? Array : Float32Array; function n (e, t) { var n = new i(2); return e == null && (e = 0), t == null && (t = 0), n[0] = e, n[1] = t, n } function a (e, t) { return e[0] = t[0], e[1] = t[1], e } function r (e) { var t = new i(2); return t[0] = e[0], t[1] = e[1], t } function o (e, t, i) { return e[0] = t, e[1] = i, e } function s (e, t, i) { return e[0] = t[0] + i[0], e[1] = t[1] + i[1], e } function l (e, t, i, n) { return e[0] = t[0] + i[0] * n, e[1] = t[1] + i[1] * n, e } function u (e, t, i) { return e[0] = t[0] - i[0], e[1] = t[1] - i[1], e } function c (e) { return Math.sqrt(d(e)) } var h = c; function d (e) { return e[0] * e[0] + e[1] * e[1] } var f = d; function p (e, t, i) { return e[0] = t[0] * i[0], e[1] = t[1] * i[1], e } function g (e, t, i) { return e[0] = t[0] / i[0], e[1] = t[1] / i[1], e } function m (e, t) { return e[0] * t[0] + e[1] * t[1] } function v (e, t, i) { return e[0] = t[0] * i, e[1] = t[1] * i, e } function y (e, t) { var i = c(t); return i === 0 ? (e[0] = 0, e[1] = 0) : (e[0] = t[0] / i, e[1] = t[1] / i), e } function x (e, t) { return Math.sqrt((e[0] - t[0]) * (e[0] - t[0]) + (e[1] - t[1]) * (e[1] - t[1])) } var _ = x; function b (e, t) { return (e[0] - t[0]) * (e[0] - t[0]) + (e[1] - t[1]) * (e[1] - t[1]) } var w = b; function S (e, t) { return e[0] = -t[0], e[1] = -t[1], e } function M (e, t, i, n) { return e[0] = t[0] + n * (i[0] - t[0]), e[1] = t[1] + n * (i[1] - t[1]), e } function I (e, t, i) { var n = t[0]; var a = t[1]; return e[0] = i[0] * n + i[2] * a + i[4], e[1] = i[1] * n + i[3] * a + i[5], e } function A (e, t, i) { return e[0] = Math.min(t[0], i[0]), e[1] = Math.min(t[1], i[1]), e } function T (e, t, i) { return e[0] = Math.max(t[0], i[0]), e[1] = Math.max(t[1], i[1]), e }t.create = n, t.copy = a, t.clone = r, t.set = o, t.add = s, t.scaleAndAdd = l, t.sub = u, t.len = c, t.length = h, t.lenSquare = d, t.lengthSquare = f, t.mul = p, t.div = g, t.dot = m, t.scale = v, t.normalize = y, t.distance = x, t.dist = _, t.distanceSquare = b, t.distSquare = w, t.negate = S, t.lerp = M, t.applyTransform = I, t.min = A, t.max = T }, '414c': function (e, t, i) { var n = i('3a56'); var a = n.extend({ type: 'dataZoom.select' }); e.exports = a }, '41ef': function (e, t, i) { var n = i('d51b'); var a = { transparent: [0, 0, 0, 0], aliceblue: [240, 248, 255, 1], antiquewhite: [250, 235, 215, 1], aqua: [0, 255, 255, 1], aquamarine: [127, 255, 212, 1], azure: [240, 255, 255, 1], beige: [245, 245, 220, 1], bisque: [255, 228, 196, 1], black: [0, 0, 0, 1], blanchedalmond: [255, 235, 205, 1], blue: [0, 0, 255, 1], blueviolet: [138, 43, 226, 1], brown: [165, 42, 42, 1], burlywood: [222, 184, 135, 1], cadetblue: [95, 158, 160, 1], chartreuse: [127, 255, 0, 1], chocolate: [210, 105, 30, 1], coral: [255, 127, 80, 1], cornflowerblue: [100, 149, 237, 1], cornsilk: [255, 248, 220, 1], crimson: [220, 20, 60, 1], cyan: [0, 255, 255, 1], darkblue: [0, 0, 139, 1], darkcyan: [0, 139, 139, 1], darkgoldenrod: [184, 134, 11, 1], darkgray: [169, 169, 169, 1], darkgreen: [0, 100, 0, 1], darkgrey: [169, 169, 169, 1], darkkhaki: [189, 183, 107, 1], darkmagenta: [139, 0, 139, 1], darkolivegreen: [85, 107, 47, 1], darkorange: [255, 140, 0, 1], darkorchid: [153, 50, 204, 1], darkred: [139, 0, 0, 1], darksalmon: [233, 150, 122, 1], darkseagreen: [143, 188, 143, 1], darkslateblue: [72, 61, 139, 1], darkslategray: [47, 79, 79, 1], darkslategrey: [47, 79, 79, 1], darkturquoise: [0, 206, 209, 1], darkviolet: [148, 0, 211, 1], deeppink: [255, 20, 147, 1], deepskyblue: [0, 191, 255, 1], dimgray: [105, 105, 105, 1], dimgrey: [105, 105, 105, 1], dodgerblue: [30, 144, 255, 1], firebrick: [178, 34, 34, 1], floralwhite: [255, 250, 240, 1], forestgreen: [34, 139, 34, 1], fuchsia: [255, 0, 255, 1], gainsboro: [220, 220, 220, 1], ghostwhite: [248, 248, 255, 1], gold: [255, 215, 0, 1], goldenrod: [218, 165, 32, 1], gray: [128, 128, 128, 1], green: [0, 128, 0, 1], greenyellow: [173, 255, 47, 1], grey: [128, 128, 128, 1], honeydew: [240, 255, 240, 1], hotpink: [255, 105, 180, 1], indianred: [205, 92, 92, 1], indigo: [75, 0, 130, 1], ivory: [255, 255, 240, 1], khaki: [240, 230, 140, 1], lavender: [230, 230, 250, 1], lavenderblush: [255, 240, 245, 1], lawngreen: [124, 252, 0, 1], lemonchiffon: [255, 250, 205, 1], lightblue: [173, 216, 230, 1], lightcoral: [240, 128, 128, 1], lightcyan: [224, 255, 255, 1], lightgoldenrodyellow: [250, 250, 210, 1], lightgray: [211, 211, 211, 1], lightgreen: [144, 238, 144, 1], lightgrey: [211, 211, 211, 1], lightpink: [255, 182, 193, 1], lightsalmon: [255, 160, 122, 1], lightseagreen: [32, 178, 170, 1], lightskyblue: [135, 206, 250, 1], lightslategray: [119, 136, 153, 1], lightslategrey: [119, 136, 153, 1], lightsteelblue: [176, 196, 222, 1], lightyellow: [255, 255, 224, 1], lime: [0, 255, 0, 1], limegreen: [50, 205, 50, 1], linen: [250, 240, 230, 1], magenta: [255, 0, 255, 1], maroon: [128, 0, 0, 1], mediumaquamarine: [102, 205, 170, 1], mediumblue: [0, 0, 205, 1], mediumorchid: [186, 85, 211, 1], mediumpurple: [147, 112, 219, 1], mediumseagreen: [60, 179, 113, 1], mediumslateblue: [123, 104, 238, 1], mediumspringgreen: [0, 250, 154, 1], mediumturquoise: [72, 209, 204, 1], mediumvioletred: [199, 21, 133, 1], midnightblue: [25, 25, 112, 1], mintcream: [245, 255, 250, 1], mistyrose: [255, 228, 225, 1], moccasin: [255, 228, 181, 1], navajowhite: [255, 222, 173, 1], navy: [0, 0, 128, 1], oldlace: [253, 245, 230, 1], olive: [128, 128, 0, 1], olivedrab: [107, 142, 35, 1], orange: [255, 165, 0, 1], orangered: [255, 69, 0, 1], orchid: [218, 112, 214, 1], palegoldenrod: [238, 232, 170, 1], palegreen: [152, 251, 152, 1], paleturquoise: [175, 238, 238, 1], palevioletred: [219, 112, 147, 1], papayawhip: [255, 239, 213, 1], peachpuff: [255, 218, 185, 1], peru: [205, 133, 63, 1], pink: [255, 192, 203, 1], plum: [221, 160, 221, 1], powderblue: [176, 224, 230, 1], purple: [128, 0, 128, 1], red: [255, 0, 0, 1], rosybrown: [188, 143, 143, 1], royalblue: [65, 105, 225, 1], saddlebrown: [139, 69, 19, 1], salmon: [250, 128, 114, 1], sandybrown: [244, 164, 96, 1], seagreen: [46, 139, 87, 1], seashell: [255, 245, 238, 1], sienna: [160, 82, 45, 1], silver: [192, 192, 192, 1], skyblue: [135, 206, 235, 1], slateblue: [106, 90, 205, 1], slategray: [112, 128, 144, 1], slategrey: [112, 128, 144, 1], snow: [255, 250, 250, 1], springgreen: [0, 255, 127, 1], steelblue: [70, 130, 180, 1], tan: [210, 180, 140, 1], teal: [0, 128, 128, 1], thistle: [216, 191, 216, 1], tomato: [255, 99, 71, 1], turquoise: [64, 224, 208, 1], violet: [238, 130, 238, 1], wheat: [245, 222, 179, 1], white: [255, 255, 255, 1], whitesmoke: [245, 245, 245, 1], yellow: [255, 255, 0, 1], yellowgreen: [154, 205, 50, 1] }; function r (e) { return e = Math.round(e), e < 0 ? 0 : e > 255 ? 255 : e } function o (e) { return e = Math.round(e), e < 0 ? 0 : e > 360 ? 360 : e } function s (e) { return e < 0 ? 0 : e > 1 ? 1 : e } function l (e) { return e.length && e.charAt(e.length - 1) === '%' ? r(parseFloat(e) / 100 * 255) : r(parseInt(e, 10)) } function u (e) { return e.length && e.charAt(e.length - 1) === '%' ? s(parseFloat(e) / 100) : s(parseFloat(e)) } function c (e, t, i) { return i < 0 ? i += 1 : i > 1 && (i -= 1), 6 * i < 1 ? e + (t - e) * i * 6 : 2 * i < 1 ? t : 3 * i < 2 ? e + (t - e) * (2 / 3 - i) * 6 : e } function h (e, t, i) { return e + (t - e) * i } function d (e, t, i, n, a) { return e[0] = t, e[1] = i, e[2] = n, e[3] = a, e } function f (e, t) { return e[0] = t[0], e[1] = t[1], e[2] = t[2], e[3] = t[3], e } var p = new n(20); var g = null; function m (e, t) { g && f(g, t), g = p.put(e, g || t.slice()) } function v (e, t) { if (e) { t = t || []; var i = p.get(e); if (i) return f(t, i); e += ''; var n = e.replace(/ /g, '').toLowerCase(); if (n in a) return f(t, a[n]), m(e, t), t; if (n.charAt(0) !== '#') { var r = n.indexOf('('); var o = n.indexOf(')'); if (r !== -1 && o + 1 === n.length) { var s = n.substr(0, r); var c = n.substr(r + 1, o - (r + 1)).split(','); var h = 1; switch (s) { case 'rgba':if (c.length !== 4) return void d(t, 0, 0, 0, 1); h = u(c.pop()); case 'rgb':return c.length !== 3 ? void d(t, 0, 0, 0, 1) : (d(t, l(c[0]), l(c[1]), l(c[2]), h), m(e, t), t); case 'hsla':return c.length !== 4 ? void d(t, 0, 0, 0, 1) : (c[3] = u(c[3]), y(c, t), m(e, t), t); case 'hsl':return c.length !== 3 ? void d(t, 0, 0, 0, 1) : (y(c, t), m(e, t), t); default:return } }d(t, 0, 0, 0, 1) } else { if (n.length === 4) { var g = parseInt(n.substr(1), 16); return g >= 0 && g <= 4095 ? (d(t, (3840 & g) >> 4 | (3840 & g) >> 8, 240 & g | (240 & g) >> 4, 15 & g | (15 & g) << 4, 1), m(e, t), t) : void d(t, 0, 0, 0, 1) } if (n.length === 7) { g = parseInt(n.substr(1), 16); return g >= 0 && g <= 16777215 ? (d(t, (16711680 & g) >> 16, (65280 & g) >> 8, 255 & g, 1), m(e, t), t) : void d(t, 0, 0, 0, 1) } } } } function y (e, t) { var i = (parseFloat(e[0]) % 360 + 360) % 360 / 360; var n = u(e[1]); var a = u(e[2]); var o = a <= 0.5 ? a * (n + 1) : a + n - a * n; var s = 2 * a - o; return t = t || [], d(t, r(255 * c(s, o, i + 1 / 3)), r(255 * c(s, o, i)), r(255 * c(s, o, i - 1 / 3)), 1), e.length === 4 && (t[3] = e[3]), t } function x (e) { if (e) { var t; var i; var n = e[0] / 255; var a = e[1] / 255; var r = e[2] / 255; var o = Math.min(n, a, r); var s = Math.max(n, a, r); var l = s - o; var u = (s + o) / 2; if (l === 0)t = 0, i = 0; else { i = u < 0.5 ? l / (s + o) : l / (2 - s - o); var c = ((s - n) / 6 + l / 2) / l; var h = ((s - a) / 6 + l / 2) / l; var d = ((s - r) / 6 + l / 2) / l; n === s ? t = d - h : a === s ? t = 1 / 3 + c - d : r === s && (t = 2 / 3 + h - c), t < 0 && (t += 1), t > 1 && (t -= 1) } var f = [360 * t, i, u]; return e[3] != null && f.push(e[3]), f } } function _ (e, t) { var i = v(e); if (i) { for (var n = 0; n < 3; n++)i[n] = t < 0 ? i[n] * (1 - t) | 0 : (255 - i[n]) * t + i[n] | 0, i[n] > 255 ? i[n] = 255 : e[n] < 0 && (i[n] = 0); return C(i, i.length === 4 ? 'rgba' : 'rgb') } } function b (e) { var t = v(e); if (t) return ((1 << 24) + (t[0] << 16) + (t[1] << 8) + +t[2]).toString(16).slice(1) } function w (e, t, i) { if (t && t.length && e >= 0 && e <= 1) { i = i || []; var n = e * (t.length - 1); var a = Math.floor(n); var o = Math.ceil(n); var l = t[a]; var u = t[o]; var c = n - a; return i[0] = r(h(l[0], u[0], c)), i[1] = r(h(l[1], u[1], c)), i[2] = r(h(l[2], u[2], c)), i[3] = s(h(l[3], u[3], c)), i } } var S = w; function M (e, t, i) { if (t && t.length && e >= 0 && e <= 1) { var n = e * (t.length - 1); var a = Math.floor(n); var o = Math.ceil(n); var l = v(t[a]); var u = v(t[o]); var c = n - a; var d = C([r(h(l[0], u[0], c)), r(h(l[1], u[1], c)), r(h(l[2], u[2], c)), s(h(l[3], u[3], c))], 'rgba'); return i ? { color: d, leftIndex: a, rightIndex: o, value: n } : d } } var I = M; function A (e, t, i, n) { if (e = v(e), e) return e = x(e), t != null && (e[0] = o(t)), i != null && (e[1] = u(i)), n != null && (e[2] = u(n)), C(y(e), 'rgba') } function T (e, t) { if (e = v(e), e && t != null) return e[3] = s(t), C(e, 'rgba') } function C (e, t) { if (e && e.length) { var i = e[0] + ',' + e[1] + ',' + e[2]; return t !== 'rgba' && t !== 'hsva' && t !== 'hsla' || (i += ',' + e[3]), t + '(' + i + ')' } }t.parse = v, t.lift = _, t.toHex = b, t.fastLerp = w, t.fastMapToColor = S, t.lerp = M, t.mapToColor = I, t.modifyHSL = A, t.modifyAlpha = T, t.stringify = C }, '42e5': function (e, t) { var i = function (e) { this.colorStops = e || [] }; i.prototype = { constructor: i, addColorStop: function (e, t) { this.colorStops.push({ offset: e, color: t }) } }; var n = i; e.exports = n }, '42f6': function (e, t, i) { var n = i('3eba'); var a = i('6d8b'); var r = i('22d1'); var o = i('07d7'); var s = i('82f9'); var l = i('eda2'); var u = i('3842'); var c = i('2306'); var h = i('133d'); var d = i('f934'); var f = i('4319'); var p = i('17d6'); var g = i('697e'); var m = i('ff2e'); var v = i('e0d3'); var y = v.getTooltipRenderMode; var x = a.bind; var _ = a.each; var b = u.parsePercent; var w = new c.Rect({ shape: { x: -1, y: -1, width: 2, height: 2 } }); var S = n.extendComponentView({ type: 'tooltip', init: function (e, t) { if (!r.node) { var i; var n = e.getComponent('tooltip'); var a = n.get('renderMode'); this._renderMode = y(a), this._renderMode === 'html' ? (i = new o(t.getDom(), t, { appendToBody: n.get('appendToBody', !0) }), this._newLine = '<br/>') : (i = new s(t), this._newLine = '\n'), this._tooltipContent = i } }, render: function (e, t, i) { if (!r.node) { this.group.removeAll(), this._tooltipModel = e, this._ecModel = t, this._api = i, this._lastDataByCoordSys = null, this._alwaysShowContent = e.get('alwaysShowContent'); var n = this._tooltipContent; n.update(e), n.setEnterable(e.get('enterable')), this._initGlobalListener(), this._keepShow() } }, _initGlobalListener: function () { var e = this._tooltipModel; var t = e.get('triggerOn'); p.register('itemTooltip', this._api, x(function (e, i, n) { t !== 'none' && (t.indexOf(e) >= 0 ? this._tryShow(i, n) : e === 'leave' && this._hide(n)) }, this)) }, _keepShow: function () { var e = this._tooltipModel; var t = this._ecModel; var i = this._api; if (this._lastX != null && this._lastY != null && e.get('triggerOn') !== 'none') { var n = this; clearTimeout(this._refreshUpdateTimeout), this._refreshUpdateTimeout = setTimeout(function () { !i.isDisposed() && n.manuallyShowTip(e, t, i, { x: n._lastX, y: n._lastY }) }) } }, manuallyShowTip: function (e, t, i, n) { if (n.from !== this.uid && !r.node) { var a = I(n, i); this._ticket = ''; var o = n.dataByCoordSys; if (n.tooltip && n.x != null && n.y != null) { var s = w; s.position = [n.x, n.y], s.update(), s.tooltip = n.tooltip, this._tryShow({ offsetX: n.x, offsetY: n.y, target: s }, a) } else if (o) this._tryShow({ offsetX: n.x, offsetY: n.y, position: n.position, dataByCoordSys: n.dataByCoordSys, tooltipOption: n.tooltipOption }, a); else if (n.seriesIndex != null) { if (this._manuallyAxisShowTip(e, t, i, n)) return; var l = h(n, t); var u = l.point[0]; var c = l.point[1]; u != null && c != null && this._tryShow({ offsetX: u, offsetY: c, position: n.position, target: l.el }, a) } else n.x != null && n.y != null && (i.dispatchAction({ type: 'updateAxisPointer', x: n.x, y: n.y }), this._tryShow({ offsetX: n.x, offsetY: n.y, position: n.position, target: i.getZr().findHover(n.x, n.y).target }, a)) } }, manuallyHideTip: function (e, t, i, n) { var a = this._tooltipContent; !this._alwaysShowContent && this._tooltipModel && a.hideLater(this._tooltipModel.get('hideDelay')), this._lastX = this._lastY = null, n.from !== this.uid && this._hide(I(n, i)) }, _manuallyAxisShowTip: function (e, t, i, n) { var a = n.seriesIndex; var r = n.dataIndex; var o = t.getComponent('axisPointer').coordSysAxesInfo; if (a != null && r != null && o != null) { var s = t.getSeriesByIndex(a); if (s) { var l = s.getData(); e = M([l.getItemModel(r), s, (s.coordinateSystem || {}).model, e]); if (e.get('trigger') === 'axis') return i.dispatchAction({ type: 'updateAxisPointer', seriesIndex: a, dataIndex: r, position: n.position }), !0 } } }, _tryShow: function (e, t) { var i = e.target; var n = this._tooltipModel; if (n) { this._lastX = e.offsetX, this._lastY = e.offsetY; var a = e.dataByCoordSys; a && a.length ? this._showAxisTooltip(a, e) : i && i.dataIndex != null ? (this._lastDataByCoordSys = null, this._showSeriesItemTooltip(e, i, t)) : i && i.tooltip ? (this._lastDataByCoordSys = null, this._showComponentItemTooltip(e, i, t)) : (this._lastDataByCoordSys = null, this._hide(t)) } }, _showOrMove: function (e, t) { var i = e.get('showDelay'); t = a.bind(t, this), clearTimeout(this._showTimout), i > 0 ? this._showTimout = setTimeout(t, i) : t() }, _showAxisTooltip: function (e, t) { var i = this._ecModel; var n = this._tooltipModel; var r = [t.offsetX, t.offsetY]; var o = []; var s = []; var u = M([t.tooltipOption, n]); var c = this._renderMode; var h = this._newLine; var d = {}; _(e, function (e) { _(e.dataByAxis, function (e) { var t = i.getComponent(e.axisDim + 'Axis', e.axisIndex); var n = e.value; var r = []; if (t && n != null) { var u = m.getValueLabel(n, t.axis, i, e.seriesDataIndices, e.valueLabelOpt); a.each(e.seriesDataIndices, function (o) { var l = i.getSeriesByIndex(o.seriesIndex); var h = o.dataIndexInside; var f = l && l.getDataParams(h); if (f.axisDim = e.axisDim, f.axisIndex = e.axisIndex, f.axisType = e.axisType, f.axisId = e.axisId, f.axisValue = g.getAxisRawValue(t.axis, n), f.axisValueLabel = u, f) { s.push(f); var p; var m = l.formatTooltip(h, !0, null, c); if (a.isObject(m)) { p = m.html; var v = m.markers; a.merge(d, v) } else p = m; r.push(p) } }); var f = u; c !== 'html' ? o.push(r.join(h)) : o.push((f ? l.encodeHTML(f) + h : '') + r.join(h)) } }) }, this), o.reverse(), o = o.join(this._newLine + this._newLine); var f = t.position; this._showOrMove(u, function () { this._updateContentNotChangedOnAxis(e) ? this._updatePosition(u, f, r[0], r[1], this._tooltipContent, s) : this._showTooltipContent(u, o, s, Math.random(), r[0], r[1], f, void 0, d) }) }, _showSeriesItemTooltip: function (e, t, i) { var n = this._ecModel; var r = t.seriesIndex; var o = n.getSeriesByIndex(r); var s = t.dataModel || o; var l = t.dataIndex; var u = t.dataType; var c = s.getData(u); var h = M([c.getItemModel(l), s, o && (o.coordinateSystem || {}).model, this._tooltipModel]); var d = h.get('trigger'); if (d == null || d === 'item') { var f; var p; var g = s.getDataParams(l, u); var m = s.formatTooltip(l, !1, u, this._renderMode); a.isObject(m) ? (f = m.html, p = m.markers) : (f = m, p = null); var v = 'item_' + s.name + '_' + l; this._showOrMove(h, function () { this._showTooltipContent(h, f, g, v, e.offsetX, e.offsetY, e.position, e.target, p) }), i({ type: 'showTip', dataIndexInside: l, dataIndex: c.getRawIndex(l), seriesIndex: r, from: this.uid }) } }, _showComponentItemTooltip: function (e, t, i) { var n = t.tooltip; if (typeof n === 'string') { var a = n; n = { content: a, formatter: a } } var r = new f(n, this._tooltipModel, this._ecModel); var o = r.get('content'); var s = Math.random(); this._showOrMove(r, function () { this._showTooltipContent(r, o, r.get('formatterParams') || {}, s, e.offsetX, e.offsetY, e.position, t) }), i({ type: 'showTip', from: this.uid }) }, _showTooltipContent: function (e, t, i, n, a, r, o, s, u) { if (this._ticket = '', e.get('showContent') && e.get('show')) { var c = this._tooltipContent; var h = e.get('formatter'); o = o || e.get('position'); var d = t; if (h && typeof h === 'string')d = l.formatTpl(h, i, !0); else if (typeof h === 'function') { var f = x(function (t, n) { t === this._ticket && (c.setContent(n, u, e), this._updatePosition(e, o, a, r, c, i, s)) }, this); this._ticket = n, d = h(i, n, f) }c.setContent(d, u, e), c.show(e), this._updatePosition(e, o, a, r, c, i, s) } }, _updatePosition: function (e, t, i, n, r, o, s) { var l = this._api.getWidth(); var u = this._api.getHeight(); t = t || e.get('position'); var c = r.getSize(); var h = e.get('align'); var f = e.get('verticalAlign'); var p = s && s.getBoundingRect().clone(); if (s && p.applyTransform(s.transform), typeof t === 'function' && (t = t([i, n], o, r.el, p, { viewSize: [l, u], contentSize: c.slice() })), a.isArray(t))i = b(t[0], l), n = b(t[1], u); else if (a.isObject(t)) { t.width = c[0], t.height = c[1]; var g = d.getLayoutRect(t, { width: l, height: u }); i = g.x, n = g.y, h = null, f = null } else if (typeof t === 'string' && s) { var m = C(t, p, c); i = m[0], n = m[1] } else { m = A(i, n, r, l, u, h ? null : 20, f ? null : 20); i = m[0], n = m[1] } if (h && (i -= D(h) ? c[0] / 2 : h === 'right' ? c[0] : 0), f && (n -= D(f) ? c[1] / 2 : f === 'bottom' ? c[1] : 0), e.get('confine')) { m = T(i, n, r, l, u); i = m[0], n = m[1] }r.moveTo(i, n) }, _updateContentNotChangedOnAxis: function (e) { var t = this._lastDataByCoordSys; var i = !!t && t.length === e.length; return i && _(t, function (t, n) { var a = t.dataByAxis || {}; var r = e[n] || {}; var o = r.dataByAxis || []; i &= a.length === o.length, i && _(a, function (e, t) { var n = o[t] || {}; var a = e.seriesDataIndices || []; var r = n.seriesDataIndices || []; i &= e.value === n.value && e.axisType === n.axisType && e.axisId === n.axisId && a.length === r.length, i && _(a, function (e, t) { var n = r[t]; i &= e.seriesIndex === n.seriesIndex && e.dataIndex === n.dataIndex }) }) }), this._lastDataByCoordSys = e, !!i }, _hide: function (e) { this._lastDataByCoordSys = null, e({ type: 'hideTip', from: this.uid }) }, dispose: function (e, t) { r.node || (this._tooltipContent.dispose(), p.unregister('itemTooltip', t)) } }); function M (e) { var t = e.pop(); while (e.length) { var i = e.pop(); i && (f.isInstance(i) && (i = i.get('tooltip', !0)), typeof i === 'string' && (i = { formatter: i }), t = new f(i, t, t.ecModel)) } return t } function I (e, t) { return e.dispatchAction || a.bind(t.dispatchAction, t) } function A (e, t, i, n, a, r, o) { var s = i.getOuterSize(); var l = s.width; var u = s.height; return r != null && (e + l + r > n ? e -= l + r : e += r), o != null && (t + u + o > a ? t -= u + o : t += o), [e, t] } function T (e, t, i, n, a) { var r = i.getOuterSize(); var o = r.width; var s = r.height; return e = Math.min(e + o, n) - o, t = Math.min(t + s, a) - s, e = Math.max(e, 0), t = Math.max(t, 0), [e, t] } function C (e, t, i) { var n = i[0]; var a = i[1]; var r = 5; var o = 0; var s = 0; var l = t.width; var u = t.height; switch (e) { case 'inside':o = t.x + l / 2 - n / 2, s = t.y + u / 2 - a / 2; break; case 'top':o = t.x + l / 2 - n / 2, s = t.y - a - r; break; case 'bottom':o = t.x + l / 2 - n / 2, s = t.y + u + r; break; case 'left':o = t.x - n - r, s = t.y + u / 2 - a / 2; break; case 'right':o = t.x + l + r, s = t.y + u / 2 - a / 2 } return [o, s] } function D (e) { return e === 'center' || e === 'middle' }e.exports = S }, 4319: function (e, t, i) { var n = i('6d8b'); var a = i('22d1'); var r = i('e0d3'); var o = r.makeInner; var s = i('625e'); var l = s.enableClassExtend; var u = s.enableClassCheck; var c = i('3901'); var h = i('9bdb'); var d = i('fe21'); var f = i('551f'); var p = n.mixin; var g = o(); function m (e, t, i) { this.parentModel = t, this.ecModel = i, this.option = e } function v (e, t, i) { for (var n = 0; n < t.length; n++) if (t[n] && (e = e && typeof e === 'object' ? e[t[n]] : null, e == null)) break; return e == null && i && (e = i.get(t)), e } function y (e, t) { var i = g(e).getParent; return i ? i.call(e, t) : e.parentModel }m.prototype = { constructor: m, init: null, mergeOption: function (e) { n.merge(this.option, e, !0) }, get: function (e, t) { return e == null ? this.option : v(this.option, this.parsePath(e), !t && y(this, e)) }, getShallow: function (e, t) { var i = this.option; var n = i == null ? i : i[e]; var a = !t && y(this, e); return n == null && a && (n = a.getShallow(e)), n }, getModel: function (e, t) { var i; var n = e == null ? this.option : v(this.option, e = this.parsePath(e)); return t = t || (i = y(this, e)) && i.getModel(e), new m(n, t, this.ecModel) }, isEmpty: function () { return this.option == null }, restoreData: function () {}, clone: function () { var e = this.constructor; return new e(n.clone(this.option)) }, setReadOnly: function (e) {}, parsePath: function (e) { return typeof e === 'string' && (e = e.split('.')), e }, customizeGetParent: function (e) { g(this).getParent = e }, isAnimationEnabled: function () { if (!a.node) { if (this.option.animation != null) return !!this.option.animation; if (this.parentModel) return this.parentModel.isAnimationEnabled() } } }, l(m), u(m), p(m, c), p(m, h), p(m, d), p(m, f); var x = m; e.exports = x }, 4338: function (e, t, i) { var n = i('4bf6'); var a = i('2039'); function r (e, t) { var i = []; return e.eachComponent('singleAxis', function (a, r) { var o = new n(a, e, t); o.name = 'single_' + r, o.resize(a, t), a.coordinateSystem = o, i.push(o) }), e.eachSeries(function (t) { if (t.get('coordinateSystem') === 'singleAxis') { var i = e.queryComponents({ mainType: 'singleAxis', index: t.get('singleAxisIndex'), id: t.get('singleAxisId') })[0]; t.coordinateSystem = i && i.coordinateSystem } }), i }a.register('single', { create: r, dimensions: n.prototype.dimensions }) }, '43b8': function (e, t, i) { var n = i('2449'); var a = n.extend({ type: 'markArea', defaultOption: { zlevel: 0, z: 1, tooltip: { trigger: 'item' }, animation: !1, label: { show: !0, position: 'top' }, itemStyle: { borderWidth: 0 }, emphasis: { label: { show: !0, position: 'top' } } } }); e.exports = a }, 4411: function (e, t, i) { for (var n = i('3eba'), a = i('55ac'), r = function () {}, o = ['treemapZoomToNode', 'treemapRender', 'treemapMove'], s = 0; s < o.length; s++)n.registerAction({ type: o[s], update: 'updateView' }, r); n.registerAction({ type: 'treemapRootToNode', update: 'updateView' }, function (e, t) { function i (t, i) { var n = ['treemapZoomToNode', 'treemapRootToNode']; var r = a.retrieveTargetInfo(e, n, t); if (r) { var o = t.getViewRoot(); o && (e.direction = a.aboveViewRoot(o, r.node) ? 'rollUp' : 'drillDown'), t.resetViewRoot(r.node) } }t.eachComponent({ mainType: 'series', subType: 'treemap', query: e }, i) }) }, 4436: function (e, t, i) { var n = i('74cb'); function a (e) { this._target = e.target, this._life = e.life || 1e3, this._delay = e.delay || 0, this._initialized = !1, this.loop = e.loop != null && e.loop, this.gap = e.gap || 0, this.easing = e.easing || 'Linear', this.onframe = e.onframe, this.ondestroy = e.ondestroy, this.onrestart = e.onrestart, this._pausedTime = 0, this._paused = !1 }a.prototype = { constructor: a, step: function (e, t) { if (this._initialized || (this._startTime = e + this._delay, this._initialized = !0), this._paused) this._pausedTime += t; else { var i = (e - this._startTime - this._pausedTime) / this._life; if (!(i < 0)) { i = Math.min(i, 1); var a = this.easing; var r = typeof a === 'string' ? n[a] : a; var o = typeof r === 'function' ? r(i) : i; return this.fire('frame', o), i === 1 ? this.loop ? (this.restart(e), 'restart') : (this._needsRemove = !0, 'destroy') : null } } }, restart: function (e) { var t = (e - this._startTime - this._pausedTime) % this._life; this._startTime = e - t + this.gap, this._pausedTime = 0, this._needsRemove = !1 }, fire: function (e, t) { e = 'on' + e, this[e] && this[e](this._target, t) }, pause: function () { this._paused = !0 }, resume: function () { this._paused = !1 } }; var r = a; e.exports = r }, '44fb': function (e, t, i) { var n = i('3eba'); var a = i('55ac'); var r = 'sunburstRootToNode'; n.registerAction({ type: r, update: 'updateView' }, function (e, t) { function i (t, i) { var n = a.retrieveTargetInfo(e, [r], t); if (n) { var o = t.getViewRoot(); o && (e.direction = a.aboveViewRoot(o, n.node) ? 'rollUp' : 'drillDown'), t.resetViewRoot(n.node) } }t.eachComponent({ mainType: 'series', subType: 'sunburst', query: e }, i) }); var o = 'sunburstHighlight'; n.registerAction({ type: o, update: 'updateView' }, function (e, t) { function i (t, i) { var n = a.retrieveTargetInfo(e, [o], t); n && (e.highlight = n.node) }t.eachComponent({ mainType: 'series', subType: 'sunburst', query: e }, i) }); var s = 'sunburstUnhighlight'; n.registerAction({ type: s, update: 'updateView' }, function (e, t) { function i (t, i) { e.unhighlight = !0 }t.eachComponent({ mainType: 'series', subType: 'sunburst', query: e }, i) }) }, 4527: function (e, t, i) { var n = i('2306'); var a = i('6d8b'); function r (e, t, i) { n.Group.call(this), this._createPolyline(e, t, i) } var o = r.prototype; o._createPolyline = function (e, t, i) { var a = e.getItemLayout(t); var r = new n.Polyline({ shape: { points: a } }); this.add(r), this._updateCommonStl(e, t, i) }, o.updateData = function (e, t, i) { var a = e.hostModel; var r = this.childAt(0); var o = { shape: { points: e.getItemLayout(t) } }; n.updateProps(r, o, a, t), this._updateCommonStl(e, t, i) }, o._updateCommonStl = function (e, t, i) { var r = this.childAt(0); var o = e.getItemModel(t); var s = e.getItemVisual(t, 'color'); var l = i && i.lineStyle; var u = i && i.hoverLineStyle; i && !e.hasItemOption || (l = o.getModel('lineStyle').getLineStyle(), u = o.getModel('emphasis.lineStyle').getLineStyle()), r.useStyle(a.defaults({ strokeNoScale: !0, fill: 'none', stroke: s }, l)), r.hoverStyle = u, n.setHoverStyle(this) }, o.updateLayout = function (e, t) { var i = this.childAt(0); i.setShape('points', e.getItemLayout(t)) }, a.inherits(r, n.Group); var s = r; e.exports = s }, 4573: function (e, t, i) { var n = i('cbe5'); var a = n.extend({ type: 'ring', shape: { cx: 0, cy: 0, r: 0, r0: 0 }, buildPath: function (e, t) { var i = t.cx; var n = t.cy; var a = 2 * Math.PI; e.moveTo(i + t.r, n), e.arc(i, n, t.r, 0, a, !1), e.moveTo(i + t.r0, n), e.arc(i, n, t.r0, 0, a, !0) } }); e.exports = a }, 4650: function (e, t, i) { var n = i('3eba'); var a = i('6d8b'); function r (e, t, i) { var n; var r = {}; var o = e === 'toggleSelected'; return i.eachComponent('legend', function (i) { o && n != null ? i[n ? 'select' : 'unSelect'](t.name) : e === 'allSelect' || e === 'inverseSelect' ? i[e]() : (i[e](t.name), n = i.isSelected(t.name)); var s = i.getData(); a.each(s, function (e) { var t = e.get('name'); if (t !== '\n' && t !== '') { var n = i.isSelected(t); r.hasOwnProperty(t) ? r[t] = r[t] && n : r[t] = n } }) }), e === 'allSelect' || e === 'inverseSelect' ? { selected: r } : { name: t.name, selected: r } }n.registerAction('legendToggleSelect', 'legendselectchanged', a.curry(r, 'toggleSelected')), n.registerAction('legendAllSelect', 'legendselectall', a.curry(r, 'allSelect')), n.registerAction('legendInverseSelect', 'legendinverseselect', a.curry(r, 'inverseSelect')), n.registerAction('legendSelect', 'legendselected', a.curry(r, 'select')), n.registerAction('legendUnSelect', 'legendunselected', a.curry(r, 'unSelect')) }, '471e': function (e, t) { function i (e) { var t = e.getRect(); var i = e.getRangeInfo(); return { coordSys: { type: 'calendar', x: t.x, y: t.y, width: t.width, height: t.height, cellWidth: e.getCellWidth(), cellHeight: e.getCellHeight(), rangeInfo: { start: i.start, end: i.end, weeks: i.weeks, dayCount: i.allDay } }, api: { coord: function (t, i) { return e.dataToPoint(t, i) } } } }e.exports = i }, 4784: function (e, t, i) { var n = i('3eba'); var a = i('f706'); var r = i('c8ef'); var o = i('1687'); var s = i('87c3'); var l = n.extendChartView({ type: 'effectScatter', init: function () { this._symbolDraw = new a(r) }, render: function (e, t, i) { var n = e.getData(); var a = this._symbolDraw; a.updateData(n), this.group.add(a.group) }, updateTransform: function (e, t, i) { var n = e.getData(); this.group.dirty(); var a = s().reset(e); a.progress && a.progress({ start: 0, end: n.count() }, n), this._symbolDraw.updateLayout(n) }, _updateGroupTransform: function (e) { var t = e.coordinateSystem; t && t.getRoamTransform && (this.group.transform = o.clone(t.getRoamTransform()), this.group.decomposeTransform()) }, remove: function (e, t) { this._symbolDraw && this._symbolDraw.remove(t) }, dispose: function () {} }); e.exports = l }, '480e': function (e, t, i) { var n = i('4e08'); var a = (n.__DEV__, i('3eba')); var r = i('2306'); var o = i('cd84'); var s = i('6d8b'); function l (e, t, i) { var n = e[1] - e[0]; t = s.map(t, function (t) { return { interval: [(t.interval[0] - e[0]) / n, (t.interval[1] - e[0]) / n] } }); var a = t.length; var r = 0; return function (e) { for (var n = r; n < a; n++) { var o = t[n].interval; if (o[0] <= e && e <= o[1]) { r = n; break } } if (n === a) for (n = r - 1; n >= 0; n--) { o = t[n].interval; if (o[0] <= e && e <= o[1]) { r = n; break } } return n >= 0 && n < a && i[n] } } function u (e, t) { var i = e[1] - e[0]; return t = [(t[0] - e[0]) / i, (t[1] - e[0]) / i], function (e) { return e >= t[0] && e <= t[1] } } function c (e) { var t = e.dimensions; return t[0] === 'lng' && t[1] === 'lat' } var h = a.extendChartView({ type: 'heatmap', render: function (e, t, i) { var n; t.eachComponent('visualMap', function (t) { t.eachTargetSeries(function (i) { i === e && (n = t) }) }), this.group.removeAll(), this._incrementalDisplayable = null; var a = e.coordinateSystem; a.type === 'cartesian2d' || a.type === 'calendar' ? this._renderOnCartesianAndCalendar(e, i, 0, e.getData().count()) : c(a) && this._renderOnGeo(a, e, n, i) }, incrementalPrepareRender: function (e, t, i) { this.group.removeAll() }, incrementalRender: function (e, t, i, n) { var a = t.coordinateSystem; a && this._renderOnCartesianAndCalendar(t, n, e.start, e.end, !0) }, _renderOnCartesianAndCalendar: function (e, t, i, n, a) { var o; var l; var u = e.coordinateSystem; if (u.type === 'cartesian2d') { var c = u.getAxis('x'); var h = u.getAxis('y'); o = c.getBandWidth(), l = h.getBandWidth() } for (var d = this.group, f = e.getData(), p = 'itemStyle', g = 'emphasis.itemStyle', m = 'label', v = 'emphasis.label', y = e.getModel(p).getItemStyle(['color']), x = e.getModel(g).getItemStyle(), _ = e.getModel(m), b = e.getModel(v), w = u.type, S = w === 'cartesian2d' ? [f.mapDimension('x'), f.mapDimension('y'), f.mapDimension('value')] : [f.mapDimension('time'), f.mapDimension('value')], M = i; M < n; M++) { var I; if (w === 'cartesian2d') { if (isNaN(f.get(S[2], M))) continue; var A = u.dataToPoint([f.get(S[0], M), f.get(S[1], M)]); I = new r.Rect({ shape: { x: Math.floor(Math.round(A[0]) - o / 2), y: Math.floor(Math.round(A[1]) - l / 2), width: Math.ceil(o), height: Math.ceil(l) }, style: { fill: f.getItemVisual(M, 'color'), opacity: f.getItemVisual(M, 'opacity') } }) } else { if (isNaN(f.get(S[1], M))) continue; I = new r.Rect({ z2: 1, shape: u.dataToRect([f.get(S[0], M)]).contentShape, style: { fill: f.getItemVisual(M, 'color'), opacity: f.getItemVisual(M, 'opacity') } }) } var T = f.getItemModel(M); f.hasItemOption && (y = T.getModel(p).getItemStyle(['color']), x = T.getModel(g).getItemStyle(), _ = T.getModel(m), b = T.getModel(v)); var C = e.getRawValue(M); var D = '-'; C && C[2] != null && (D = C[2]), r.setLabelStyle(y, x, _, b, { labelFetcher: e, labelDataIndex: M, defaultText: D, isRectText: !0 }), I.setStyle(y), r.setHoverStyle(I, f.hasItemOption ? x : s.extend({}, x)), I.incremental = a, a && (I.useHoverLayer = !0), d.add(I), f.setItemGraphicEl(M, I) } }, _renderOnGeo: function (e, t, i, n) { var a = i.targetVisuals.inRange; var s = i.targetVisuals.outOfRange; var c = t.getData(); var h = this._hmLayer || this._hmLayer || new o(); h.blurSize = t.get('blurSize'), h.pointSize = t.get('pointSize'), h.minOpacity = t.get('minOpacity'), h.maxOpacity = t.get('maxOpacity'); var d = e.getViewRect().clone(); var f = e.getRoamTransform(); d.applyTransform(f); var p = Math.max(d.x, 0); var g = Math.max(d.y, 0); var m = Math.min(d.width + d.x, n.getWidth()); var v = Math.min(d.height + d.y, n.getHeight()); var y = m - p; var x = v - g; var _ = [c.mapDimension('lng'), c.mapDimension('lat'), c.mapDimension('value')]; var b = c.mapArray(_, function (t, i, n) { var a = e.dataToPoint([t, i]); return a[0] -= p, a[1] -= g, a.push(n), a }); var w = i.getExtent(); var S = i.type === 'visualMap.continuous' ? u(w, i.option.range) : l(w, i.getPieceList(), i.option.selected); h.update(b, y, x, a.color.getNormalizer(), { inRange: a.color.getColorMapper(), outOfRange: s.color.getColorMapper() }, S); var M = new r.Image({ style: { width: y, height: x, x: p, y: g, image: h.canvas }, silent: !0 }); this.group.add(M) }, dispose: function () {} }); e.exports = h }, '480f': function (e, t, i) { var n = i('4a3f'); var a = i('401b'); var r = i('53f3'); var o = r.getSymbolSize; var s = []; var l = []; var u = []; var c = n.quadraticAt; var h = a.distSquare; var d = Math.abs; function f (e, t, i) { for (var n, a = e[0], r = e[1], o = e[2], f = 1 / 0, p = i * i, g = 0.1, m = 0.1; m <= 0.9; m += 0.1) { s[0] = c(a[0], r[0], o[0], m), s[1] = c(a[1], r[1], o[1], m); var v = d(h(s, t) - p); v < f && (f = v, n = m) } for (var y = 0; y < 32; y++) { var x = n + g; l[0] = c(a[0], r[0], o[0], n), l[1] = c(a[1], r[1], o[1], n), u[0] = c(a[0], r[0], o[0], x), u[1] = c(a[1], r[1], o[1], x); v = h(l, t) - p; if (d(v) < 0.01) break; var _ = h(u, t) - p; g /= 2, v < 0 ? _ >= 0 ? n += g : n -= g : _ >= 0 ? n -= g : n += g } return n } function p (e, t) { var i = []; var r = n.quadraticSubdivide; var s = [[], [], []]; var l = [[], []]; var u = []; t /= 2, e.eachEdge(function (e, n) { var c = e.getLayout(); var h = e.getVisual('fromSymbol'); var d = e.getVisual('toSymbol'); c.__original || (c.__original = [a.clone(c[0]), a.clone(c[1])], c[2] && c.__original.push(a.clone(c[2]))); var p = c.__original; if (c[2] != null) { if (a.copy(s[0], p[0]), a.copy(s[1], p[2]), a.copy(s[2], p[1]), h && h !== 'none') { var g = o(e.node1); var m = f(s, p[0], g * t); r(s[0][0], s[1][0], s[2][0], m, i), s[0][0] = i[3], s[1][0] = i[4], r(s[0][1], s[1][1], s[2][1], m, i), s[0][1] = i[3], s[1][1] = i[4] } if (d && d !== 'none') { g = o(e.node2), m = f(s, p[1], g * t); r(s[0][0], s[1][0], s[2][0], m, i), s[1][0] = i[1], s[2][0] = i[2], r(s[0][1], s[1][1], s[2][1], m, i), s[1][1] = i[1], s[2][1] = i[2] }a.copy(c[0], s[0]), a.copy(c[1], s[2]), a.copy(c[2], s[1]) } else { if (a.copy(l[0], p[0]), a.copy(l[1], p[1]), a.sub(u, l[1], l[0]), a.normalize(u, u), h && h !== 'none') { g = o(e.node1); a.scaleAndAdd(l[0], l[0], u, g * t) } if (d && d !== 'none') { g = o(e.node2); a.scaleAndAdd(l[1], l[1], u, -g * t) }a.copy(c[0], l[0]), a.copy(c[1], l[1]) } }) }e.exports = p }, '48a9': function (e, t, i) { var n = i('6d8b'); var a = i('42e5'); var r = function (e, t, i, n, r, o) { this.x = e == null ? 0 : e, this.y = t == null ? 0 : t, this.x2 = i == null ? 1 : i, this.y2 = n == null ? 0 : n, this.type = 'linear', this.global = o || !1, a.call(this, r) }; r.prototype = { constructor: r }, n.inherits(r, a); var o = r; e.exports = o }, '48ac': function (e, t, i) { var n = i('3eba'); var a = n.extendComponentModel({ type: 'axisPointer', coordSysAxesInfo: null, defaultOption: { show: 'auto', triggerOn: null, zlevel: 0, z: 50, type: 'line', snap: !1, triggerTooltip: !0, value: null, status: null, link: [], animation: null, animationDurationUpdate: 200, lineStyle: { color: '#aaa', width: 1, type: 'solid' }, shadowStyle: { color: 'rgba(150,150,150,0.3)' }, label: { show: !0, formatter: null, precision: 'auto', margin: 3, color: '#fff', padding: [5, 7, 5, 7], backgroundColor: 'auto', borderColor: null, borderWidth: 0, shadowBlur: 3, shadowColor: '#aaa' }, handle: { show: !1, icon: 'M10.7,11.9v-1.3H9.3v1.3c-4.9,0.3-8.8,4.4-8.8,9.4c0,5,3.9,9.1,8.8,9.4h1.3c4.9-0.3,8.8-4.4,8.8-9.4C19.5,16.3,15.6,12.2,10.7,11.9z M13.3,24.4H6.7v-1.2h6.6z M13.3,22H6.7v-1.2h6.6z M13.3,19.6H6.7v-1.2h6.6z', size: 45, margin: 50, color: '#333', shadowBlur: 3, shadowColor: '#aaa', shadowOffsetX: 0, shadowOffsetY: 2, throttle: 40 } } }); var r = a; e.exports = r }, '48c7': function (e, t, i) { var n = i('6d8b'); var a = i('6cb7'); var r = i('9e47'); var o = i('2023'); var s = a.extend({ type: 'cartesian2dAxis', axis: null, init: function () { s.superApply(this, 'init', arguments), this.resetRange() }, mergeOption: function () { s.superApply(this, 'mergeOption', arguments), this.resetRange() }, restoreData: function () { s.superApply(this, 'restoreData', arguments), this.resetRange() }, getCoordSysModel: function () { return this.ecModel.queryComponents({ mainType: 'grid', index: this.option.gridIndex, id: this.option.gridId })[0] } }); function l (e, t) { return t.type || (t.data ? 'category' : 'value') }n.merge(s.prototype, o); var u = { offset: 0 }; r('x', s, l, u), r('y', s, l, u); var c = s; e.exports = c }, 4942: function (e, t, i) { var n = i('2cf4c'); var a = n.debugMode; var r = function () {}; a === 1 && (r = console.error); var o = r; e.exports = o }, '49e8': function (e, t, i) { var n = i('3eba'); var a = i('6d8b'); var r = i('d81e'); var o = r.updateCenterAndZoom; n.registerAction({ type: 'geoRoam', event: 'geoRoam', update: 'updateTransform' }, function (e, t) { var i = e.componentType || 'series'; t.eachComponent({ mainType: i, query: e }, function (t) { var n = t.coordinateSystem; if (n.type === 'geo') { var r = o(n, e, t.get('scaleLimit')); t.setCenter && t.setCenter(r.center), t.setZoom && t.setZoom(r.zoom), i === 'series' && a.each(t.seriesGroup, function (e) { e.setCenter(r.center), e.setZoom(r.zoom) }) } }) }) }, '4a01': function (e, t, i) { var n = i('6d8b'); var a = i('1fab'); var r = i('607d'); var o = i('a4fe'); function s (e) { this.pointerChecker, this._zr = e, this._opt = {}; var t = n.bind; var i = t(l, this); var r = t(u, this); var o = t(c, this); var s = t(h, this); var f = t(d, this); a.call(this), this.setPointerChecker = function (e) { this.pointerChecker = e }, this.enable = function (t, a) { this.disable(), this._opt = n.defaults(n.clone(a) || {}, { zoomOnMouseWheel: !0, moveOnMouseMove: !0, moveOnMouseWheel: !1, preventDefaultMouseMove: !0 }), t == null && (t = !0), !0 !== t && t !== 'move' && t !== 'pan' || (e.on('mousedown', i), e.on('mousemove', r), e.on('mouseup', o)), !0 !== t && t !== 'scale' && t !== 'zoom' || (e.on('mousewheel', s), e.on('pinch', f)) }, this.disable = function () { e.off('mousedown', i), e.off('mousemove', r), e.off('mouseup', o), e.off('mousewheel', s), e.off('pinch', f) }, this.dispose = this.disable, this.isDragging = function () { return this._dragging }, this.isPinching = function () { return this._pinching } } function l (e) { if (!(r.isMiddleOrRightButtonOnMouseUpDown(e) || e.target && e.target.draggable)) { var t = e.offsetX; var i = e.offsetY; this.pointerChecker && this.pointerChecker(e, t, i) && (this._x = t, this._y = i, this._dragging = !0) } } function u (e) { if (this._dragging && g('moveOnMouseMove', e, this._opt) && e.gestureEvent !== 'pinch' && !o.isTaken(this._zr, 'globalPan')) { var t = e.offsetX; var i = e.offsetY; var n = this._x; var a = this._y; var s = t - n; var l = i - a; this._x = t, this._y = i, this._opt.preventDefaultMouseMove && r.stop(e.event), p(this, 'pan', 'moveOnMouseMove', e, { dx: s, dy: l, oldX: n, oldY: a, newX: t, newY: i }) } } function c (e) { r.isMiddleOrRightButtonOnMouseUpDown(e) || (this._dragging = !1) } function h (e) { var t = g('zoomOnMouseWheel', e, this._opt); var i = g('moveOnMouseWheel', e, this._opt); var n = e.wheelDelta; var a = Math.abs(n); var r = e.offsetX; var o = e.offsetY; if (n !== 0 && (t || i)) { if (t) { var s = a > 3 ? 1.4 : a > 1 ? 1.2 : 1.1; var l = n > 0 ? s : 1 / s; f(this, 'zoom', 'zoomOnMouseWheel', e, { scale: l, originX: r, originY: o }) } if (i) { var u = Math.abs(n); var c = (n > 0 ? 1 : -1) * (u > 3 ? 0.4 : u > 1 ? 0.15 : 0.05); f(this, 'scrollMove', 'moveOnMouseWheel', e, { scrollDelta: c, originX: r, originY: o }) } } } function d (e) { if (!o.isTaken(this._zr, 'globalPan')) { var t = e.pinchScale > 1 ? 1.1 : 1 / 1.1; f(this, 'zoom', null, e, { scale: t, originX: e.pinchX, originY: e.pinchY }) } } function f (e, t, i, n, a) { e.pointerChecker && e.pointerChecker(n, a.originX, a.originY) && (r.stop(n.event), p(e, t, i, n, a)) } function p (e, t, i, a, r) { r.isAvailableBehavior = n.bind(g, null, i, a), e.trigger(t, r) } function g (e, t, i) { var a = i[e]; return !e || a && (!n.isString(a) || t.event[a + 'Key']) }n.mixin(s, a); var m = s; e.exports = m }, '4a3f': function (e, t, i) { var n = i('401b'); var a = n.create; var r = n.distSquare; var o = Math.pow; var s = Math.sqrt; var l = 1e-8; var u = 1e-4; var c = s(3); var h = 1 / 3; var d = a(); var f = a(); var p = a(); function g (e) { return e > -l && e < l } function m (e) { return e > l || e < -l } function v (e, t, i, n, a) { var r = 1 - a; return r * r * (r * e + 3 * a * t) + a * a * (a * n + 3 * r * i) } function y (e, t, i, n, a) { var r = 1 - a; return 3 * (((t - e) * r + 2 * (i - t) * a) * r + (n - i) * a * a) } function x (e, t, i, n, a, r) { var l = n + 3 * (t - i) - e; var u = 3 * (i - 2 * t + e); var d = 3 * (t - e); var f = e - a; var p = u * u - 3 * l * d; var m = u * d - 9 * l * f; var v = d * d - 3 * u * f; var y = 0; if (g(p) && g(m)) if (g(u))r[0] = 0; else { var x = -d / u; x >= 0 && x <= 1 && (r[y++] = x) } else { var _ = m * m - 4 * p * v; if (g(_)) { var b = m / p; var w = (x = -u / l + b, -b / 2); x >= 0 && x <= 1 && (r[y++] = x), w >= 0 && w <= 1 && (r[y++] = w) } else if (_ > 0) { var S = s(_); var M = p * u + 1.5 * l * (-m + S); var I = p * u + 1.5 * l * (-m - S); M = M < 0 ? -o(-M, h) : o(M, h), I = I < 0 ? -o(-I, h) : o(I, h); x = (-u - (M + I)) / (3 * l); x >= 0 && x <= 1 && (r[y++] = x) } else { var A = (2 * p * u - 3 * l * m) / (2 * s(p * p * p)); var T = Math.acos(A) / 3; var C = s(p); var D = Math.cos(T); var L = (x = (-u - 2 * C * D) / (3 * l), w = (-u + C * (D + c * Math.sin(T))) / (3 * l), (-u + C * (D - c * Math.sin(T))) / (3 * l)); x >= 0 && x <= 1 && (r[y++] = x), w >= 0 && w <= 1 && (r[y++] = w), L >= 0 && L <= 1 && (r[y++] = L) } } return y } function _ (e, t, i, n, a) { var r = 6 * i - 12 * t + 6 * e; var o = 9 * t + 3 * n - 3 * e - 9 * i; var l = 3 * t - 3 * e; var u = 0; if (g(o)) { if (m(r)) { var c = -l / r; c >= 0 && c <= 1 && (a[u++] = c) } } else { var h = r * r - 4 * o * l; if (g(h))a[0] = -r / (2 * o); else if (h > 0) { var d = s(h); var f = (c = (-r + d) / (2 * o), (-r - d) / (2 * o)); c >= 0 && c <= 1 && (a[u++] = c), f >= 0 && f <= 1 && (a[u++] = f) } } return u } function b (e, t, i, n, a, r) { var o = (t - e) * a + e; var s = (i - t) * a + t; var l = (n - i) * a + i; var u = (s - o) * a + o; var c = (l - s) * a + s; var h = (c - u) * a + u; r[0] = e, r[1] = o, r[2] = u, r[3] = h, r[4] = h, r[5] = c, r[6] = l, r[7] = n } function w (e, t, i, n, a, o, l, c, h, g, m) { var y; var x; var _; var b; var w; var S = 0.005; var M = 1 / 0; d[0] = h, d[1] = g; for (var I = 0; I < 1; I += 0.05)f[0] = v(e, i, a, l, I), f[1] = v(t, n, o, c, I), b = r(d, f), b < M && (y = I, M = b); M = 1 / 0; for (var A = 0; A < 32; A++) { if (S < u) break; x = y - S, _ = y + S, f[0] = v(e, i, a, l, x), f[1] = v(t, n, o, c, x), b = r(f, d), x >= 0 && b < M ? (y = x, M = b) : (p[0] = v(e, i, a, l, _), p[1] = v(t, n, o, c, _), w = r(p, d), _ <= 1 && w < M ? (y = _, M = w) : S *= 0.5) } return m && (m[0] = v(e, i, a, l, y), m[1] = v(t, n, o, c, y)), s(M) } function S (e, t, i, n) { var a = 1 - n; return a * (a * e + 2 * n * t) + n * n * i } function M (e, t, i, n) { return 2 * ((1 - n) * (t - e) + n * (i - t)) } function I (e, t, i, n, a) { var r = e - 2 * t + i; var o = 2 * (t - e); var l = e - n; var u = 0; if (g(r)) { if (m(o)) { var c = -l / o; c >= 0 && c <= 1 && (a[u++] = c) } } else { var h = o * o - 4 * r * l; if (g(h)) { c = -o / (2 * r); c >= 0 && c <= 1 && (a[u++] = c) } else if (h > 0) { var d = s(h); var f = (c = (-o + d) / (2 * r), (-o - d) / (2 * r)); c >= 0 && c <= 1 && (a[u++] = c), f >= 0 && f <= 1 && (a[u++] = f) } } return u } function A (e, t, i) { var n = e + i - 2 * t; return n === 0 ? 0.5 : (e - t) / n } function T (e, t, i, n, a) { var r = (t - e) * n + e; var o = (i - t) * n + t; var s = (o - r) * n + r; a[0] = e, a[1] = r, a[2] = s, a[3] = s, a[4] = o, a[5] = i } function C (e, t, i, n, a, o, l, c, h) { var g; var m = 0.005; var v = 1 / 0; d[0] = l, d[1] = c; for (var y = 0; y < 1; y += 0.05) { f[0] = S(e, i, a, y), f[1] = S(t, n, o, y); var x = r(d, f); x < v && (g = y, v = x) }v = 1 / 0; for (var _ = 0; _ < 32; _++) { if (m < u) break; var b = g - m; var w = g + m; f[0] = S(e, i, a, b), f[1] = S(t, n, o, b); x = r(f, d); if (b >= 0 && x < v)g = b, v = x; else { p[0] = S(e, i, a, w), p[1] = S(t, n, o, w); var M = r(p, d); w <= 1 && M < v ? (g = w, v = M) : m *= 0.5 } } return h && (h[0] = S(e, i, a, g), h[1] = S(t, n, o, g)), s(v) }t.cubicAt = v, t.cubicDerivativeAt = y, t.cubicRootAt = x, t.cubicExtrema = _, t.cubicSubdivide = b, t.cubicProjectPoint = w, t.quadraticAt = S, t.quadraticDerivativeAt = M, t.quadraticRootAt = I, t.quadraticExtremum = A, t.quadraticSubdivide = T, t.quadraticProjectPoint = C }, '4a9d': function (e, t, i) { var n = i('dcb3'); var a = i('ff2e'); var r = i('0156'); var o = i('6679'); var s = n.extend({ makeElOption: function (e, t, i, n, o) { var s = i.axis; var c = s.grid; var h = n.get('type'); var d = l(c, s).getOtherAxis(s).getGlobalExtent(); var f = s.toGlobalCoord(s.dataToCoord(t, !0)); if (h && h !== 'none') { var p = a.buildElStyle(n); var g = u[h](s, f, d); g.style = p, e.graphicKey = g.type, e.pointer = g } var m = r.layout(c.model, i); a.buildCartesianSingleLabelElOption(t, e, m, i, n, o) }, getHandleTransform: function (e, t, i) { var n = r.layout(t.axis.grid.model, t, { labelInside: !1 }); return n.labelMargin = i.get('handle.margin'), { position: a.getTransformedPosition(t.axis, e, n), rotation: n.rotation + (n.labelDirection < 0 ? Math.PI : 0) } }, updateHandleTransform: function (e, t, i, n) { var a = i.axis; var r = a.grid; var o = a.getGlobalExtent(!0); var s = l(r, a).getOtherAxis(a).getGlobalExtent(); var u = a.dim === 'x' ? 0 : 1; var c = e.position; c[u] += t[u], c[u] = Math.min(o[1], c[u]), c[u] = Math.max(o[0], c[u]); var h = (s[1] + s[0]) / 2; var d = [h, h]; d[u] = c[u]; var f = [{ verticalAlign: 'middle' }, { align: 'center' }]; return { position: c, rotation: e.rotation, cursorPoint: d, tooltipOption: f[u] } } }); function l (e, t) { var i = {}; return i[t.dim + 'AxisIndex'] = t.index, e.getCartesian(i) } var u = { line: function (e, t, i) { var n = a.makeLineShape([t, i[0]], [t, i[1]], c(e)); return { type: 'Line', subPixelOptimize: !0, shape: n } }, shadow: function (e, t, i) { var n = Math.max(1, e.getBandWidth()); var r = i[1] - i[0]; return { type: 'Rect', shape: a.makeRectShape([t - n / 2, i[0]], [n, r], c(e)) } } }; function c (e) { return e.dim === 'x' ? 0 : 1 }o.registerAxisPointerClass('CartesianAxisPointer', s); var h = s; e.exports = h }, '4aa2': function (e, t, i) { var n = i('cbe5'); var a = i('897a'); var r = n.extend({ type: 'sector', shape: { cx: 0, cy: 0, r0: 0, r: 0, startAngle: 0, endAngle: 2 * Math.PI, clockwise: !0 }, brush: a(n.prototype.brush), buildPath: function (e, t) { var i = t.cx; var n = t.cy; var a = Math.max(t.r0 || 0, 0); var r = Math.max(t.r, 0); var o = t.startAngle; var s = t.endAngle; var l = t.clockwise; var u = Math.cos(o); var c = Math.sin(o); e.moveTo(u * a + i, c * a + n), e.lineTo(u * r + i, c * r + n), e.arc(i, n, r, o, s, !l), e.lineTo(Math.cos(s) * a + i, Math.sin(s) * a + n), a !== 0 && e.arc(i, n, a, s, o, l), e.closePath() } }); e.exports = r }, '4ab1': function (e, t, i) { var n = i('8727'); var a = n.createElement; var r = i('6d8b'); var o = i('cbe5'); var s = i('0da8'); var l = i('76a5'); var u = i('3f8e'); var c = u.path; var h = u.image; var d = u.text; var f = '0'; var p = '1'; function g (e, t, i, n, a) { this._zrId = e, this._svgRoot = t, this._tagNames = typeof i === 'string' ? [i] : i, this._markLabel = n, this._domName = a || '_dom', this.nextId = 0 }g.prototype.createElement = a, g.prototype.getDefs = function (e) { var t = this._svgRoot; var i = this._svgRoot.getElementsByTagName('defs'); return i.length === 0 ? e ? (i = t.insertBefore(this.createElement('defs'), t.firstChild), i.contains || (i.contains = function (e) { var t = i.children; if (!t) return !1; for (var n = t.length - 1; n >= 0; --n) if (t[n] === e) return !0; return !1 }), i) : null : i[0] }, g.prototype.update = function (e, t) { if (e) { var i = this.getDefs(!1); if (e[this._domName] && i.contains(e[this._domName])) typeof t === 'function' && t(e); else { var n = this.add(e); n && (e[this._domName] = n) } } }, g.prototype.addDom = function (e) { var t = this.getDefs(!0); t.appendChild(e) }, g.prototype.removeDom = function (e) { var t = this.getDefs(!1); t && e[this._domName] && (t.removeChild(e[this._domName]), e[this._domName] = null) }, g.prototype.getDoms = function () { var e = this.getDefs(!1); if (!e) return []; var t = []; return r.each(this._tagNames, function (i) { var n = e.getElementsByTagName(i); t = t.concat([].slice.call(n)) }), t }, g.prototype.markAllUnused = function () { var e = this.getDoms(); var t = this; r.each(e, function (e) { e[t._markLabel] = f }) }, g.prototype.markUsed = function (e) { e && (e[this._markLabel] = p) }, g.prototype.removeUnused = function () { var e = this.getDefs(!1); if (e) { var t = this.getDoms(); var i = this; r.each(t, function (t) { t[i._markLabel] !== p && e.removeChild(t) }) } }, g.prototype.getSvgProxy = function (e) { return e instanceof o ? c : e instanceof s ? h : e instanceof l ? d : c }, g.prototype.getTextSvgElement = function (e) { return e.__textSvgEl }, g.prototype.getSvgElement = function (e) { return e.__svgEl }; var m = g; e.exports = m }, '4b08': function (e, t, i) { var n = i('7dcf'); var a = n.extend({ type: 'dataZoom.select' }); e.exports = a }, '4bf6': function (e, t, i) { var n = i('66fc'); var a = i('697e'); var r = i('f934'); var o = r.getLayoutRect; var s = i('6d8b'); var l = s.each; function u (e, t, i) { this.dimension = 'single', this.dimensions = ['single'], this._axis = null, this._rect, this._init(e, t, i), this.model = e }u.prototype = { type: 'singleAxis', axisPointerEnabled: !0, constructor: u, _init: function (e, t, i) { var r = this.dimension; var o = new n(r, a.createScaleByModel(e), [0, 0], e.get('type'), e.get('position')); var s = o.type === 'category'; o.onBand = s && e.get('boundaryGap'), o.inverse = e.get('inverse'), o.orient = e.get('orient'), e.axis = o, o.model = e, o.coordinateSystem = this, this._axis = o }, update: function (e, t) { e.eachSeries(function (e) { if (e.coordinateSystem === this) { var t = e.getData(); l(t.mapDimension(this.dimension, !0), function (e) { this._axis.scale.unionExtentFromData(t, e) }, this), a.niceScaleExtent(this._axis.scale, this._axis.model) } }, this) }, resize: function (e, t) { this._rect = o({ left: e.get('left'), top: e.get('top'), right: e.get('right'), bottom: e.get('bottom'), width: e.get('width'), height: e.get('height') }, { width: t.getWidth(), height: t.getHeight() }), this._adjustAxis() }, getRect: function () { return this._rect }, _adjustAxis: function () { var e = this._rect; var t = this._axis; var i = t.isHorizontal(); var n = i ? [0, e.width] : [0, e.height]; var a = t.reverse ? 1 : 0; t.setExtent(n[a], n[1 - a]), this._updateAxisTransform(t, i ? e.x : e.y) }, _updateAxisTransform: function (e, t) { var i = e.getExtent(); var n = i[0] + i[1]; var a = e.isHorizontal(); e.toGlobalCoord = a ? function (e) { return e + t } : function (e) { return n - e + t }, e.toLocalCoord = a ? function (e) { return e - t } : function (e) { return n - e + t } }, getAxis: function () { return this._axis }, getBaseAxis: function () { return this._axis }, getAxes: function () { return [this._axis] }, getTooltipAxes: function () { return { baseAxes: [this.getAxis()] } }, containPoint: function (e) { var t = this.getRect(); var i = this.getAxis(); var n = i.orient; return n === 'horizontal' ? i.contain(i.toLocalCoord(e[0])) && e[1] >= t.y && e[1] <= t.y + t.height : i.contain(i.toLocalCoord(e[1])) && e[0] >= t.y && e[0] <= t.y + t.height }, pointToData: function (e) { var t = this.getAxis(); return [t.coordToData(t.toLocalCoord(e[t.orient === 'horizontal' ? 0 : 1]))] }, dataToPoint: function (e) { var t = this.getAxis(); var i = this.getRect(); var n = []; var a = t.orient === 'horizontal' ? 0 : 1; return e instanceof Array && (e = e[0]), n[a] = t.toGlobalCoord(t.dataToCoord(+e)), n[1 - a] = a === 0 ? i.y + i.height / 2 : i.x + i.width / 2, n } }; var c = u; e.exports = c }, '4c86': function (e, t, i) { var n = i('6d8b'); var a = n.each; var r = i('bda7'); var o = i('e0d3'); var s = o.makeInner; var l = i('320a'); var u = i('1792'); var c = i('6bd4'); var h = i('a7f2'); var d = s(); var f = { load: function (e, t, i) { var n = d(t).parsed; if (n) return n; var o; var s = t.specialAreas || {}; var f = t.geoJSON; try { o = f ? r(f, i) : [] } catch (g) { throw new Error('Invalid geoJson format\n' + g.message) } return l(e, o), a(o, function (t) { var i = t.name; u(e, t), c(e, t), h(e, t); var n = s[i]; n && t.transformTo(n.left, n.top, n.width, n.height) }), d(t).parsed = { regions: o, boundingRect: p(o) } } }; function p (e) { for (var t, i = 0; i < e.length; i++) { var n = e[i].getBoundingRect(); t = t || n.clone(), t.union(n) } return t }e.exports = f }, '4c99': function (e, t, i) { var n = i('cccd'); var a = ['itemStyle', 'borderColor']; var r = ['itemStyle', 'borderColor0']; var o = ['itemStyle', 'color']; var s = ['itemStyle', 'color0']; var l = { seriesType: 'candlestick', plan: n(), performRawSeries: !0, reset: function (e, t) { var i = e.getData(); if (i.setVisual({ legendSymbol: 'roundRect', colorP: u(1, e), colorN: u(-1, e), borderColorP: c(1, e), borderColorN: c(-1, e) }), !t.isSeriesFiltered(e)) { var n = e.pipelineContext.large; return !n && { progress: l } } function l (e, t) { var i; while ((i = e.next()) != null) { var n = t.getItemModel(i); var a = t.getItemLayout(i).sign; t.setItemVisual(i, { color: u(a, n), borderColor: c(a, n) }) } } function u (e, t) { return t.get(e > 0 ? o : s) } function c (e, t) { return t.get(e > 0 ? a : r) } } }; e.exports = l }, '4d62': function (e, t, i) { var n = i('2306'); var a = i('6d8b'); var r = i('e887'); function o (e, t) { n.Group.call(this); var i = new n.Polygon(); var a = new n.Polyline(); var r = new n.Text(); this.add(i), this.add(a), this.add(r), this.highDownOnUpdate = function (e, t) { t === 'emphasis' ? (a.ignore = a.hoverIgnore, r.ignore = r.hoverIgnore) : (a.ignore = a.normalIgnore, r.ignore = r.normalIgnore) }, this.updateData(e, t, !0) } var s = o.prototype; var l = ['itemStyle', 'opacity']; s.updateData = function (e, t, i) { var r = this.childAt(0); var o = e.hostModel; var s = e.getItemModel(t); var u = e.getItemLayout(t); var c = e.getItemModel(t).get(l); c = c == null ? 1 : c, r.useStyle({}), i ? (r.setShape({ points: u.points }), r.setStyle({ opacity: 0 }), n.initProps(r, { style: { opacity: c } }, o, t)) : n.updateProps(r, { style: { opacity: c }, shape: { points: u.points } }, o, t); var h = s.getModel('itemStyle'); var d = e.getItemVisual(t, 'color'); r.setStyle(a.defaults({ lineJoin: 'round', fill: d }, h.getItemStyle(['opacity']))), r.hoverStyle = h.getModel('emphasis').getItemStyle(), this._updateLabel(e, t), n.setHoverStyle(this) }, s._updateLabel = function (e, t) { var i = this.childAt(1); var a = this.childAt(2); var r = e.hostModel; var o = e.getItemModel(t); var s = e.getItemLayout(t); var l = s.label; var u = e.getItemVisual(t, 'color'); n.updateProps(i, { shape: { points: l.linePoints || l.linePoints } }, r, t), n.updateProps(a, { style: { x: l.x, y: l.y } }, r, t), a.attr({ rotation: l.rotation, origin: [l.x, l.y], z2: 10 }); var c = o.getModel('label'); var h = o.getModel('emphasis.label'); var d = o.getModel('labelLine'); var f = o.getModel('emphasis.labelLine'); u = e.getItemVisual(t, 'color'); n.setLabelStyle(a.style, a.hoverStyle = {}, c, h, { labelFetcher: e.hostModel, labelDataIndex: t, defaultText: e.getName(t), autoColor: u, useInsideStyle: !!l.inside }, { textAlign: l.textAlign, textVerticalAlign: l.verticalAlign }), a.ignore = a.normalIgnore = !c.get('show'), a.hoverIgnore = !h.get('show'), i.ignore = i.normalIgnore = !d.get('show'), i.hoverIgnore = !f.get('show'), i.setStyle({ stroke: u }), i.setStyle(d.getModel('lineStyle').getLineStyle()), i.hoverStyle = f.getModel('lineStyle').getLineStyle() }, a.inherits(o, n.Group); var u = r.extend({ type: 'funnel', render: function (e, t, i) { var n = e.getData(); var a = this._data; var r = this.group; n.diff(a).add(function (e) { var t = new o(n, e); n.setItemGraphicEl(e, t), r.add(t) }).update(function (e, t) { var i = a.getItemGraphicEl(t); i.updateData(n, e), r.add(i), n.setItemGraphicEl(e, i) }).remove(function (e) { var t = a.getItemGraphicEl(e); r.remove(t) }).execute(), this._data = n }, remove: function () { this.group.removeAll(), this._data = null }, dispose: function () {} }); var c = u; e.exports = c }, '4d85': function (e, t, i) { var n = i('e46b'); var a = i('4f85'); var r = a.extend({ type: 'series.gauge', getInitialData: function (e, t) { return n(this, ['value']) }, defaultOption: { zlevel: 0, z: 2, center: ['50%', '50%'], legendHoverLink: !0, radius: '75%', startAngle: 225, endAngle: -45, clockwise: !0, min: 0, max: 100, splitNumber: 10, axisLine: { show: !0, lineStyle: { color: [[0.2, '#91c7ae'], [0.8, '#63869e'], [1, '#c23531']], width: 30 } }, splitLine: { show: !0, length: 30, lineStyle: { color: '#eee', width: 2, type: 'solid' } }, axisTick: { show: !0, splitNumber: 5, length: 8, lineStyle: { color: '#eee', width: 1, type: 'solid' } }, axisLabel: { show: !0, distance: 5, color: 'auto' }, pointer: { show: !0, length: '80%', width: 8 }, itemStyle: { color: 'auto' }, title: { show: !0, offsetCenter: [0, '-40%'], color: '#333', fontSize: 15 }, detail: { show: !0, backgroundColor: 'rgba(0,0,0,0)', borderWidth: 0, borderColor: '#ccc', width: 100, height: null, padding: [5, 10], offsetCenter: [0, '40%'], color: 'auto', fontSize: 30 } } }); var o = r; e.exports = o }, '4e08': function (e, t, i) { (function (e) { var i; typeof window !== 'undefined' ? i = window.__DEV__ : typeof e !== 'undefined' && (i = e.__DEV__), typeof i === 'undefined' && (i = !0); var n = i; t.__DEV__ = n }).call(this, i('c8ba')) }, '4e10': function (e, t, i) { var n = i('6d8b'); var a = i('e46b'); var r = i('4f85'); var o = i('eda2'); var s = o.encodeHTML; var l = o.addCommas; var u = i('7023'); var c = i('2b17'); var h = c.retrieveRawAttr; var d = i('5b87'); var f = i('0f99'); var p = f.makeSeriesEncodeForNameBased; var g = r.extend({ type: 'series.map', dependencies: ['geo'], layoutMode: 'box', needsDrawMap: !1, seriesGroup: [], getInitialData: function (e) { for (var t = a(this, { coordDimensions: ['value'], encodeDefaulter: n.curry(p, this) }), i = t.mapDimension('value'), r = n.createHashMap(), o = [], s = [], l = 0, u = t.count(); l < u; l++) { var c = t.getName(l); r.set(c, !0), o.push({ name: c, value: t.get(i, l), selected: h(t, l, 'selected') }) } var f = d.load(this.getMapType(), this.option.nameMap, this.option.nameProperty); return n.each(f.regions, function (e) { var t = e.name; r.get(t) || (o.push({ name: t }), s.push(t)) }), this.updateSelectedMap(o), t.appendValues([], s), t }, getHostGeoModel: function () { var e = this.option.geoIndex; return e != null ? this.dependentModels.geo[e] : null }, getMapType: function () { return (this.getHostGeoModel() || this).option.map }, getRawValue: function (e) { var t = this.getData(); return t.get(t.mapDimension('value'), e) }, getRegionModel: function (e) { var t = this.getData(); return t.getItemModel(t.indexOfName(e)) }, formatTooltip: function (e, t, i, n) { for (var a = this.getData(), r = l(this.getRawValue(e)), o = a.getName(e), u = this.seriesGroup, c = [], h = 0; h < u.length; h++) { var d = u[h].originalData.indexOfName(o); var f = a.mapDimension('value'); isNaN(u[h].originalData.get(f, d)) || c.push(s(u[h].name)) } var p = n === 'html' ? '<br/>' : '\n'; return c.join(', ') + p + s(o + ' : ' + r) }, getTooltipPosition: function (e) { if (e != null) { var t = this.getData().getName(e); var i = this.coordinateSystem; var n = i.getRegion(t); return n && i.dataToPoint(n.center) } }, setZoom: function (e) { this.option.zoom = e }, setCenter: function (e) { this.option.center = e }, defaultOption: { zlevel: 0, z: 2, coordinateSystem: 'geo', map: '', left: 'center', top: 'center', aspectScale: 0.75, showLegendSymbol: !0, dataRangeHoverLink: !0, boundingCoords: null, center: null, zoom: 1, scaleLimit: null, label: { show: !1, color: '#000' }, itemStyle: { borderWidth: 0.5, borderColor: '#444', areaColor: '#eee' }, emphasis: { label: { show: !0, color: 'rgb(100,0,0)' }, itemStyle: { areaColor: 'rgba(255,215,0,0.8)' } }, nameProperty: 'name' } }); n.mixin(g, u); var m = g; e.exports = m }, '4e47': function (e, t, i) { var n = i('6d8b'); var a = i('2306'); var r = { NONE: 'none', DESCENDANT: 'descendant', ANCESTOR: 'ancestor', SELF: 'self' }; var o = 2; var s = 4; function l (e, t, i) { a.Group.call(this); var n = new a.Sector({ z2: o }); n.seriesIndex = t.seriesIndex; var r = new a.Text({ z2: s, silent: e.getModel('label').get('silent') }); function l () { r.ignore = r.hoverIgnore } function u () { r.ignore = r.normalIgnore } this.add(n), this.add(r), this.updateData(!0, e, 'normal', t, i), this.on('emphasis', l).on('normal', u).on('mouseover', l).on('mouseout', u) } var u = l.prototype; u.updateData = function (e, t, i, r, o) { this.node = t, t.piece = this, r = r || this._seriesModel, o = o || this._ecModel; var s = this.childAt(0); s.dataIndex = t.dataIndex; var l = t.getModel(); var u = t.getLayout(); var c = n.extend({}, u); c.label = null; var d = h(t, r, o); p(t, r, d); var f; var g = l.getModel('itemStyle').getItemStyle(); if (i === 'normal')f = g; else { var m = l.getModel(i + '.itemStyle').getItemStyle(); f = n.merge(m, g) }f = n.defaults({ lineJoin: 'bevel', fill: f.fill || d }, f), e ? (s.setShape(c), s.shape.r = u.r0, a.updateProps(s, { shape: { r: u.r } }, r, t.dataIndex), s.useStyle(f)) : typeof f.fill === 'object' && f.fill.type || typeof s.style.fill === 'object' && s.style.fill.type ? (a.updateProps(s, { shape: c }, r), s.useStyle(f)) : a.updateProps(s, { shape: c, style: f }, r), this._updateLabel(r, d, i); var v = l.getShallow('cursor'); if (v && s.attr('cursor', v), e) { var y = r.getShallow('highlightPolicy'); this._initEvents(s, t, r, y) } this._seriesModel = r || this._seriesModel, this._ecModel = o || this._ecModel, a.setHoverStyle(this) }, u.onEmphasis = function (e) { var t = this; this.node.hostTree.root.eachNode(function (i) { i.piece && (t.node === i ? i.piece.updateData(!1, i, 'emphasis') : f(i, t.node, e) ? i.piece.childAt(0).trigger('highlight') : e !== r.NONE && i.piece.childAt(0).trigger('downplay')) }) }, u.onNormal = function () { this.node.hostTree.root.eachNode(function (e) { e.piece && e.piece.updateData(!1, e, 'normal') }) }, u.onHighlight = function () { this.updateData(!1, this.node, 'highlight') }, u.onDownplay = function () { this.updateData(!1, this.node, 'downplay') }, u._updateLabel = function (e, t, i) { var r = this.node.getModel(); var o = r.getModel('label'); var s = i === 'normal' || i === 'emphasis' ? o : r.getModel(i + '.label'); var l = r.getModel('emphasis.label'); var u = s.get('formatter'); var c = u ? i : 'normal'; var h = n.retrieve(e.getFormattedLabel(this.node.dataIndex, c, null, null, 'label'), this.node.name); !1 === T('show') && (h = ''); var d = this.node.getLayout(); var f = s.get('minAngle'); f == null && (f = o.get('minAngle')), f = f / 180 * Math.PI; var p = d.endAngle - d.startAngle; f != null && Math.abs(p) < f && (h = ''); var g = this.childAt(1); a.setLabelStyle(g.style, g.hoverStyle || {}, o, l, { defaultText: s.getShallow('show') ? h : null, autoColor: t, useInsideStyle: !0 }); var m; var v = (d.startAngle + d.endAngle) / 2; var y = Math.cos(v); var x = Math.sin(v); var _ = T('position'); var b = T('distance') || 0; var w = T('align'); _ === 'outside' ? (m = d.r + b, w = v > Math.PI / 2 ? 'right' : 'left') : w && w !== 'center' ? w === 'left' ? (m = d.r0 + b, v > Math.PI / 2 && (w = 'right')) : w === 'right' && (m = d.r - b, v > Math.PI / 2 && (w = 'left')) : (m = (d.r + d.r0) / 2, w = 'center'), g.attr('style', { text: h, textAlign: w, textVerticalAlign: T('verticalAlign') || 'middle', opacity: T('opacity') }); var S = m * y + d.cx; var M = m * x + d.cy; g.attr('position', [S, M]); var I = T('rotate'); var A = 0; function T (e) { var t = s.get(e); return t == null ? o.get(e) : t }I === 'radial' ? (A = -v, A < -Math.PI / 2 && (A += Math.PI)) : I === 'tangential' ? (A = Math.PI / 2 - v, A > Math.PI / 2 ? A -= Math.PI : A < -Math.PI / 2 && (A += Math.PI)) : typeof I === 'number' && (A = I * Math.PI / 180), g.attr('rotation', A) }, u._initEvents = function (e, t, i, n) { e.off('mouseover').off('mouseout').off('emphasis').off('normal'); var a = this; var r = function () { a.onEmphasis(n) }; var o = function () { a.onNormal() }; var s = function () { a.onDownplay() }; var l = function () { a.onHighlight() }; i.isAnimationEnabled() && e.on('mouseover', r).on('mouseout', o).on('emphasis', r).on('normal', o).on('downplay', s).on('highlight', l) }, n.inherits(l, a.Group); var c = l; function h (e, t, i) { var n = e.getVisual('color'); var a = e.getVisual('visualMeta'); a && a.length !== 0 || (n = null); var r = e.getModel('itemStyle').get('color'); if (r) return r; if (n) return n; if (e.depth === 0) return i.option.color[0]; var o = i.option.color.length; return r = i.option.color[d(e) % o], r } function d (e) { var t = e; while (t.depth > 1)t = t.parentNode; var i = e.getAncestors()[0]; return n.indexOf(i.children, t) } function f (e, t, i) { return i !== r.NONE && (i === r.SELF ? e === t : i === r.ANCESTOR ? e === t || e.isAncestorOf(t) : e === t || e.isDescendantOf(t)) } function p (e, t, i) { var n = t.getData(); n.setItemVisual(e.dataIndex, 'color', i) }e.exports = c }, '4e9f': function (e, t, i) { var n = i('22d1'); var a = i('29a8'); var r = i('2145'); var o = a.toolbox.saveAsImage; function s (e) { this.model = e }s.defaultOption = { show: !0, icon: 'M4.7,22.9L29.3,45.5L54.7,23.4M4.6,43.6L4.6,58L53.8,58L53.8,43.6M29.2,45.1L29.2,0', title: o.title, type: 'png', connectedBackgroundColor: '#fff', name: '', excludeComponents: ['toolbox'], pixelRatio: 1, lang: o.lang.slice() }, s.prototype.unusable = !n.canvasSupported; var l = s.prototype; l.onclick = function (e, t) { var i = this.model; var a = i.get('name') || e.get('title.0.text') || 'echarts'; var r = t.getZr().painter.getType() === 'svg'; var o = r ? 'svg' : i.get('type', !0) || 'png'; var s = t.getConnectedDataURL({ type: o, backgroundColor: i.get('backgroundColor', !0) || e.get('backgroundColor') || '#fff', connectedBackgroundColor: i.get('connectedBackgroundColor'), excludeComponents: i.get('excludeComponents'), pixelRatio: i.get('pixelRatio') }); if (typeof MouseEvent !== 'function' || n.browser.ie || n.browser.edge) if (window.navigator.msSaveOrOpenBlob) { var l = atob(s.split(',')[1]); var u = l.length; var c = new Uint8Array(u); while (u--)c[u] = l.charCodeAt(u); var h = new Blob([c]); window.navigator.msSaveOrOpenBlob(h, a + '.' + o) } else { var d = i.get('lang'); var f = '<body style="margin:0;"><img src="' + s + '" style="max-width:100%;" title="' + (d && d[0] || '') + '" /></body>'; var p = window.open(); p.document.write(f) } else { var g = document.createElement('a'); g.download = a + '.' + o, g.target = '_blank', g.href = s; var m = new MouseEvent('click', { view: document.defaultView, bubbles: !0, cancelable: !1 }); g.dispatchEvent(m) } }, r.register('saveAsImage', s); var u = s; e.exports = u }, '4f85': function (e, t, i) { var n = i('4e08'); var a = (n.__DEV__, i('6d8b')); var r = i('22d1'); var o = i('eda2'); var s = o.formatTime; var l = o.encodeHTML; var u = o.addCommas; var c = o.getTooltipMarker; var h = i('e0d3'); var d = i('6cb7'); var f = i('e47b'); var p = i('38a2'); var g = i('f934'); var m = g.getLayoutParams; var v = g.mergeLayoutParam; var y = i('f47d'); var x = y.createTask; var _ = i('0f99'); var b = _.prepareSource; var w = _.getSource; var S = i('2b17'); var M = S.retrieveRawValue; var I = h.makeInner(); var A = d.extend({ type: 'series.__base__', seriesIndex: 0, coordinateSystem: null, defaultOption: null, legendVisualProvider: null, visualColorAccessPath: 'itemStyle.color', visualBorderColorAccessPath: 'itemStyle.borderColor', layoutMode: null, init: function (e, t, i, n) { this.seriesIndex = this.componentIndex, this.dataTask = x({ count: D, reset: L }), this.dataTask.context = { model: this }, this.mergeDefaultAndTheme(e, i), b(this); var a = this.getInitialData(e, i); k(a, this), this.dataTask.context.data = a, I(this).dataBeforeProcessed = a, T(this) }, mergeDefaultAndTheme: function (e, t) { var i = this.layoutMode; var n = i ? m(e) : {}; var r = this.subType; d.hasClass(r) && (r += 'Series'), a.merge(e, t.getTheme().get(this.subType)), a.merge(e, this.getDefaultOption()), h.defaultEmphasis(e, 'label', ['show']), this.fillDataTextStyle(e.data), i && v(e, n, i) }, mergeOption: function (e, t) { e = a.merge(this.option, e, !0), this.fillDataTextStyle(e.data); var i = this.layoutMode; i && v(this.option, e, i), b(this); var n = this.getInitialData(e, t); k(n, this), this.dataTask.dirty(), this.dataTask.context.data = n, I(this).dataBeforeProcessed = n, T(this) }, fillDataTextStyle: function (e) { if (e && !a.isTypedArray(e)) for (var t = ['show'], i = 0; i < e.length; i++)e[i] && e[i].label && h.defaultEmphasis(e[i], 'label', t) }, getInitialData: function () {}, appendData: function (e) { var t = this.getRawData(); t.appendData(e.data) }, getData: function (e) { var t = R(this); if (t) { var i = t.context.data; return e == null ? i : i.getLinkedData(e) } return I(this).data }, setData: function (e) { var t = R(this); if (t) { var i = t.context; i.data !== e && t.modifyOutputEnd && t.setOutputEnd(e.count()), i.outputData = e, t !== this.dataTask && (i.data = e) }I(this).data = e }, getSource: function () { return w(this) }, getRawData: function () { return I(this).dataBeforeProcessed }, getBaseAxis: function () { var e = this.coordinateSystem; return e && e.getBaseAxis && e.getBaseAxis() }, formatTooltip: function (e, t, i, n) { var r = this; n = n || 'html'; var o = n === 'html' ? '<br/>' : '\n'; var d = n === 'richText'; var f = {}; var p = 0; function g (i) { var o = a.reduce(i, function (e, t, i) { var n = v.getDimensionInfo(i); return e | (n && !1 !== n.tooltip && n.displayName != null) }, 0); var h = []; function g (e, i) { var a = v.getDimensionInfo(i); if (a && !1 !== a.otherDims.tooltip) { var g = a.type; var m = 'sub' + r.seriesIndex + 'at' + p; var y = c({ color: w, type: 'subItem', renderMode: n, markerId: m }); var x = typeof y === 'string' ? y : y.content; var _ = (o ? x + l(a.displayName || '-') + ': ' : '') + l(g === 'ordinal' ? e + '' : g === 'time' ? t ? '' : s('yyyy/MM/dd hh:mm:ss', e) : u(e)); _ && h.push(_), d && (f[m] = w, ++p) } }y.length ? a.each(y, function (t) { g(M(v, e, t), t) }) : a.each(i, g); var m = o ? d ? '\n' : '<br/>' : ''; var x = m + h.join(m || ', '); return { renderMode: n, content: x, style: f } } function m (e) { return { renderMode: n, content: l(u(e)), style: f } } var v = this.getData(); var y = v.mapDimension('defaultedTooltip', !0); var x = y.length; var _ = this.getRawValue(e); var b = a.isArray(_); var w = v.getItemVisual(e, 'color'); a.isObject(w) && w.colorStops && (w = (w.colorStops[0] || {}).color), w = w || 'transparent'; var S = x > 1 || b && !x ? g(_) : m(x ? M(v, e, y[0]) : b ? _[0] : _); var I = S.content; var A = r.seriesIndex + 'at' + p; var T = c({ color: w, type: 'item', renderMode: n, markerId: A }); f[A] = w, ++p; var C = v.getName(e); var D = this.name; h.isNameSpecified(this) || (D = ''), D = D ? l(D) + (t ? ': ' : o) : ''; var L = typeof T === 'string' ? T : T.content; var P = t ? L + D + I : D + L + (C ? l(C) + ': ' + I : I); return { html: P, markers: f } }, isAnimationEnabled: function () { if (r.node) return !1; var e = this.getShallow('animation'); return e && this.getData().count() > this.getShallow('animationThreshold') && (e = !1), e }, restoreData: function () { this.dataTask.dirty() }, getColorFromPalette: function (e, t, i) { var n = this.ecModel; var a = f.getColorFromPalette.call(this, e, t, i); return a || (a = n.getColorFromPalette(e, t, i)), a }, coordDimToDataDim: function (e) { return this.getRawData().mapDimension(e, !0) }, getProgressive: function () { return this.get('progressive') }, getProgressiveThreshold: function () { return this.get('progressiveThreshold') }, getAxisTooltipData: null, getTooltipPosition: null, pipeTask: null, preventIncremental: null, pipelineContext: null }); function T (e) { var t = e.name; h.isNameSpecified(e) || (e.name = C(e) || t) } function C (e) { var t = e.getRawData(); var i = t.mapDimension('seriesName', !0); var n = []; return a.each(i, function (e) { var i = t.getDimensionInfo(e); i.displayName && n.push(i.displayName) }), n.join(' ') } function D (e) { return e.model.getRawData().count() } function L (e) { var t = e.model; return t.setData(t.getRawData().cloneShallow()), P } function P (e, t) { t.outputData && e.end > t.outputData.count() && t.model.getRawData().cloneShallow(t.outputData) } function k (e, t) { a.each(e.CHANGABLE_METHODS, function (i) { e.wrapMethod(i, a.curry(O, t)) }) } function O (e) { var t = R(e); t && t.setOutputEnd(this.count()) } function R (e) { var t = (e.ecModel || {}).scheduler; var i = t && t.getPipeline(e.uid); if (i) { var n = i.currentTask; if (n) { var a = n.agentStubMap; a && (n = a.get(e.uid)) } return n } }a.mixin(A, p), a.mixin(A, f); var E = A; e.exports = E }, '4fac': function (e, t, i) { var n = i('620b'); var a = i('9c2c'); function r (e, t, i) { var r = t.points; var o = t.smooth; if (r && r.length >= 2) { if (o && o !== 'spline') { var s = a(r, o, i, t.smoothConstraint); e.moveTo(r[0][0], r[0][1]); for (var l = r.length, u = 0; u < (i ? l : l - 1); u++) { var c = s[2 * u]; var h = s[2 * u + 1]; var d = r[(u + 1) % l]; e.bezierCurveTo(c[0], c[1], h[0], h[1], d[0], d[1]) } } else { o === 'spline' && (r = n(r, i)), e.moveTo(r[0][0], r[0][1]); u = 1; for (var f = r.length; u < f; u++)e.lineTo(r[u][0], r[u][1]) }i && e.closePath() } }t.buildPath = r }, '50e5': function (e, t, i) { var n = i('6d8b'); var a = i('eda2'); var r = ['x', 'y', 'z', 'radius', 'angle', 'single']; var o = ['cartesian2d', 'polar', 'singleAxis']; function s (e) { return n.indexOf(o, e) >= 0 } function l (e, t) { e = e.slice(); var i = n.map(e, a.capitalFirst); t = (t || []).slice(); var r = n.map(t, a.capitalFirst); return function (a, o) { n.each(e, function (e, n) { for (var s = { name: e, capital: i[n] }, l = 0; l < t.length; l++)s[t[l]] = e + r[l]; a.call(o, s) }) } } var u = l(r, ['axisIndex', 'axis', 'index', 'id']); function c (e, t, i) { return function (i) { var n; var s = { nodes: [], records: {} }; if (t(function (e) { s.records[e.name] = {} }), !i) return s; o(i, s); do { n = !1, e(l) } while (n);function l (e) { !a(e, s) && r(e, s) && (o(e, s), n = !0) } return s }; function a (e, t) { return n.indexOf(t.nodes, e) >= 0 } function r (e, a) { var r = !1; return t(function (t) { n.each(i(e, t) || [], function (e) { a.records[t.name][e] && (r = !0) }) }), r } function o (e, a) { a.nodes.push(e), t(function (t) { n.each(i(e, t) || [], function (e) { a.records[t.name][e] = !0 }) }) } }t.isCoordSupported = s, t.createNameEach = l, t.eachAxisDim = u, t.createLinkedNodesFinder = c }, '527a': function (e, t, i) { var n = i('6d8b'); var a = i('3842'); function r (e, t) { e.eachSeriesByType('themeRiver', function (e) { var t = e.getData(); var i = e.coordinateSystem; var n = {}; var r = i.getRect(); n.rect = r; var s = e.get('boundaryGap'); var l = i.getAxis(); if (n.boundaryGap = s, l.orient === 'horizontal') { s[0] = a.parsePercent(s[0], r.height), s[1] = a.parsePercent(s[1], r.height); var u = r.height - s[0] - s[1]; o(t, e, u) } else { s[0] = a.parsePercent(s[0], r.width), s[1] = a.parsePercent(s[1], r.width); var c = r.width - s[0] - s[1]; o(t, e, c) }t.setLayout('layoutInfo', n) }) } function o (e, t, i) { if (e.count()) for (var a, r = t.coordinateSystem, o = t.getLayerSeries(), l = e.mapDimension('single'), u = e.mapDimension('value'), c = n.map(o, function (t) { return n.map(t.indices, function (t) { var i = r.dataToPoint(e.get(l, t)); return i[1] = e.get(u, t), i }) }), h = s(c), d = h.y0, f = i / h.max, p = o.length, g = o[0].indices.length, m = 0; m < g; ++m) { a = d[m] * f, e.setItemLayout(o[0].indices[m], { layerIndex: 0, x: c[0][m][0], y0: a, y: c[0][m][1] * f }); for (var v = 1; v < p; ++v)a += c[v - 1][m][1] * f, e.setItemLayout(o[v].indices[m], { layerIndex: v, x: c[v][m][0], y0: a, y: c[v][m][1] * f }) } } function s (e) { for (var t = e.length, i = e[0].length, n = [], a = [], r = 0, o = {}, s = 0; s < i; ++s) { for (var l = 0, u = 0; l < t; ++l)u += e[l][s][1]; u > r && (r = u), n.push(u) } for (var c = 0; c < i; ++c)a[c] = (r - n[c]) / 2; r = 0; for (var h = 0; h < i; ++h) { var d = n[h] + a[h]; d > r && (r = d) } return o.y0 = a, o.max = r, o }e.exports = r }, 5319: function (e, t, i) { 'use strict'; var n = i('d784'); var a = i('825a'); var r = i('7b0b'); var o = i('50c4'); var s = i('a691'); var l = i('1d80'); var u = i('8aa5'); var c = i('14c3'); var h = Math.max; var d = Math.min; var f = Math.floor; var p = /\$([$&'`]|\d\d?|<[^>]*>)/g; var g = /\$([$&'`]|\d\d?)/g; var m = function (e) { return void 0 === e ? e : String(e) }; n('replace', 2, function (e, t, i, n) { var v = n.REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE; var y = n.REPLACE_KEEPS_$0; var x = v ? '$' : '$0'; return [function (i, n) { var a = l(this); var r = void 0 == i ? void 0 : i[e]; return void 0 !== r ? r.call(i, a, n) : t.call(String(a), i, n) }, function (e, n) { if (!v && y || typeof n === 'string' && n.indexOf(x) === -1) { var r = i(t, e, this, n); if (r.done) return r.value } var l = a(e); var f = String(this); var p = typeof n === 'function'; p || (n = String(n)); var g = l.global; if (g) { var b = l.unicode; l.lastIndex = 0 } var w = []; while (1) { var S = c(l, f); if (S === null) break; if (w.push(S), !g) break; var M = String(S[0]); M === '' && (l.lastIndex = u(f, o(l.lastIndex), b)) } for (var I = '', A = 0, T = 0; T < w.length; T++) { S = w[T]; for (var C = String(S[0]), D = h(d(s(S.index), f.length), 0), L = [], P = 1; P < S.length; P++)L.push(m(S[P])); var k = S.groups; if (p) { var O = [C].concat(L, D, f); void 0 !== k && O.push(k); var R = String(n.apply(void 0, O)) } else R = _(C, f, D, L, k, n); D >= A && (I += f.slice(A, D) + R, A = D + C.length) } return I + f.slice(A) }]; function _ (e, i, n, a, o, s) { var l = n + e.length; var u = a.length; var c = g; return void 0 !== o && (o = r(o), c = p), t.call(s, c, function (t, r) { var s; switch (r.charAt(0)) { case '$':return '$'; case '&':return e; case '`':return i.slice(0, n); case "'":return i.slice(l); case '<':s = o[r.slice(1, -1)]; break; default:var c = +r; if (c === 0) return t; if (c > u) { var h = f(c / 10); return h === 0 ? t : h <= u ? void 0 === a[h - 1] ? r.charAt(1) : a[h - 1] + r.charAt(1) : t }s = a[c - 1] } return void 0 === s ? '' : s }) } }) }, '53f3': function (e, t) { function i (e) { var t = e.coordinateSystem; if (t.type !== 'view') return 1; var i = e.option.nodeScaleRatio; var n = t.scale; var a = n && n[0] || 1; var r = t.getZoom(); var o = (r - 1) * i + 1; return o / a } function n (e) { var t = e.getVisual('symbolSize'); return t instanceof Array && (t = (t[0] + t[1]) / 2), +t }t.getNodeGlobalScale = i, t.getSymbolSize = n }, 5450: function (e, t, i) { i('7419'), i('29a9') }, '54fb': function (e, t) { function i (e) { e.eachSeriesByType('map', function (e) { var t = e.get('color'); var i = e.getModel('itemStyle'); var n = i.get('areaColor'); var a = i.get('color') || t[e.seriesIndex % t.length]; e.getData().setVisual({ areaColor: n, color: a }) }) }e.exports = i }, '551f': function (e, t, i) { var n = i('282b'); var a = n([['fill', 'color'], ['stroke', 'borderColor'], ['lineWidth', 'borderWidth'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor'], ['textPosition'], ['textAlign']]); var r = { getItemStyle: function (e, t) { var i = a(this, e, t); var n = this.getBorderLineDash(); return n && (i.lineDash = n), i }, getBorderLineDash: function () { var e = this.get('borderType'); return e === 'solid' || e == null ? null : e === 'dashed' ? [5, 5] : [1, 1] } }; e.exports = r }, 5522: function (e, t, i) { i('23e0'), i('1748'), i('6c12') }, 5576: function (e, t, i) { var n = i('6d8b'); var a = i('4a01'); var r = i('88b3'); var o = '\0_ec_dataZoom_roams'; function s (e, t) { var i = c(e); var a = t.dataZoomId; var o = t.coordId; n.each(i, function (e, i) { var r = e.dataZoomInfos; r[a] && n.indexOf(t.allCoordIds, o) < 0 && (delete r[a], e.count--) }), d(i); var s = i[o]; s || (s = i[o] = { coordId: o, dataZoomInfos: {}, count: 0 }, s.controller = h(e, s), s.dispatchAction = n.curry(f, e)), !s.dataZoomInfos[a] && s.count++, s.dataZoomInfos[a] = t; var l = p(s.dataZoomInfos); s.controller.enable(l.controlType, l.opt), s.controller.setPointerChecker(t.containsPoint), r.createOrUpdate(s, 'dispatchAction', t.dataZoomModel.get('throttle', !0), 'fixRate') } function l (e, t) { var i = c(e); n.each(i, function (e) { e.controller.dispose(); var i = e.dataZoomInfos; i[t] && (delete i[t], e.count--) }), d(i) } function u (e) { return e.type + '\0_' + e.id } function c (e) { var t = e.getZr(); return t[o] || (t[o] = {}) } function h (e, t) { var i = new a(e.getZr()); return n.each(['pan', 'zoom', 'scrollMove'], function (e) { i.on(e, function (i) { var a = []; n.each(t.dataZoomInfos, function (n) { if (i.isAvailableBehavior(n.dataZoomModel.option)) { var r = (n.getRange || {})[e]; var o = r && r(t.controller, i); !n.dataZoomModel.get('disabled', !0) && o && a.push({ dataZoomId: n.dataZoomId, start: o[0], end: o[1] }) } }), a.length && t.dispatchAction(a) }) }), i } function d (e) { n.each(e, function (t, i) { t.count || (t.controller.dispose(), delete e[i]) }) } function f (e, t) { e.dispatchAction({ type: 'dataZoom', batch: t }) } function p (e) { var t; var i = 'type_'; var a = { type_true: 2, type_move: 1, type_false: 0, type_undefined: -1 }; var r = !0; return n.each(e, function (e) { var n = e.dataZoomModel; var o = !n.get('disabled', !0) && (!n.get('zoomLock', !0) || 'move'); a[i + o] > a[i + t] && (t = o), r &= n.get('preventDefaultMouseMove', !0) }), { controlType: t, opt: { zoomOnMouseWheel: !0, moveOnMouseMove: !0, moveOnMouseWheel: !0, preventDefaultMouseMove: !!r } } }t.register = s, t.unregister = l, t.generateCoordId = u }, '55ac': function (e, t, i) { var n = i('6d8b'); function a (e, t, i) { if (e && n.indexOf(t, e.type) >= 0) { var a = i.getData().tree.root; var r = e.targetNode; if (typeof r === 'string' && (r = a.getNodeById(r)), r && a.contains(r)) return { node: r }; var o = e.targetNodeId; if (o != null && (r = a.getNodeById(o))) return { node: r } } } function r (e) { var t = []; while (e)e = e.parentNode, e && t.push(e); return t.reverse() } function o (e, t) { var i = r(e); return n.indexOf(i, t) >= 0 } function s (e, t) { var i = []; while (e) { var n = e.dataIndex; i.push({ name: e.name, dataIndex: n, value: t.getRawValue(n) }), e = e.parentNode } return i.reverse(), i }t.retrieveTargetInfo = a, t.getPathToRoot = r, t.aboveViewRoot = o, t.wrapTreePathInfo = s }, '562e': function (e, t, i) { var n = i('6d8b'); function a (e) { e != null && n.extend(this, e), this.otherDims = {} } var r = a; e.exports = r }, 5693: function (e, t) { function i (e, t) { var i; var n; var a; var r; var o; var s = t.x; var l = t.y; var u = t.width; var c = t.height; var h = t.r; u < 0 && (s += u, u = -u), c < 0 && (l += c, c = -c), typeof h === 'number' ? i = n = a = r = h : h instanceof Array ? h.length === 1 ? i = n = a = r = h[0] : h.length === 2 ? (i = a = h[0], n = r = h[1]) : h.length === 3 ? (i = h[0], n = r = h[1], a = h[2]) : (i = h[0], n = h[1], a = h[2], r = h[3]) : i = n = a = r = 0, i + n > u && (o = i + n, i *= u / o, n *= u / o), a + r > u && (o = a + r, a *= u / o, r *= u / o), n + a > c && (o = n + a, n *= c / o, a *= c / o), i + r > c && (o = i + r, i *= c / o, r *= c / o), e.moveTo(s + i, l), e.lineTo(s + u - n, l), n !== 0 && e.arc(s + u - n, l + n, n, -Math.PI / 2, 0), e.lineTo(s + u, l + c - a), a !== 0 && e.arc(s + u - a, l + c - a, a, 0, Math.PI / 2), e.lineTo(s + r, l + c), r !== 0 && e.arc(s + r, l + c - r, r, Math.PI / 2, Math.PI), e.lineTo(s, l + i), i !== 0 && e.arc(s + i, l + i, i, Math.PI, 1.5 * Math.PI) }t.buildPath = i }, 5866: function (e, t, i) { var n = i('ef2b'); var a = n.forceLayout; var r = i('1c5f'); var o = r.simpleLayout; var s = i('94e4'); var l = s.circularLayout; var u = i('3842'); var c = u.linearMap; var h = i('401b'); var d = i('6d8b'); var f = i('0c37'); var p = f.getCurvenessForEdge; function g (e) { e.eachSeriesByType('graph', function (e) { var t = e.coordinateSystem; if (!t || t.type === 'view') if (e.get('layout') === 'force') { var i = e.preservedPoints || {}; var n = e.getGraph(); var r = n.data; var s = n.edgeData; var u = e.getModel('force'); var f = u.get('initLayout'); e.preservedPoints ? r.each(function (e) { var t = r.getId(e); r.setItemLayout(e, i[t] || [NaN, NaN]) }) : f && f !== 'none' ? f === 'circular' && l(e, 'value') : o(e); var g = r.getDataExtent('value'); var m = s.getDataExtent('value'); var v = u.get('repulsion'); var y = u.get('edgeLength'); d.isArray(v) || (v = [v, v]), d.isArray(y) || (y = [y, y]), y = [y[1], y[0]]; var x = r.mapArray('value', function (e, t) { var i = r.getItemLayout(t); var n = c(e, g, v); return isNaN(n) && (n = (v[0] + v[1]) / 2), { w: n, rep: n, fixed: r.getItemModel(t).get('fixed'), p: !i || isNaN(i[0]) || isNaN(i[1]) ? null : i } }); var _ = s.mapArray('value', function (t, i) { var a = n.getEdgeByIndex(i); var r = c(t, m, y); isNaN(r) && (r = (y[0] + y[1]) / 2); var o = a.getModel(); var s = d.retrieve3(o.get('lineStyle.curveness'), -p(a, e, i, !0), 0); return { n1: x[a.node1.dataIndex], n2: x[a.node2.dataIndex], d: r, curveness: s, ignoreForceLayout: o.get('ignoreForceLayout') } }); var b = (t = e.coordinateSystem, t.getBoundingRect()); var w = a(x, _, { rect: b, gravity: u.get('gravity'), friction: u.get('friction') }); var S = w.step; w.step = function (e) { for (var t = 0, a = x.length; t < a; t++)x[t].fixed && h.copy(x[t].p, n.getNodeByIndex(t).getLayout()); S(function (t, a, o) { for (var s = 0, l = t.length; s < l; s++)t[s].fixed || n.getNodeByIndex(s).setLayout(t[s].p), i[r.getId(s)] = t[s].p; for (s = 0, l = a.length; s < l; s++) { var u = a[s]; var c = n.getEdgeByIndex(s); var d = u.n1.p; var f = u.n2.p; var p = c.getLayout(); p = p ? p.slice() : [], p[0] = p[0] || [], p[1] = p[1] || [], h.copy(p[0], d), h.copy(p[1], f), +u.curveness && (p[2] = [(d[0] + f[0]) / 2 - (d[1] - f[1]) * u.curveness, (d[1] + f[1]) / 2 - (f[0] - d[0]) * u.curveness]), c.setLayout(p) }e && e(o) }) }, e.forceLayout = w, e.preservedPoints = i, w.step() } else e.forceLayout = null }) }e.exports = g }, '58df': function (e, t, i) { var n = i('6d8b'); var a = i('2306'); function r (e, t, i, r) { var o = i.axis; if (!o.scale.isBlank()) { var s = i.getModel('splitArea'); var l = s.getModel('areaStyle'); var u = l.get('color'); var c = r.coordinateSystem.getRect(); var h = o.getTicksCoords({ tickModel: s, clamp: !0 }); if (h.length) { var d = u.length; var f = e.__splitAreaColors; var p = n.createHashMap(); var g = 0; if (f) for (var m = 0; m < h.length; m++) { var v = f.get(h[m].tickValue); if (v != null) { g = (v + (d - 1) * m) % d; break } } var y = o.toGlobalCoord(h[0].coord); var x = l.getAreaStyle(); u = n.isArray(u) ? u : [u]; for (m = 1; m < h.length; m++) { var _; var b; var w; var S; var M = o.toGlobalCoord(h[m].coord); o.isHorizontal() ? (_ = y, b = c.y, w = M - _, S = c.height, y = _ + w) : (_ = c.x, b = y, w = c.width, S = M - b, y = b + S); var I = h[m - 1].tickValue; I != null && p.set(I, g), t.add(new a.Rect({ anid: I != null ? 'area_' + I : null, shape: { x: _, y: b, width: w, height: S }, style: n.defaults({ fill: u[g] }, x), silent: !0 })), g = (g + 1) % d }e.__splitAreaColors = p } } } function o (e) { e.__splitAreaColors = null }t.rectCoordAxisBuildSplitArea = r, t.rectCoordAxisHandleRemove = o }, '5aa9': function (e, t, i) { var n = i('4e08'); var a = (n.__DEV__, i('6d8b')); var r = a.isObject; var o = a.each; var s = a.map; var l = a.indexOf; var u = (a.retrieve, i('f934')); var c = u.getLayoutRect; var h = i('697e'); var d = h.createScaleByModel; var f = h.ifAxisCrossZero; var p = h.niceScaleExtent; var g = h.estimateLabelUnionRect; var m = i('cbe9'); var v = i('ec02'); var y = i('2039'); var x = i('ee1a'); var _ = x.getStackedDimension; function b (e, t, i) { return e.getCoordSysModel() === t } function w (e, t, i) { this._coordsMap = {}, this._coordsList = [], this._axesMap = {}, this._axesList = [], this._initCartesian(e, t, i), this.model = e }i('8ed2'); var S = w.prototype; function M (e, t, i, n) { i.getAxesOnZeroOf = function () { return a ? [a] : [] }; var a; var r = e[t]; var o = i.model; var s = o.get('axisLine.onZero'); var l = o.get('axisLine.onZeroAxisIndex'); if (s) { if (l != null)I(r[l]) && (a = r[l]); else for (var u in r) if (r.hasOwnProperty(u) && I(r[u]) && !n[c(r[u])]) { a = r[u]; break }a && (n[c(a)] = !0) } function c (e) { return e.dim + '_' + e.index } } function I (e) { return e && e.type !== 'category' && e.type !== 'time' && f(e) } function A (e, t) { var i = e.getExtent(); var n = i[0] + i[1]; e.toGlobalCoord = e.dim === 'x' ? function (e) { return e + t } : function (e) { return n - e + t }, e.toLocalCoord = e.dim === 'x' ? function (e) { return e - t } : function (e) { return n - e + t } }S.type = 'grid', S.axisPointerEnabled = !0, S.getRect = function () { return this._rect }, S.update = function (e, t) { var i = this._axesMap; this._updateScale(e, this.model), o(i.x, function (e) { p(e.scale, e.model) }), o(i.y, function (e) { p(e.scale, e.model) }); var n = {}; o(i.x, function (e) { M(i, 'y', e, n) }), o(i.y, function (e) { M(i, 'x', e, n) }), this.resize(this.model, t) }, S.resize = function (e, t, i) { var n = c(e.getBoxLayoutParams(), { width: t.getWidth(), height: t.getHeight() }); this._rect = n; var a = this._axesList; function r () { o(a, function (e) { var t = e.isHorizontal(); var i = t ? [0, n.width] : [0, n.height]; var a = e.inverse ? 1 : 0; e.setExtent(i[a], i[1 - a]), A(e, t ? n.x : n.y) }) }r(), !i && e.get('containLabel') && (o(a, function (e) { if (!e.model.get('axisLabel.inside')) { var t = g(e); if (t) { var i = e.isHorizontal() ? 'height' : 'width'; var a = e.model.get('axisLabel.margin'); n[i] -= t[i] + a, e.position === 'top' ? n.y += t.height + a : e.position === 'left' && (n.x += t.width + a) } } }), r()) }, S.getAxis = function (e, t) { var i = this._axesMap[e]; if (i != null) { if (t == null) for (var n in i) if (i.hasOwnProperty(n)) return i[n]; return i[t] } }, S.getAxes = function () { return this._axesList.slice() }, S.getCartesian = function (e, t) { if (e != null && t != null) { var i = 'x' + e + 'y' + t; return this._coordsMap[i] }r(e) && (t = e.yAxisIndex, e = e.xAxisIndex); for (var n = 0, a = this._coordsList; n < a.length; n++) if (a[n].getAxis('x').index === e || a[n].getAxis('y').index === t) return a[n] }, S.getCartesians = function () { return this._coordsList.slice() }, S.convertToPixel = function (e, t, i) { var n = this._findConvertTarget(e, t); return n.cartesian ? n.cartesian.dataToPoint(i) : n.axis ? n.axis.toGlobalCoord(n.axis.dataToCoord(i)) : null }, S.convertFromPixel = function (e, t, i) { var n = this._findConvertTarget(e, t); return n.cartesian ? n.cartesian.pointToData(i) : n.axis ? n.axis.coordToData(n.axis.toLocalCoord(i)) : null }, S._findConvertTarget = function (e, t) { var i; var n; var a = t.seriesModel; var r = t.xAxisModel || a && a.getReferringComponents('xAxis')[0]; var o = t.yAxisModel || a && a.getReferringComponents('yAxis')[0]; var s = t.gridModel; var u = this._coordsList; if (a)i = a.coordinateSystem, l(u, i) < 0 && (i = null); else if (r && o)i = this.getCartesian(r.componentIndex, o.componentIndex); else if (r)n = this.getAxis('x', r.componentIndex); else if (o)n = this.getAxis('y', o.componentIndex); else if (s) { var c = s.coordinateSystem; c === this && (i = this._coordsList[0]) } return { cartesian: i, axis: n } }, S.containPoint = function (e) { var t = this._coordsList[0]; if (t) return t.containPoint(e) }, S._initCartesian = function (e, t, i) { var n = { left: !1, right: !1, top: !1, bottom: !1 }; var a = { x: {}, y: {} }; var r = { x: 0, y: 0 }; if (t.eachComponent('xAxis', s('x'), this), t.eachComponent('yAxis', s('y'), this), !r.x || !r.y) return this._axesMap = {}, void (this._axesList = []); function s (i) { return function (o, s) { if (b(o, e, t)) { var l = o.get('position'); i === 'x' ? l !== 'top' && l !== 'bottom' && (l = n.bottom ? 'top' : 'bottom') : l !== 'left' && l !== 'right' && (l = n.left ? 'right' : 'left'), n[l] = !0; var u = new v(i, d(o), [0, 0], o.get('type'), l); var c = u.type === 'category'; u.onBand = c && o.get('boundaryGap'), u.inverse = o.get('inverse'), o.axis = u, u.model = o, u.grid = this, u.index = s, this._axesList.push(u), a[i][s] = u, r[i]++ } } } this._axesMap = a, o(a.x, function (t, i) { o(a.y, function (n, a) { var r = 'x' + i + 'y' + a; var o = new m(r); o.grid = this, o.model = e, this._coordsMap[r] = o, this._coordsList.push(o), o.addAxis(t), o.addAxis(n) }, this) }, this) }, S._updateScale = function (e, t) { function i (e, t, i) { o(e.mapDimension(t.dim, !0), function (i) { t.scale.unionExtentFromData(e, _(e, i)) }) }o(this._axesList, function (e) { e.scale.setExtent(1 / 0, -1 / 0) }), e.eachSeries(function (n) { if (D(n)) { var a = C(n, e); var r = a[0]; var o = a[1]; if (!b(r, t, e) || !b(o, t, e)) return; var s = this.getCartesian(r.componentIndex, o.componentIndex); var l = n.getData(); var u = s.getAxis('x'); var c = s.getAxis('y'); l.type === 'list' && (i(l, u, n), i(l, c, n)) } }, this) }, S.getTooltipAxes = function (e) { var t = []; var i = []; return o(this.getCartesians(), function (n) { var a = e != null && e !== 'auto' ? n.getAxis(e) : n.getBaseAxis(); var r = n.getOtherAxis(a); l(t, a) < 0 && t.push(a), l(i, r) < 0 && i.push(r) }), { baseAxes: t, otherAxes: i } }; var T = ['xAxis', 'yAxis']; function C (e, t) { return s(T, function (t) { var i = e.getReferringComponents(t)[0]; return i }) } function D (e) { return e.get('coordinateSystem') === 'cartesian2d' }w.create = function (e, t) { var i = []; return e.eachComponent('grid', function (n, a) { var r = new w(n, e, t); r.name = 'grid_' + a, r.resize(n, t, !0), n.coordinateSystem = r, i.push(r) }), e.eachSeries(function (t) { if (D(t)) { var i = C(t, e); var n = i[0]; var a = i[1]; var r = n.getCoordSysModel(); var o = r.coordinateSystem; t.coordinateSystem = o.getCartesian(n.componentIndex, a.componentIndex) } }), i }, w.dimensions = w.prototype.dimensions = m.prototype.dimensions, y.register('cartesian2d', w); var L = w; e.exports = L }, '5b69': function (e, t, i) { var n = i('2306'); var a = i('3eba'); var r = i('6d8b'); var o = ['itemStyle', 'opacity']; var s = ['emphasis', 'itemStyle', 'opacity']; var l = ['lineStyle', 'opacity']; var u = ['emphasis', 'lineStyle', 'opacity']; function c (e, t) { return e.getVisual('opacity') || e.getModel().get(t) } function h (e, t, i) { var n = e.getGraphicEl(); var a = c(e, t); i != null && (a == null && (a = 1), a *= i), n.downplay && n.downplay(), n.traverse(function (e) { e.type !== 'group' && e.setStyle('opacity', a) }) } function d (e, t) { var i = c(e, t); var n = e.getGraphicEl(); n.traverse(function (e) { e.type !== 'group' && e.setStyle('opacity', i) }), n.highlight && n.highlight() } var f = n.extendShape({ shape: { x1: 0, y1: 0, x2: 0, y2: 0, cpx1: 0, cpy1: 0, cpx2: 0, cpy2: 0, extent: 0, orient: '' }, buildPath: function (e, t) { var i = t.extent; e.moveTo(t.x1, t.y1), e.bezierCurveTo(t.cpx1, t.cpy1, t.cpx2, t.cpy2, t.x2, t.y2), t.orient === 'vertical' ? (e.lineTo(t.x2 + i, t.y2), e.bezierCurveTo(t.cpx2 + i, t.cpy2, t.cpx1 + i, t.cpy1, t.x1 + i, t.y1)) : (e.lineTo(t.x2, t.y2 + i), e.bezierCurveTo(t.cpx2, t.cpy2 + i, t.cpx1, t.cpy1 + i, t.x1, t.y1 + i)), e.closePath() }, highlight: function () { this.trigger('emphasis') }, downplay: function () { this.trigger('normal') } }); var p = a.extendChartView({ type: 'sankey', _model: null, _focusAdjacencyDisabled: !1, render: function (e, t, i) { var a = this; var r = e.getGraph(); var o = this.group; var s = e.layoutInfo; var l = s.width; var u = s.height; var c = e.getData(); var h = e.getData('edge'); var d = e.get('orient'); this._model = e, o.removeAll(), o.attr('position', [s.x, s.y]), r.eachEdge(function (t) { var i = new f(); i.dataIndex = t.dataIndex, i.seriesIndex = e.seriesIndex, i.dataType = 'edge'; var a; var r; var s; var c; var p; var g; var m; var v; var y = t.getModel('lineStyle'); var x = y.get('curveness'); var _ = t.node1.getLayout(); var b = t.node1.getModel(); var w = b.get('localX'); var S = b.get('localY'); var M = t.node2.getLayout(); var I = t.node2.getModel(); var A = I.get('localX'); var T = I.get('localY'); var C = t.getLayout(); switch (i.shape.extent = Math.max(1, C.dy), i.shape.orient = d, d === 'vertical' ? (a = (w != null ? w * l : _.x) + C.sy, r = (S != null ? S * u : _.y) + _.dy, s = (A != null ? A * l : M.x) + C.ty, c = T != null ? T * u : M.y, p = a, g = r * (1 - x) + c * x, m = s, v = r * x + c * (1 - x)) : (a = (w != null ? w * l : _.x) + _.dx, r = (S != null ? S * u : _.y) + C.sy, s = A != null ? A * l : M.x, c = (T != null ? T * u : M.y) + C.ty, p = a * (1 - x) + s * x, g = r, m = a * x + s * (1 - x), v = c), i.setShape({ x1: a, y1: r, x2: s, y2: c, cpx1: p, cpy1: g, cpx2: m, cpy2: v }), i.setStyle(y.getItemStyle()), i.style.fill) { case 'source':i.style.fill = t.node1.getVisual('color'); break; case 'target':i.style.fill = t.node2.getVisual('color'); break }n.setHoverStyle(i, t.getModel('emphasis.lineStyle').getItemStyle()), o.add(i), h.setItemGraphicEl(t.dataIndex, i) }), r.eachNode(function (t) { var i = t.getLayout(); var a = t.getModel(); var r = a.get('localX'); var s = a.get('localY'); var h = a.getModel('label'); var d = a.getModel('emphasis.label'); var f = new n.Rect({ shape: { x: r != null ? r * l : i.x, y: s != null ? s * u : i.y, width: i.dx, height: i.dy }, style: a.getModel('itemStyle').getItemStyle() }); var p = t.getModel('emphasis.itemStyle').getItemStyle(); n.setLabelStyle(f.style, p, h, d, { labelFetcher: e, labelDataIndex: t.dataIndex, defaultText: t.id, isRectText: !0 }), f.setStyle('fill', t.getVisual('color')), n.setHoverStyle(f, p), o.add(f), c.setItemGraphicEl(t.dataIndex, f), f.dataType = 'node' }), c.eachItemGraphicEl(function (t, n) { var r = c.getItemModel(n); r.get('draggable') && (t.drift = function (t, r) { a._focusAdjacencyDisabled = !0, this.shape.x += t, this.shape.y += r, this.dirty(), i.dispatchAction({ type: 'dragNode', seriesId: e.id, dataIndex: c.getRawIndex(n), localX: this.shape.x / l, localY: this.shape.y / u }) }, t.ondragend = function () { a._focusAdjacencyDisabled = !1 }, t.draggable = !0, t.cursor = 'move'), t.highlight = function () { this.trigger('emphasis') }, t.downplay = function () { this.trigger('normal') }, t.focusNodeAdjHandler && t.off('mouseover', t.focusNodeAdjHandler), t.unfocusNodeAdjHandler && t.off('mouseout', t.unfocusNodeAdjHandler), r.get('focusNodeAdjacency') && (t.on('mouseover', t.focusNodeAdjHandler = function () { a._focusAdjacencyDisabled || (a._clearTimer(), i.dispatchAction({ type: 'focusNodeAdjacency', seriesId: e.id, dataIndex: t.dataIndex })) }), t.on('mouseout', t.unfocusNodeAdjHandler = function () { a._focusAdjacencyDisabled || a._dispatchUnfocus(i) })) }), h.eachItemGraphicEl(function (t, n) { var r = h.getItemModel(n); t.focusNodeAdjHandler && t.off('mouseover', t.focusNodeAdjHandler), t.unfocusNodeAdjHandler && t.off('mouseout', t.unfocusNodeAdjHandler), r.get('focusNodeAdjacency') && (t.on('mouseover', t.focusNodeAdjHandler = function () { a._focusAdjacencyDisabled || (a._clearTimer(), i.dispatchAction({ type: 'focusNodeAdjacency', seriesId: e.id, edgeDataIndex: t.dataIndex })) }), t.on('mouseout', t.unfocusNodeAdjHandler = function () { a._focusAdjacencyDisabled || a._dispatchUnfocus(i) })) }), !this._data && e.get('animation') && o.setClipPath(g(o.getBoundingRect(), e, function () { o.removeClipPath() })), this._data = e.getData() }, dispose: function () { this._clearTimer() }, _dispatchUnfocus: function (e) { var t = this; this._clearTimer(), this._unfocusDelayTimer = setTimeout(function () { t._unfocusDelayTimer = null, e.dispatchAction({ type: 'unfocusNodeAdjacency', seriesId: t._model.id }) }, 500) }, _clearTimer: function () { this._unfocusDelayTimer && (clearTimeout(this._unfocusDelayTimer), this._unfocusDelayTimer = null) }, focusNodeAdjacency: function (e, t, i, n) { var a = e.getData(); var c = a.graph; var f = n.dataIndex; var p = a.getItemModel(f); var g = n.edgeDataIndex; if (f != null || g != null) { var m = c.getNodeByIndex(f); var v = c.getEdgeByIndex(g); if (c.eachNode(function (e) { h(e, o, 0.1) }), c.eachEdge(function (e) { h(e, l, 0.1) }), m) { d(m, s); var y = p.get('focusNodeAdjacency'); y === 'outEdges' ? r.each(m.outEdges, function (e) { e.dataIndex < 0 || (d(e, u), d(e.node2, s)) }) : y === 'inEdges' ? r.each(m.inEdges, function (e) { e.dataIndex < 0 || (d(e, u), d(e.node1, s)) }) : y === 'allEdges' && r.each(m.edges, function (e) { e.dataIndex < 0 || (d(e, u), e.node1 !== m && d(e.node1, s), e.node2 !== m && d(e.node2, s)) }) }v && (d(v, u), d(v.node1, s), d(v.node2, s)) } }, unfocusNodeAdjacency: function (e, t, i, n) { var a = e.getGraph(); a.eachNode(function (e) { h(e, o) }), a.eachEdge(function (e) { h(e, l) }) } }); function g (e, t, i) { var a = new n.Rect({ shape: { x: e.x - 10, y: e.y - 10, width: 0, height: e.height + 20 } }); return n.initProps(a, { shape: { width: e.width + 20 } }, t, i), a }e.exports = p }, '5b87': function (e, t, i) { var n = i('4e08'); var a = (n.__DEV__, i('6d8b')); var r = a.each; var o = a.createHashMap; var s = i('ec34'); var l = i('4c86'); var u = i('c92f'); var c = i('9850'); var h = { geoJSON: l, svg: u }; var d = { load: function (e, t, i) { var n; var a = []; var s = o(); var l = o(); var u = p(e); return r(u, function (o) { var u = h[o.type].load(e, o, i); r(u.regions, function (e) { var i = e.name; t && t.hasOwnProperty(i) && (e = e.cloneShallow(i = t[i])), a.push(e), s.set(i, e), l.set(i, e.center) }); var c = u.boundingRect; c && (n ? n.union(c) : n = c.clone()) }), { regions: a, regionsMap: s, nameCoordMap: l, boundingRect: n || new c(0, 0, 0, 0) } }, makeGraphic: f('makeGraphic'), removeGraphic: f('removeGraphic') }; function f (e) { return function (t, i) { var n = p(t); var a = []; return r(n, function (n) { var r = h[n.type][e]; r && a.push(r(t, n, i)) }), a } } function p (e) { var t = s.retrieveMap(e) || []; return t }e.exports = d }, '5ce2': function (e, t, i) { i('3970'), i('480e') }, '5e68': function (e, t, i) { var n = i('6d8b'); var a = i('2cf4c'); var r = a.devicePixelRatio; var o = i('2b61'); var s = i('dc2f'); function l () { return !1 } function u (e, t, i) { var a = n.createCanvas(); var r = t.getWidth(); var o = t.getHeight(); var s = a.style; return s && (s.position = 'absolute', s.left = 0, s.top = 0, s.width = r + 'px', s.height = o + 'px', a.setAttribute('data-zr-dom-id', e)), a.width = r * i, a.height = o * i, a } var c = function (e, t, i) { var a; i = i || r, typeof e === 'string' ? a = u(e, t, i) : n.isObject(e) && (a = e, e = a.id), this.id = e, this.dom = a; var o = a.style; o && (a.onselectstart = l, o['-webkit-user-select'] = 'none', o['user-select'] = 'none', o['-webkit-touch-callout'] = 'none', o['-webkit-tap-highlight-color'] = 'rgba(0,0,0,0)', o.padding = 0, o.margin = 0, o['border-width'] = 0), this.domBack = null, this.ctxBack = null, this.painter = t, this.config = null, this.clearColor = 0, this.motionBlur = !1, this.lastFrameAlpha = 0.7, this.dpr = i }; c.prototype = { constructor: c, __dirty: !0, __used: !1, __drawIndex: 0, __startIndex: 0, __endIndex: 0, incremental: !1, getElementCount: function () { return this.__endIndex - this.__startIndex }, initContext: function () { this.ctx = this.dom.getContext('2d'), this.ctx.dpr = this.dpr }, createBackBuffer: function () { var e = this.dpr; this.domBack = u('back-' + this.id, this.painter, e), this.ctxBack = this.domBack.getContext('2d'), e !== 1 && this.ctxBack.scale(e, e) }, resize: function (e, t) { var i = this.dpr; var n = this.dom; var a = n.style; var r = this.domBack; a && (a.width = e + 'px', a.height = t + 'px'), n.width = e * i, n.height = t * i, r && (r.width = e * i, r.height = t * i, i !== 1 && this.ctxBack.scale(i, i)) }, clear: function (e, t) { var i; var n = this.dom; var a = this.ctx; var r = n.width; var l = n.height; var u = (t = t || this.clearColor, this.motionBlur && !e); var c = this.lastFrameAlpha; var h = this.dpr; (u && (this.domBack || this.createBackBuffer(), this.ctxBack.globalCompositeOperation = 'copy', this.ctxBack.drawImage(n, 0, 0, r / h, l / h)), a.clearRect(0, 0, r, l), t && t !== 'transparent') && (t.colorStops ? (i = t.__canvasGradient || o.getGradient(a, t, { x: 0, y: 0, width: r, height: l }), t.__canvasGradient = i) : t.image && (i = s.prototype.getCanvasPattern.call(t, a)), a.save(), a.fillStyle = i || t, a.fillRect(0, 0, r, l), a.restore()); if (u) { var d = this.domBack; a.save(), a.globalAlpha = c, a.drawImage(d, 0, 0, r, l), a.restore() } } }; var h = c; e.exports = h }, '5e76': function (e, t, i) { var n = i('d51b'); var a = new n(50); function r (e) { if (typeof e === 'string') { var t = a.get(e); return t && t.image } return e } function o (e, t, i, n, r) { if (e) { if (typeof e === 'string') { if (t && t.__zrImageSrc === e || !i) return t; var o = a.get(e); var u = { hostEl: i, cb: n, cbPayload: r }; return o ? (t = o.image, !l(t) && o.pending.push(u)) : (t = new Image(), t.onload = t.onerror = s, a.put(e, t.__cachedImgObj = { image: t, pending: [u] }), t.src = t.__zrImageSrc = e), t } return e } return t } function s () { var e = this.__cachedImgObj; this.onload = this.onerror = this.__cachedImgObj = null; for (var t = 0; t < e.pending.length; t++) { var i = e.pending[t]; var n = i.cb; n && n(this, i.cbPayload), i.hostEl.dirty() }e.pending.length = 0 } function l (e) { return e && e.width && e.height }t.findExistImage = r, t.createOrUpdateImage = o, t.isImageReady = l }, '5e97': function (e, t, i) { var n = i('4e08'); var a = (n.__DEV__, i('3eba')); var r = i('6d8b'); var o = i('a15a'); var s = o.createSymbol; var l = i('2306'); var u = i('7919'); var c = u.makeBackground; var h = i('f934'); var d = r.curry; var f = r.each; var p = l.Group; var g = a.extendComponentView({ type: 'legend.plain', newlineDisabled: !1, init: function () { this.group.add(this._contentGroup = new p()), this._backgroundEl, this.group.add(this._selectorGroup = new p()), this._isFirstRender = !0 }, getContentGroup: function () { return this._contentGroup }, getSelectorGroup: function () { return this._selectorGroup }, render: function (e, t, i) { var n = this._isFirstRender; if (this._isFirstRender = !1, this.resetInner(), e.get('show', !0)) { var a = e.get('align'); var o = e.get('orient'); a && a !== 'auto' || (a = e.get('left') === 'right' && o === 'vertical' ? 'right' : 'left'); var s = e.get('selector', !0); var l = e.get('selectorPosition', !0); !s || l && l !== 'auto' || (l = o === 'horizontal' ? 'end' : 'start'), this.renderInner(a, e, t, i, s, o, l); var u = e.getBoxLayoutParams(); var d = { width: i.getWidth(), height: i.getHeight() }; var f = e.get('padding'); var p = h.getLayoutRect(u, d, f); var g = this.layoutInner(e, a, p, n, s, l); var m = h.getLayoutRect(r.defaults({ width: g.width, height: g.height }, u), d, f); this.group.attr('position', [m.x - g.x, m.y - g.y]), this.group.add(this._backgroundEl = c(g, e)) } }, resetInner: function () { this.getContentGroup().removeAll(), this._backgroundEl && this.group.remove(this._backgroundEl), this.getSelectorGroup().removeAll() }, renderInner: function (e, t, i, n, a, o, s) { var l = this.getContentGroup(); var u = r.createHashMap(); var c = t.get('selectedMode'); var h = []; i.eachRawSeries(function (e) { !e.get('legendHoverLink') && h.push(e.id) }), f(t.getData(), function (a, r) { var o = a.get('name'); if (this.newlineDisabled || o !== '' && o !== '\n') { var s = i.getSeriesByName(o)[0]; if (!u.get(o)) if (s) { var f = s.getData(); var g = f.getVisual('color'); var m = f.getVisual('borderColor'); typeof g === 'function' && (g = g(s.getDataParams(0))), typeof m === 'function' && (m = m(s.getDataParams(0))); var _ = f.getVisual('legendSymbol') || 'roundRect'; var b = f.getVisual('symbol'); var w = this._createItem(o, r, a, t, _, b, e, g, m, c); w.on('click', d(v, o, null, n, h)).on('mouseover', d(y, s.name, null, n, h)).on('mouseout', d(x, s.name, null, n, h)), u.set(o, !0) } else i.eachRawSeries(function (i) { if (!u.get(o) && i.legendVisualProvider) { var s = i.legendVisualProvider; if (!s.containName(o)) return; var l = s.indexOfName(o); var f = s.getItemVisual(l, 'color'); var p = s.getItemVisual(l, 'borderColor'); var g = 'roundRect'; var m = this._createItem(o, r, a, t, g, null, e, f, p, c); m.on('click', d(v, null, o, n, h)).on('mouseover', d(y, null, o, n, h)).on('mouseout', d(x, null, o, n, h)), u.set(o, !0) } }, this) } else l.add(new p({ newline: !0 })) }, this), a && this._createSelector(a, t, n, o, s) }, _createSelector: function (e, t, i, n, a) { var r = this.getSelectorGroup(); function o (e) { var n = e.type; var a = new l.Text({ style: { x: 0, y: 0, align: 'center', verticalAlign: 'middle' }, onclick: function () { i.dispatchAction({ type: n === 'all' ? 'legendAllSelect' : 'legendInverseSelect' }) } }); r.add(a); var o = t.getModel('selectorLabel'); var s = t.getModel('emphasis.selectorLabel'); l.setLabelStyle(a.style, a.hoverStyle = {}, o, s, { defaultText: e.title, isRectText: !1 }), l.setHoverStyle(a) }f(e, function (e) { o(e) }) }, _createItem: function (e, t, i, n, a, o, u, c, h, d) { var f = n.get('itemWidth'); var g = n.get('itemHeight'); var v = n.get('inactiveColor'); var y = n.get('inactiveBorderColor'); var x = n.get('symbolKeepAspect'); var _ = n.getModel('itemStyle'); var b = n.isSelected(e); var w = new p(); var S = i.getModel('textStyle'); var M = i.get('icon'); var I = i.getModel('tooltip'); var A = I.parentModel; a = M || a; var T = s(a, 0, 0, f, g, b ? c : v, x == null || x); if (w.add(m(T, a, _, h, y, b)), !M && o && (o !== a || o === 'none')) { var C = 0.8 * g; o === 'none' && (o = 'circle'); var D = s(o, (f - C) / 2, (g - C) / 2, C, C, b ? c : v, x == null || x); w.add(m(D, o, _, h, y, b)) } var L = u === 'left' ? f + 5 : -5; var P = u; var k = n.get('formatter'); var O = e; typeof k === 'string' && k ? O = k.replace('{name}', e != null ? e : '') : typeof k === 'function' && (O = k(e)), w.add(new l.Text({ style: l.setTextStyle({}, S, { text: O, x: L, y: g / 2, textFill: b ? S.getTextColor() : v, textAlign: P, textVerticalAlign: 'middle' }) })); var R = new l.Rect({ shape: w.getBoundingRect(), invisible: !0, tooltip: I.get('show') ? r.extend({ content: e, formatter: A.get('formatter', !0) || function () { return e }, formatterParams: { componentType: 'legend', legendIndex: n.componentIndex, name: e, $vars: ['name'] } }, I.option) : null }); return w.add(R), w.eachChild(function (e) { e.silent = !0 }), R.silent = !d, this.getContentGroup().add(w), l.setHoverStyle(w), w.__legendDataIndex = t, w }, layoutInner: function (e, t, i, n, a, r) { var o = this.getContentGroup(); var s = this.getSelectorGroup(); h.box(e.get('orient'), o, e.get('itemGap'), i.width, i.height); var l = o.getBoundingRect(); var u = [-l.x, -l.y]; if (a) { h.box('horizontal', s, e.get('selectorItemGap', !0)); var c = s.getBoundingRect(); var d = [-c.x, -c.y]; var f = e.get('selectorButtonGap', !0); var p = e.getOrient().index; var g = p === 0 ? 'width' : 'height'; var m = p === 0 ? 'height' : 'width'; var v = p === 0 ? 'y' : 'x'; r === 'end' ? d[p] += l[g] + f : u[p] += c[g] + f, d[1 - p] += l[m] / 2 - c[m] / 2, s.attr('position', d), o.attr('position', u); var y = { x: 0, y: 0 }; return y[g] = l[g] + f + c[g], y[m] = Math.max(l[m], c[m]), y[v] = Math.min(0, c[v] + d[1 - p]), y } return o.attr('position', u), this.group.getBoundingRect() }, remove: function () { this.getContentGroup().removeAll(), this._isFirstRender = !0 } }); function m (e, t, i, n, a, r) { var o; return t !== 'line' && t.indexOf('empty') < 0 ? (o = i.getItemStyle(), e.style.stroke = n, r || (o.stroke = a)) : o = i.getItemStyle(['borderWidth', 'borderColor']), e.setStyle(o) } function v (e, t, i, n) { x(e, t, i, n), i.dispatchAction({ type: 'legendToggleSelect', name: e != null ? e : t }), y(e, t, i, n) } function y (e, t, i, n) { var a = i.getZr().storage.getDisplayList()[0]; a && a.useHoverLayer || i.dispatchAction({ type: 'highlight', seriesName: e, name: t, excludeSeriesId: n }) } function x (e, t, i, n) { var a = i.getZr().storage.getDisplayList()[0]; a && a.useHoverLayer || i.dispatchAction({ type: 'downplay', seriesName: e, name: t, excludeSeriesId: n }) }e.exports = g }, '5f14': function (e, t, i) { var n = i('6d8b'); var a = i('41ef'); var r = i('3842'); var o = r.linearMap; var s = n.each; var l = n.isObject; var u = -1; var c = function (e) { var t = e.mappingMethod; var i = e.type; var a = this.option = n.clone(e); this.type = i, this.mappingMethod = t, this._normalizeData = S[t]; var r = h[i]; this.applyVisual = r.applyVisual, this.getColorMapper = r.getColorMapper, this._doMap = r._doMap[t], t === 'piecewise' ? (p(a), d(a)) : t === 'category' ? a.categories ? f(a) : p(a, !0) : (n.assert(t !== 'linear' || a.dataExtent), p(a)) }; c.prototype = { constructor: c, mapValueToVisual: function (e) { var t = this._normalizeData(e); return this._doMap(t, e) }, getNormalizer: function () { return n.bind(this._normalizeData, this) } }; var h = c.visualHandlers = { color: { applyVisual: v('color'), getColorMapper: function () { var e = this.option; return n.bind(e.mappingMethod === 'category' ? function (e, t) { return !t && (e = this._normalizeData(e)), y.call(this, e) } : function (t, i, n) { var r = !!n; return !i && (t = this._normalizeData(t)), n = a.fastLerp(t, e.parsedVisual, n), r ? n : a.stringify(n, 'rgba') }, this) }, _doMap: { linear: function (e) { return a.stringify(a.fastLerp(e, this.option.parsedVisual), 'rgba') }, category: y, piecewise: function (e, t) { var i = b.call(this, t); return i == null && (i = a.stringify(a.fastLerp(e, this.option.parsedVisual), 'rgba')), i }, fixed: x } }, colorHue: g(function (e, t) { return a.modifyHSL(e, t) }), colorSaturation: g(function (e, t) { return a.modifyHSL(e, null, t) }), colorLightness: g(function (e, t) { return a.modifyHSL(e, null, null, t) }), colorAlpha: g(function (e, t) { return a.modifyAlpha(e, t) }), opacity: { applyVisual: v('opacity'), _doMap: _([0, 1]) }, liftZ: { applyVisual: v('liftZ'), _doMap: { linear: x, category: x, piecewise: x, fixed: x } }, symbol: { applyVisual: function (e, t, i) { var a = this.mapValueToVisual(e); if (n.isString(a))i('symbol', a); else if (l(a)) for (var r in a)a.hasOwnProperty(r) && i(r, a[r]) }, _doMap: { linear: m, category: y, piecewise: function (e, t) { var i = b.call(this, t); return i == null && (i = m.call(this, e)), i }, fixed: x } }, symbolSize: { applyVisual: v('symbolSize'), _doMap: _([0, 1]) } }; function d (e) { var t = e.pieceList; e.hasSpecialVisual = !1, n.each(t, function (t, i) { t.originIndex = i, t.visual != null && (e.hasSpecialVisual = !0) }) } function f (e) { var t = e.categories; var i = e.visual; var a = e.categoryMap = {}; if (s(t, function (e, t) { a[e] = t }), !n.isArray(i)) { var r = []; n.isObject(i) ? s(i, function (e, t) { var i = a[t]; r[i != null ? i : u] = e }) : r[u] = i, i = w(e, r) } for (var o = t.length - 1; o >= 0; o--)i[o] == null && (delete a[t[o]], t.pop()) } function p (e, t) { var i = e.visual; var a = []; n.isObject(i) ? s(i, function (e) { a.push(e) }) : i != null && a.push(i); var r = { color: 1, symbol: 1 }; t || a.length !== 1 || r.hasOwnProperty(e.type) || (a[1] = a[0]), w(e, a) } function g (e) { return { applyVisual: function (t, i, n) { t = this.mapValueToVisual(t), n('color', e(i('color'), t)) }, _doMap: _([0, 1]) } } function m (e) { var t = this.option.visual; return t[Math.round(o(e, [0, 1], [0, t.length - 1], !0))] || {} } function v (e) { return function (t, i, n) { n(e, this.mapValueToVisual(t)) } } function y (e) { var t = this.option.visual; return t[this.option.loop && e !== u ? e % t.length : e] } function x () { return this.option.visual[0] } function _ (e) { return { linear: function (t) { return o(t, e, this.option.visual, !0) }, category: y, piecewise: function (t, i) { var n = b.call(this, i); return n == null && (n = o(t, e, this.option.visual, !0)), n }, fixed: x } } function b (e) { var t = this.option; var i = t.pieceList; if (t.hasSpecialVisual) { var n = c.findPieceIndex(e, i); var a = i[n]; if (a && a.visual) return a.visual[this.type] } } function w (e, t) { return e.visual = t, e.type === 'color' && (e.parsedVisual = n.map(t, function (e) { return a.parse(e) })), t } var S = { linear: function (e) { return o(e, this.option.dataExtent, [0, 1], !0) }, piecewise: function (e) { var t = this.option.pieceList; var i = c.findPieceIndex(e, t, !0); if (i != null) return o(i, [0, t.length - 1], [0, 1], !0) }, category: function (e) { var t = this.option.categories ? this.option.categoryMap[e] : e; return t == null ? u : t }, fixed: n.noop }; function M (e, t, i) { return e ? t <= i : t < i }c.listVisualTypes = function () { var e = []; return n.each(h, function (t, i) { e.push(i) }), e }, c.addVisualHandler = function (e, t) { h[e] = t }, c.isValidType = function (e) { return h.hasOwnProperty(e) }, c.eachVisual = function (e, t, i) { n.isObject(e) ? n.each(e, t, i) : t.call(i, e) }, c.mapVisual = function (e, t, i) { var a; var r = n.isArray(e) ? [] : n.isObject(e) ? {} : (a = !0, null); return c.eachVisual(e, function (e, n) { var o = t.call(i, e, n); a ? r = o : r[n] = o }), r }, c.retrieveVisuals = function (e) { var t; var i = {}; return e && s(h, function (n, a) { e.hasOwnProperty(a) && (i[a] = e[a], t = !0) }), t ? i : null }, c.prepareVisualTypes = function (e) { if (l(e)) { var t = []; s(e, function (e, i) { t.push(i) }), e = t } else { if (!n.isArray(e)) return []; e = e.slice() } return e.sort(function (e, t) { return t === 'color' && e !== 'color' && e.indexOf('color') === 0 ? 1 : -1 }), e }, c.dependsOn = function (e, t) { return t === 'color' ? !(!e || e.indexOf(t) !== 0) : e === t }, c.findPieceIndex = function (e, t, i) { for (var n, a = 1 / 0, r = 0, o = t.length; r < o; r++) { var s = t[r].value; if (s != null) { if (s === e || typeof s === 'string' && s === e + '') return r; i && h(s, r) } } for (r = 0, o = t.length; r < o; r++) { var l = t[r]; var u = l.interval; var c = l.close; if (u) { if (u[0] === -1 / 0) { if (M(c[1], e, u[1])) return r } else if (u[1] === 1 / 0) { if (M(c[0], u[0], e)) return r } else if (M(c[0], u[0], e) && M(c[1], e, u[1])) return r; i && h(u[0], r), i && h(u[1], r) } } if (i) return e === 1 / 0 ? t.length - 1 : e === -1 / 0 ? 0 : n; function h (t, i) { var r = Math.abs(t - e); r < a && (a = r, n = i) } }; var I = c; e.exports = I }, '607d': function (e, t, i) { var n = i('1fab'); t.Dispatcher = n; var a = i('22d1'); var r = i('65ed'); var o = r.isCanvasEl; var s = r.transformCoordWithViewport; var l = typeof window !== 'undefined' && !!window.addEventListener; var u = /^(?:mouse|pointer|contextmenu|drag|drop)|click/; var c = []; function h (e, t, i, n) { return i = i || {}, n || !a.canvasSupported ? d(e, t, i) : a.browser.firefox && t.layerX != null && t.layerX !== t.offsetX ? (i.zrX = t.layerX, i.zrY = t.layerY) : t.offsetX != null ? (i.zrX = t.offsetX, i.zrY = t.offsetY) : d(e, t, i), i } function d (e, t, i) { if (a.domSupported && e.getBoundingClientRect) { var n = t.clientX; var r = t.clientY; if (o(e)) { var l = e.getBoundingClientRect(); return i.zrX = n - l.left, void (i.zrY = r - l.top) } if (s(c, e, n, r)) return i.zrX = c[0], void (i.zrY = c[1]) }i.zrX = i.zrY = 0 } function f (e) { return e || window.event } function p (e, t, i) { if (t = f(t), t.zrX != null) return t; var n = t.type; var a = n && n.indexOf('touch') >= 0; if (a) { var r = n !== 'touchend' ? t.targetTouches[0] : t.changedTouches[0]; r && h(e, r, t, i) } else h(e, t, t, i), t.zrDelta = t.wheelDelta ? t.wheelDelta / 120 : -(t.detail || 0) / 3; var o = t.button; return t.which == null && void 0 !== o && u.test(t.type) && (t.which = 1 & o ? 1 : 2 & o ? 3 : 4 & o ? 2 : 0), t } function g (e, t, i, n) { l ? e.addEventListener(t, i, n) : e.attachEvent('on' + t, i) } function m (e, t, i, n) { l ? e.removeEventListener(t, i, n) : e.detachEvent('on' + t, i) } var v = l ? function (e) { e.preventDefault(), e.stopPropagation(), e.cancelBubble = !0 } : function (e) { e.returnValue = !1, e.cancelBubble = !0 }; function y (e) { return e.which === 2 || e.which === 3 } function x (e) { return e.which > 1 }t.clientToLocal = h, t.getNativeEvent = f, t.normalizeEvent = p, t.addEventListener = g, t.removeEventListener = m, t.stop = v, t.isMiddleOrRightButtonOnMouseUpDown = y, t.notLeftMouse = x }, '60d7': function (e, t, i) { var n = i('2306'); var a = i('e887'); var r = 0.3; var o = a.extend({ type: 'parallel', init: function () { this._dataGroup = new n.Group(), this.group.add(this._dataGroup), this._data, this._initialized }, render: function (e, t, i, a) { var r = this._dataGroup; var o = e.getData(); var d = this._data; var f = e.coordinateSystem; var p = f.dimensions; var g = c(e); function m (e) { var t = u(o, r, e, p, f); h(t, o, e, g) } function v (t, i) { var r = d.getItemGraphicEl(i); var s = l(o, t, p, f); o.setItemGraphicEl(t, r); var u = a && !1 === a.animation ? null : e; n.updateProps(r, { shape: { points: s } }, u, t), h(r, o, t, g) } function y (e) { var t = d.getItemGraphicEl(e); r.remove(t) } if (o.diff(d).add(m).update(v).remove(y).execute(), !this._initialized) { this._initialized = !0; var x = s(f, e, function () { setTimeout(function () { r.removeClipPath() }) }); r.setClipPath(x) } this._data = o }, incrementalPrepareRender: function (e, t, i) { this._initialized = !0, this._data = null, this._dataGroup.removeAll() }, incrementalRender: function (e, t, i) { for (var n = t.getData(), a = t.coordinateSystem, r = a.dimensions, o = c(t), s = e.start; s < e.end; s++) { var l = u(n, this._dataGroup, s, r, a); l.incremental = !0, h(l, n, s, o) } }, dispose: function () {}, remove: function () { this._dataGroup && this._dataGroup.removeAll(), this._data = null } }); function s (e, t, i) { var a = e.model; var r = e.getRect(); var o = new n.Rect({ shape: { x: r.x, y: r.y, width: r.width, height: r.height } }); var s = a.get('layout') === 'horizontal' ? 'width' : 'height'; return o.setShape(s, 0), n.initProps(o, { shape: { width: r.width, height: r.height } }, t, i), o } function l (e, t, i, n) { for (var a = [], r = 0; r < i.length; r++) { var o = i[r]; var s = e.get(e.mapDimension(o), t); d(s, n.getAxis(o).type) || a.push(n.dataToPoint(s, o)) } return a } function u (e, t, i, a, r) { var o = l(e, i, a, r); var s = new n.Polyline({ shape: { points: o }, silent: !0, z2: 10 }); return t.add(s), e.setItemGraphicEl(i, s), s } function c (e) { var t = e.get('smooth', !0); return !0 === t && (t = r), { lineStyle: e.getModel('lineStyle').getLineStyle(), smooth: t != null ? t : r } } function h (e, t, i, n) { var a = n.lineStyle; if (t.hasItemOption) { var r = t.getItemModel(i).getModel('lineStyle'); a = r.getLineStyle() }e.useStyle(a); var o = e.style; o.fill = null, o.stroke = t.getItemVisual(i, 'color'), o.opacity = t.getItemVisual(i, 'opacity'), n.smooth && (e.shape.smooth = n.smooth) } function d (e, t) { return t === 'category' ? e == null : e == null || isNaN(e) } var f = o; e.exports = f }, '60e3': function (e, t, i) { var n = i('6d8b'); var a = { get: function (e, t, i) { var a = n.clone((r[e] || {})[t]); return i && n.isArray(a) ? a[a.length - 1] : a } }; var r = { color: { active: ['#006edd', '#e0ffff'], inactive: ['rgba(0,0,0,0)'] }, colorHue: { active: [0, 360], inactive: [0, 0] }, colorSaturation: { active: [0.3, 1], inactive: [0, 0] }, colorLightness: { active: [0.9, 0.5], inactive: [0, 0] }, colorAlpha: { active: [0.3, 1], inactive: [0, 0] }, opacity: { active: [0.3, 1], inactive: [0, 0] }, symbol: { active: ['circle', 'roundRect', 'diamond'], inactive: ['none'] }, symbolSize: { active: [10, 50], inactive: [0, 0] } }; var o = a; e.exports = o }, 6179: function (e, t, i) { var n = i('4e08'); var a = (n.__DEV__, i('6d8b')); var r = i('4319'); var o = i('80f0'); var s = i('ec6f'); var l = i('2b17'); var u = l.defaultDimValueGetters; var c = l.DefaultDataProvider; var h = i('2f45'); var d = h.summarizeDimensions; var f = i('562e'); var p = a.isObject; var g = 'undefined'; var m = -1; var v = 'e\0\0'; var y = { float: typeof Float64Array === g ? Array : Float64Array, int: typeof Int32Array === g ? Array : Int32Array, ordinal: Array, number: Array, time: Array }; var x = typeof Uint32Array === g ? Array : Uint32Array; var _ = typeof Int32Array === g ? Array : Int32Array; var b = typeof Uint16Array === g ? Array : Uint16Array; function w (e) { return e._rawCount > 65535 ? x : b } function S (e) { var t = e.constructor; return t === Array ? e.slice() : new t(e) } var M = ['hasItemOption', '_nameList', '_idList', '_invertedIndicesMap', '_rawData', '_chunkSize', '_chunkCount', '_dimValueGetter', '_count', '_rawCount', '_nameDimIdx', '_idDimIdx']; var I = ['_extent', '_approximateExtent', '_rawExtent']; function A (e, t) { a.each(M.concat(t.__wrappedMethods || []), function (i) { t.hasOwnProperty(i) && (e[i] = t[i]) }), e.__wrappedMethods = t.__wrappedMethods, a.each(I, function (i) { e[i] = a.clone(t[i]) }), e._calculationInfo = a.extend(t._calculationInfo) } var T = function (e, t) { e = e || ['x', 'y']; for (var i = {}, n = [], r = {}, o = 0; o < e.length; o++) { var s = e[o]; a.isString(s) ? s = new f({ name: s }) : s instanceof f || (s = new f(s)); var l = s.name; s.type = s.type || 'float', s.coordDim || (s.coordDim = l, s.coordDimIndex = 0), s.otherDims = s.otherDims || {}, n.push(l), i[l] = s, s.index = o, s.createInvertedIndices && (r[l] = []) } this.dimensions = n, this._dimensionInfos = i, this.hostModel = t, this.dataType, this._indices = null, this._count = 0, this._rawCount = 0, this._storage = {}, this._nameList = [], this._idList = [], this._optionModels = [], this._visual = {}, this._layout = {}, this._itemVisuals = [], this.hasItemVisual = {}, this._itemLayouts = [], this._graphicEls = [], this._chunkSize = 1e5, this._chunkCount = 0, this._rawData, this._rawExtent = {}, this._extent = {}, this._approximateExtent = {}, this._dimensionsSummary = d(this), this._invertedIndicesMap = r, this._calculationInfo = {}, this.userOutput = this._dimensionsSummary.userOutput }; var C = T.prototype; function D (e, t, i, n, a) { var r = y[t.type]; var o = n - 1; var s = t.name; var l = e[s][o]; if (l && l.length < i) { for (var u = new r(Math.min(a - o * i, i)), c = 0; c < l.length; c++)u[c] = l[c]; e[s][o] = u } for (var h = n * i; h < a; h += i)e[s].push(new r(Math.min(a - h, i))) } function L (e) { var t = e._invertedIndicesMap; a.each(t, function (i, n) { var a = e._dimensionInfos[n]; var r = a.ordinalMeta; if (r) { i = t[n] = new _(r.categories.length); for (var o = 0; o < i.length; o++)i[o] = m; for (o = 0; o < e._count; o++)i[e.get(n, o)] = o } }) } function P (e, t, i) { var n; if (t != null) { var a = e._chunkSize; var r = Math.floor(i / a); var o = i % a; var s = e.dimensions[t]; var l = e._storage[s][r]; if (l) { n = l[o]; var u = e._dimensionInfos[s].ordinalMeta; u && u.categories.length && (n = u.categories[n]) } } return n } function k (e) { return e } function O (e) { return e < this._count && e >= 0 ? this._indices[e] : -1 } function R (e, t) { var i = e._idList[t]; return i == null && (i = P(e, e._idDimIdx, t)), i == null && (i = v + t), i } function E (e) { return a.isArray(e) || (e = [e]), e } function N (e, t) { var i = e.dimensions; var n = new T(a.map(i, e.getDimensionInfo, e), e.hostModel); A(n, e); for (var r = n._storage = {}, o = e._storage, s = 0; s < i.length; s++) { var l = i[s]; o[l] && (a.indexOf(t, l) >= 0 ? (r[l] = z(o[l]), n._rawExtent[l] = B(), n._extent[l] = null) : r[l] = o[l]) } return n } function z (e) { for (var t = new Array(e.length), i = 0; i < e.length; i++)t[i] = S(e[i]); return t } function B () { return [1 / 0, -1 / 0] }C.type = 'list', C.hasItemOption = !0, C.getDimension = function (e) { return typeof e !== 'number' && (isNaN(e) || this._dimensionInfos.hasOwnProperty(e)) || (e = this.dimensions[e]), e }, C.getDimensionInfo = function (e) { return this._dimensionInfos[this.getDimension(e)] }, C.getDimensionsOnCoord = function () { return this._dimensionsSummary.dataDimsOnCoord.slice() }, C.mapDimension = function (e, t) { var i = this._dimensionsSummary; if (t == null) return i.encodeFirstDimNotExtra[e]; var n = i.encode[e]; return !0 === t ? (n || []).slice() : n && n[t] }, C.initData = function (e, t, i) { var n = s.isInstance(e) || a.isArrayLike(e); n && (e = new c(e, this.dimensions.length)), this._rawData = e, this._storage = {}, this._indices = null, this._nameList = t || [], this._idList = [], this._nameRepeatCount = {}, i || (this.hasItemOption = !1), this.defaultDimValueGetter = u[this._rawData.getSource().sourceFormat], this._dimValueGetter = i = i || this.defaultDimValueGetter, this._dimValueGetterArrayRows = u.arrayRows, this._rawExtent = {}, this._initDataFromProvider(0, e.count()), e.pure && (this.hasItemOption = !1) }, C.getProvider = function () { return this._rawData }, C.appendData = function (e) { var t = this._rawData; var i = this.count(); t.appendData(e); var n = t.count(); t.persistent || (n += i), this._initDataFromProvider(i, n) }, C.appendValues = function (e, t) { for (var i = this._chunkSize, n = this._storage, a = this.dimensions, r = a.length, o = this._rawExtent, s = this.count(), l = s + Math.max(e.length, t ? t.length : 0), u = this._chunkCount, c = 0; c < r; c++) { var h = a[c]; o[h] || (o[h] = B()), n[h] || (n[h] = []), D(n, this._dimensionInfos[h], i, u, l), this._chunkCount = n[h].length } for (var d = new Array(r), f = s; f < l; f++) { for (var p = f - s, g = Math.floor(f / i), m = f % i, v = 0; v < r; v++) { h = a[v]; var y = this._dimValueGetterArrayRows(e[p] || d, h, p, v); n[h][g][m] = y; var x = o[h]; y < x[0] && (x[0] = y), y > x[1] && (x[1] = y) }t && (this._nameList[f] = t[p]) } this._rawCount = this._count = l, this._extent = {}, L(this) }, C._initDataFromProvider = function (e, t) { if (!(e >= t)) { for (var i, n = this._chunkSize, a = this._rawData, r = this._storage, o = this.dimensions, s = o.length, l = this._dimensionInfos, u = this._nameList, c = this._idList, h = this._rawExtent, d = this._nameRepeatCount = {}, f = this._chunkCount, p = 0; p < s; p++) { var g = o[p]; h[g] || (h[g] = B()); var m = l[g]; m.otherDims.itemName === 0 && (i = this._nameDimIdx = p), m.otherDims.itemId === 0 && (this._idDimIdx = p), r[g] || (r[g] = []), D(r, m, n, f, t), this._chunkCount = r[g].length } for (var v = new Array(s), y = e; y < t; y++) { v = a.getItem(y, v); for (var x = Math.floor(y / n), _ = y % n, b = 0; b < s; b++) { g = o[b]; var w = r[g][x]; var S = this._dimValueGetter(v, g, y, b); w[_] = S; var M = h[g]; S < M[0] && (M[0] = S), S > M[1] && (M[1] = S) } if (!a.pure) { var I = u[y]; if (v && I == null) if (v.name != null)u[y] = I = v.name; else if (i != null) { var A = o[i]; var T = r[A][x]; if (T) { I = T[_]; var C = l[A].ordinalMeta; C && C.categories.length && (I = C.categories[I]) } } var P = v == null ? null : v.id; P == null && I != null && (d[I] = d[I] || 0, P = I, d[I] > 0 && (P += '__ec__' + d[I]), d[I]++), P != null && (c[y] = P) } }!a.persistent && a.clean && a.clean(), this._rawCount = this._count = t, this._extent = {}, L(this) } }, C.count = function () { return this._count }, C.getIndices = function () { var e = this._indices; if (e) { var t = e.constructor; var i = this._count; if (t === Array) { a = new t(i); for (var n = 0; n < i; n++)a[n] = e[n] } else a = new t(e.buffer, 0, i) } else { t = w(this); var a = new t(this.count()); for (n = 0; n < a.length; n++)a[n] = n } return a }, C.get = function (e, t) { if (!(t >= 0 && t < this._count)) return NaN; var i = this._storage; if (!i[e]) return NaN; t = this.getRawIndex(t); var n = Math.floor(t / this._chunkSize); var a = t % this._chunkSize; var r = i[e][n]; var o = r[a]; return o }, C.getByRawIndex = function (e, t) { if (!(t >= 0 && t < this._rawCount)) return NaN; var i = this._storage[e]; if (!i) return NaN; var n = Math.floor(t / this._chunkSize); var a = t % this._chunkSize; var r = i[n]; return r[a] }, C._getFast = function (e, t) { var i = Math.floor(t / this._chunkSize); var n = t % this._chunkSize; var a = this._storage[e][i]; return a[n] }, C.getValues = function (e, t) { var i = []; a.isArray(e) || (t = e, e = this.dimensions); for (var n = 0, r = e.length; n < r; n++)i.push(this.get(e[n], t)); return i }, C.hasValue = function (e) { for (var t = this._dimensionsSummary.dataDimsOnCoord, i = 0, n = t.length; i < n; i++) if (isNaN(this.get(t[i], e))) return !1; return !0 }, C.getDataExtent = function (e) { e = this.getDimension(e); var t = this._storage[e]; var i = B(); if (!t) return i; var n; var a = this.count(); var r = !this._indices; if (r) return this._rawExtent[e].slice(); if (n = this._extent[e], n) return n.slice(); n = i; for (var o = n[0], s = n[1], l = 0; l < a; l++) { var u = this._getFast(e, this.getRawIndex(l)); u < o && (o = u), u > s && (s = u) } return n = [o, s], this._extent[e] = n, n }, C.getApproximateExtent = function (e) { return e = this.getDimension(e), this._approximateExtent[e] || this.getDataExtent(e) }, C.setApproximateExtent = function (e, t) { t = this.getDimension(t), this._approximateExtent[t] = e.slice() }, C.getCalculationInfo = function (e) { return this._calculationInfo[e] }, C.setCalculationInfo = function (e, t) { p(e) ? a.extend(this._calculationInfo, e) : this._calculationInfo[e] = t }, C.getSum = function (e) { var t = this._storage[e]; var i = 0; if (t) for (var n = 0, a = this.count(); n < a; n++) { var r = this.get(e, n); isNaN(r) || (i += r) } return i }, C.getMedian = function (e) { var t = []; this.each(e, function (e, i) { isNaN(e) || t.push(e) }); var i = [].concat(t).sort(function (e, t) { return e - t }); var n = this.count(); return n === 0 ? 0 : n % 2 === 1 ? i[(n - 1) / 2] : (i[n / 2] + i[n / 2 - 1]) / 2 }, C.rawIndexOf = function (e, t) { var i = e && this._invertedIndicesMap[e]; var n = i[t]; return n == null || isNaN(n) ? m : n }, C.indexOfName = function (e) { for (var t = 0, i = this.count(); t < i; t++) if (this.getName(t) === e) return t; return -1 }, C.indexOfRawIndex = function (e) { if (e >= this._rawCount || e < 0) return -1; if (!this._indices) return e; var t = this._indices; var i = t[e]; if (i != null && i < this._count && i === e) return e; var n = 0; var a = this._count - 1; while (n <= a) { var r = (n + a) / 2 | 0; if (t[r] < e)n = r + 1; else { if (!(t[r] > e)) return r; a = r - 1 } } return -1 }, C.indicesOfNearest = function (e, t, i) { var n = this._storage; var a = n[e]; var r = []; if (!a) return r; i == null && (i = 1 / 0); for (var o = 1 / 0, s = -1, l = 0, u = 0, c = this.count(); u < c; u++) { var h = t - this.get(e, u); var d = Math.abs(h); d <= i && ((d < o || d === o && h >= 0 && s < 0) && (o = d, s = h, l = 0), h === s && (r[l++] = u)) } return r.length = l, r }, C.getRawIndex = k, C.getRawDataItem = function (e) { if (this._rawData.persistent) return this._rawData.getItem(this.getRawIndex(e)); for (var t = [], i = 0; i < this.dimensions.length; i++) { var n = this.dimensions[i]; t.push(this.get(n, e)) } return t }, C.getName = function (e) { var t = this.getRawIndex(e); return this._nameList[t] || P(this, this._nameDimIdx, t) || '' }, C.getId = function (e) { return R(this, this.getRawIndex(e)) }, C.each = function (e, t, i, n) { 'use strict'; if (this._count) { typeof e === 'function' && (n = i, i = t, t = e, e = []), i = i || n || this, e = a.map(E(e), this.getDimension, this); for (var r = e.length, o = 0; o < this.count(); o++) switch (r) { case 0:t.call(i, o); break; case 1:t.call(i, this.get(e[0], o), o); break; case 2:t.call(i, this.get(e[0], o), this.get(e[1], o), o); break; default:for (var s = 0, l = []; s < r; s++)l[s] = this.get(e[s], o); l[s] = o, t.apply(i, l) } } }, C.filterSelf = function (e, t, i, n) { 'use strict'; if (this._count) { typeof e === 'function' && (n = i, i = t, t = e, e = []), i = i || n || this, e = a.map(E(e), this.getDimension, this); for (var r = this.count(), o = w(this), s = new o(r), l = [], u = e.length, c = 0, h = e[0], d = 0; d < r; d++) { var f; var p = this.getRawIndex(d); if (u === 0)f = t.call(i, d); else if (u === 1) { var g = this._getFast(h, p); f = t.call(i, g, d) } else { for (var m = 0; m < u; m++)l[m] = this._getFast(h, p); l[m] = d, f = t.apply(i, l) }f && (s[c++] = p) } return c < r && (this._indices = s), this._count = c, this._extent = {}, this.getRawIndex = this._indices ? O : k, this } }, C.selectRange = function (e) { 'use strict'; if (this._count) { var t = []; for (var i in e)e.hasOwnProperty(i) && t.push(i); var n = t.length; if (n) { var a = this.count(); var r = w(this); var o = new r(a); var s = 0; var l = t[0]; var u = e[l][0]; var c = e[l][1]; var h = !1; if (!this._indices) { var d = 0; if (n === 1) { for (var f = this._storage[t[0]], p = 0; p < this._chunkCount; p++) for (var g = f[p], m = Math.min(this._count - p * this._chunkSize, this._chunkSize), v = 0; v < m; v++) { var y = g[v]; (y >= u && y <= c || isNaN(y)) && (o[s++] = d), d++ }h = !0 } else if (n === 2) { f = this._storage[l]; var x = this._storage[t[1]]; var _ = e[t[1]][0]; var b = e[t[1]][1]; for (p = 0; p < this._chunkCount; p++) { g = f[p]; var S = x[p]; for (m = Math.min(this._count - p * this._chunkSize, this._chunkSize), v = 0; v < m; v++) { y = g[v]; var M = S[v]; (y >= u && y <= c || isNaN(y)) && (M >= _ && M <= b || isNaN(M)) && (o[s++] = d), d++ } }h = !0 } } if (!h) if (n === 1) for (v = 0; v < a; v++) { var I = this.getRawIndex(v); y = this._getFast(l, I); (y >= u && y <= c || isNaN(y)) && (o[s++] = I) } else for (v = 0; v < a; v++) { var A = !0; for (I = this.getRawIndex(v), p = 0; p < n; p++) { var T = t[p]; y = this._getFast(i, I); (y < e[T][0] || y > e[T][1]) && (A = !1) }A && (o[s++] = this.getRawIndex(v)) } return s < a && (this._indices = o), this._count = s, this._extent = {}, this.getRawIndex = this._indices ? O : k, this } } }, C.mapArray = function (e, t, i, n) { 'use strict'; typeof e === 'function' && (n = i, i = t, t = e, e = []), i = i || n || this; var a = []; return this.each(e, function () { a.push(t && t.apply(this, arguments)) }, i), a }, C.map = function (e, t, i, n) { 'use strict'; i = i || n || this, e = a.map(E(e), this.getDimension, this); var r = N(this, e); r._indices = this._indices, r.getRawIndex = r._indices ? O : k; for (var o = r._storage, s = [], l = this._chunkSize, u = e.length, c = this.count(), h = [], d = r._rawExtent, f = 0; f < c; f++) { for (var p = 0; p < u; p++)h[p] = this.get(e[p], f); h[u] = f; var g = t && t.apply(i, h); if (g != null) { typeof g !== 'object' && (s[0] = g, g = s); for (var m = this.getRawIndex(f), v = Math.floor(m / l), y = m % l, x = 0; x < g.length; x++) { var _ = e[x]; var b = g[x]; var w = d[_]; var S = o[_]; S && (S[v][y] = b), b < w[0] && (w[0] = b), b > w[1] && (w[1] = b) } } } return r }, C.downSample = function (e, t, i, n) { for (var a = N(this, [e]), r = a._storage, o = [], s = Math.floor(1 / t), l = r[e], u = this.count(), c = this._chunkSize, h = a._rawExtent[e], d = new (w(this))(u), f = 0, p = 0; p < u; p += s) { s > u - p && (s = u - p, o.length = s); for (var g = 0; g < s; g++) { var m = this.getRawIndex(p + g); var v = Math.floor(m / c); var y = m % c; o[g] = l[v][y] } var x = i(o); var _ = this.getRawIndex(Math.min(p + n(o, x) || 0, u - 1)); var b = Math.floor(_ / c); var S = _ % c; l[b][S] = x, x < h[0] && (h[0] = x), x > h[1] && (h[1] = x), d[f++] = _ } return a._count = f, a._indices = d, a.getRawIndex = O, a }, C.getItemModel = function (e) { var t = this.hostModel; return new r(this.getRawDataItem(e), t, t && t.ecModel) }, C.diff = function (e) { var t = this; return new o(e ? e.getIndices() : [], this.getIndices(), function (t) { return R(e, t) }, function (e) { return R(t, e) }) }, C.getVisual = function (e) { var t = this._visual; return t && t[e] }, C.setVisual = function (e, t) { if (p(e)) for (var i in e)e.hasOwnProperty(i) && this.setVisual(i, e[i]); else this._visual = this._visual || {}, this._visual[e] = t }, C.setLayout = function (e, t) { if (p(e)) for (var i in e)e.hasOwnProperty(i) && this.setLayout(i, e[i]); else this._layout[e] = t }, C.getLayout = function (e) { return this._layout[e] }, C.getItemLayout = function (e) { return this._itemLayouts[e] }, C.setItemLayout = function (e, t, i) { this._itemLayouts[e] = i ? a.extend(this._itemLayouts[e] || {}, t) : t }, C.clearItemLayouts = function () { this._itemLayouts.length = 0 }, C.getItemVisual = function (e, t, i) { var n = this._itemVisuals[e]; var a = n && n[t]; return a != null || i ? a : this.getVisual(t) }, C.setItemVisual = function (e, t, i) { var n = this._itemVisuals[e] || {}; var a = this.hasItemVisual; if (this._itemVisuals[e] = n, p(t)) for (var r in t)t.hasOwnProperty(r) && (n[r] = t[r], a[r] = !0); else n[t] = i, a[t] = !0 }, C.clearAllVisual = function () { this._visual = {}, this._itemVisuals = [], this.hasItemVisual = {} }; var V = function (e) { e.seriesIndex = this.seriesIndex, e.dataIndex = this.dataIndex, e.dataType = this.dataType }; C.setItemGraphicEl = function (e, t) { var i = this.hostModel; t && (t.dataIndex = e, t.dataType = this.dataType, t.seriesIndex = i && i.seriesIndex, t.type === 'group' && t.traverse(V, t)), this._graphicEls[e] = t }, C.getItemGraphicEl = function (e) { return this._graphicEls[e] }, C.eachItemGraphicEl = function (e, t) { a.each(this._graphicEls, function (i, n) { i && e && e.call(t, i, n) }) }, C.cloneShallow = function (e) { if (!e) { var t = a.map(this.dimensions, this.getDimensionInfo, this); e = new T(t, this.hostModel) } if (e._storage = this._storage, A(e, this), this._indices) { var i = this._indices.constructor; e._indices = new i(this._indices) } else e._indices = null; return e.getRawIndex = e._indices ? O : k, e }, C.wrapMethod = function (e, t) { var i = this[e]; typeof i === 'function' && (this.__wrappedMethods = this.__wrappedMethods || [], this.__wrappedMethods.push(e), this[e] = function () { var e = i.apply(this, arguments); return t.apply(this, [e].concat(a.slice(arguments))) }) }, C.TRANSFERABLE_METHODS = ['cloneShallow', 'downSample', 'map'], C.CHANGABLE_METHODS = ['filterSelf', 'selectRange']; var G = T; e.exports = G }, '620b': function (e, t, i) { var n = i('401b'); var a = n.distance; function r (e, t, i, n, a, r, o) { var s = 0.5 * (i - e); var l = 0.5 * (n - t); return (2 * (t - i) + s + l) * o + (-3 * (t - i) - 2 * s - l) * r + s * a + t } function o (e, t) { for (var i = e.length, n = [], o = 0, s = 1; s < i; s++)o += a(e[s - 1], e[s]); var l = o / 2; l = l < i ? i : l; for (s = 0; s < l; s++) { var u; var c; var h; var d = s / (l - 1) * (t ? i : i - 1); var f = Math.floor(d); var p = d - f; var g = e[f % i]; t ? (u = e[(f - 1 + i) % i], c = e[(f + 1) % i], h = e[(f + 2) % i]) : (u = e[f === 0 ? f : f - 1], c = e[f > i - 2 ? i - 1 : f + 1], h = e[f > i - 3 ? i - 1 : f + 2]); var m = p * p; var v = p * m; n.push([r(u[0], g[0], c[0], h[0], p, m, v), r(u[1], g[1], c[1], h[1], p, m, v)]) } return n }e.exports = o }, '625e': function (e, t, i) { var n = i('4e08'); var a = (n.__DEV__, i('6d8b')); var r = '.'; var o = '___EC__COMPONENT__CONTAINER___'; function s (e) { var t = { main: '', sub: '' }; return e && (e = e.split(r), t.main = e[0] || '', t.sub = e[1] || ''), t } function l (e) { a.assert(/^[a-zA-Z0-9_]+([.][a-zA-Z0-9_]+)?$/.test(e), 'componentType "' + e + '" illegal') } function u (e, t) { e.$constructor = e, e.extend = function (e) { var t = this; var i = function () { e.$constructor ? e.$constructor.apply(this, arguments) : t.apply(this, arguments) }; return a.extend(i.prototype, e), i.extend = this.extend, i.superCall = d, i.superApply = f, a.inherits(i, this), i.superClass = t, i } } var c = 0; function h (e) { var t = ['__\0is_clz', c++, Math.random().toFixed(3)].join('_'); e.prototype[t] = !0, e.isInstance = function (e) { return !(!e || !e[t]) } } function d (e, t) { var i = a.slice(arguments, 2); return this.superClass.prototype[t].apply(e, i) } function f (e, t, i) { return this.superClass.prototype[t].apply(e, i) } function p (e, t) { t = t || {}; var i = {}; function n (e) { var t = i[e.main]; return t && t[o] || (t = i[e.main] = {}, t[o] = !0), t } if (e.registerClass = function (e, t) { if (t) if (l(t), t = s(t), t.sub) { if (t.sub !== o) { var a = n(t); a[t.sub] = e } } else i[t.main] = e; return e }, e.getClass = function (e, t, n) { var a = i[e]; if (a && a[o] && (a = t ? a[t] : null), n && !a) throw new Error(t ? 'Component ' + e + '.' + (t || '') + ' not exists. Load it first.' : e + '.type should be specified.'); return a }, e.getClassesByMainType = function (e) { e = s(e); var t = []; var n = i[e.main]; return n && n[o] ? a.each(n, function (e, i) { i !== o && t.push(e) }) : t.push(n), t }, e.hasClass = function (e) { return e = s(e), !!i[e.main] }, e.getAllClassMainTypes = function () { var e = []; return a.each(i, function (t, i) { e.push(i) }), e }, e.hasSubTypes = function (e) { e = s(e); var t = i[e.main]; return t && t[o] }, e.parseClassType = s, t.registerWhenExtend) { var r = e.extend; r && (e.extend = function (t) { var i = r.call(this, t); return e.registerClass(i, t.type) }) } return e } function g (e, t) {}t.parseClassType = s, t.enableClassExtend = u, t.enableClassCheck = h, t.enableClassManagement = p, t.setReadOnly = g }, '627c': function (e, t, i) { var n = i('6d8b'); var a = i('3eba'); var r = i('2306'); var o = i('f934'); var s = o.getLayoutRect; var l = i('eda2'); var u = l.windowOpen; a.extendComponentModel({ type: 'title', layoutMode: { type: 'box', ignoreSize: !0 }, defaultOption: { zlevel: 0, z: 6, show: !0, text: '', target: 'blank', subtext: '', subtarget: 'blank', left: 0, top: 0, backgroundColor: 'rgba(0,0,0,0)', borderColor: '#ccc', borderWidth: 0, padding: 5, itemGap: 10, textStyle: { fontSize: 18, fontWeight: 'bolder', color: '#333' }, subtextStyle: { color: '#aaa' } } }), a.extendComponentView({ type: 'title', render: function (e, t, i) { if (this.group.removeAll(), e.get('show')) { var a = this.group; var o = e.getModel('textStyle'); var l = e.getModel('subtextStyle'); var c = e.get('textAlign'); var h = n.retrieve2(e.get('textBaseline'), e.get('textVerticalAlign')); var d = new r.Text({ style: r.setTextStyle({}, o, { text: e.get('text'), textFill: o.getTextColor() }, { disableBox: !0 }), z2: 10 }); var f = d.getBoundingRect(); var p = e.get('subtext'); var g = new r.Text({ style: r.setTextStyle({}, l, { text: p, textFill: l.getTextColor(), y: f.height + e.get('itemGap'), textVerticalAlign: 'top' }, { disableBox: !0 }), z2: 10 }); var m = e.get('link'); var v = e.get('sublink'); var y = e.get('triggerEvent', !0); d.silent = !m && !y, g.silent = !v && !y, m && d.on('click', function () { u(m, '_' + e.get('target')) }), v && g.on('click', function () { u(v, '_' + e.get('subtarget')) }), d.eventData = g.eventData = y ? { componentType: 'title', componentIndex: e.componentIndex } : null, a.add(d), p && a.add(g); var x = a.getBoundingRect(); var _ = e.getBoxLayoutParams(); _.width = x.width, _.height = x.height; var b = s(_, { width: i.getWidth(), height: i.getHeight() }, e.get('padding')); c || (c = e.get('left') || e.get('right'), c === 'middle' && (c = 'center'), c === 'right' ? b.x += b.width : c === 'center' && (b.x += b.width / 2)), h || (h = e.get('top') || e.get('bottom'), h === 'center' && (h = 'middle'), h === 'bottom' ? b.y += b.height : h === 'middle' && (b.y += b.height / 2), h = h || 'top'), a.attr('position', [b.x, b.y]); var w = { textAlign: c, textVerticalAlign: h }; d.setStyle(w), g.setStyle(w), x = a.getBoundingRect(); var S = b.margin; var M = e.getItemStyle(['color', 'opacity']); M.fill = e.get('backgroundColor'); var I = new r.Rect({ shape: { x: x.x - S[3], y: x.y - S[0], width: x.width + S[1] + S[3], height: x.height + S[0] + S[2], r: e.get('borderRadius') }, style: M, subPixelOptimize: !0, silent: !0 }); a.add(I) } } }) }, 6547: function (e, t, i) { var n = i('a691'); var a = i('1d80'); var r = function (e) { return function (t, i) { var r; var o; var s = String(a(t)); var l = n(i); var u = s.length; return l < 0 || l >= u ? e ? '' : void 0 : (r = s.charCodeAt(l), r < 55296 || r > 56319 || l + 1 === u || (o = s.charCodeAt(l + 1)) < 56320 || o > 57343 ? e ? s.charAt(l) : r : e ? s.slice(l, l + 2) : o - 56320 + (r - 55296 << 10) + 65536) } }; e.exports = { codeAt: r(!1), charAt: r(!0) } }, 6569: function (e, t, i) { var n = i('6d8b'); var a = i('e0d3'); function r (e) { o(e), s(e) } function o (e) { if (!e.parallel) { var t = !1; n.each(e.series, function (e) { e && e.type === 'parallel' && (t = !0) }), t && (e.parallel = [{}]) } } function s (e) { var t = a.normalizeToArray(e.parallelAxis); n.each(t, function (t) { if (n.isObject(t)) { var i = t.parallelIndex || 0; var r = a.normalizeToArray(e.parallel)[i]; r && r.parallelAxisDefault && n.merge(t, r.parallelAxisDefault, !1) } }) }e.exports = r }, 6582: function (e, t, i) { var n = i('cccd'); var a = { seriesType: 'lines', plan: n(), reset: function (e) { var t = e.coordinateSystem; var i = e.get('polyline'); var n = e.pipelineContext.large; function a (a, r) { var o = []; if (n) { var s; var l = a.end - a.start; if (i) { for (var u = 0, c = a.start; c < a.end; c++)u += e.getLineCoordsCount(c); s = new Float32Array(l + 2 * u) } else s = new Float32Array(4 * l); var h = 0; var d = []; for (c = a.start; c < a.end; c++) { var f = e.getLineCoords(c, o); i && (s[h++] = f); for (var p = 0; p < f; p++)d = t.dataToPoint(o[p], !1, d), s[h++] = d[0], s[h++] = d[1] }r.setLayout('linesPoints', s) } else for (c = a.start; c < a.end; c++) { var g = r.getItemModel(c); var m = (f = e.getLineCoords(c, o), []); if (i) for (var v = 0; v < f; v++)m.push(t.dataToPoint(o[v])); else { m[0] = t.dataToPoint(o[0]), m[1] = t.dataToPoint(o[1]); var y = g.get('lineStyle.curveness'); +y && (m[2] = [(m[0][0] + m[1][0]) / 2 - (m[0][1] - m[1][1]) * y, (m[0][1] + m[1][1]) / 2 - (m[1][0] - m[0][0]) * y]) }r.setItemLayout(c, m) } } return { progress: a } } }; e.exports = a }, '65ed': function (e, t, i) { var n = i('22d1'); var a = i('84ec'); var r = a.buildTransformer; var o = '___zrEVENTSAVED'; var s = []; function l (e, t, i, n, a) { return u(s, t, n, a, !0) && u(e, i, s[0], s[1]) } function u (e, t, i, a, r) { if (t.getBoundingClientRect && n.domSupported && !d(t)) { var s = t[o] || (t[o] = {}); var l = c(t, s); var u = h(l, s, r); if (u) return u(e, i, a), !0 } return !1 } function c (e, t) { var i = t.markers; if (i) return i; i = t.markers = []; for (var n = ['left', 'right'], a = ['top', 'bottom'], r = 0; r < 4; r++) { var o = document.createElement('div'); var s = o.style; var l = r % 2; var u = (r >> 1) % 2; s.cssText = ['position: absolute', 'visibility: hidden', 'padding: 0', 'margin: 0', 'border-width: 0', 'user-select: none', 'width:0', 'height:0', n[l] + ':0', a[u] + ':0', n[1 - l] + ':auto', a[1 - u] + ':auto', ''].join('!important;'), e.appendChild(o), i.push(o) } return i } function h (e, t, i) { for (var n = i ? 'invTrans' : 'trans', a = t[n], o = t.srcCoords, s = !0, l = [], u = [], c = 0; c < 4; c++) { var h = e[c].getBoundingClientRect(); var d = 2 * c; var f = h.left; var p = h.top; l.push(f, p), s = s && o && f === o[d] && p === o[d + 1], u.push(e[c].offsetLeft, e[c].offsetTop) } return s && a ? a : (t.srcCoords = l, t[n] = i ? r(u, l) : r(l, u)) } function d (e) { return e.nodeName.toUpperCase() === 'CANVAS' }t.transformLocalCoord = l, t.transformCoordWithViewport = u, t.isCanvasEl = d }, '65f0': function (e, t, i) { var n = i('861d'); var a = i('e8b5'); var r = i('b622'); var o = r('species'); e.exports = function (e, t) { var i; return a(e) && (i = e.constructor, typeof i !== 'function' || i !== Array && !a(i.prototype) ? n(i) && (i = i[o], i === null && (i = void 0)) : i = void 0), new (void 0 === i ? Array : i)(t === 0 ? 0 : t) } }, 6679: function (e, t, i) { var n = i('4e08'); var a = (n.__DEV__, i('3eba')); var r = i('cd33'); var o = a.extendComponentView({ type: 'axis', _axisPointer: null, axisPointerClass: null, render: function (e, t, i, n) { this.axisPointerClass && r.fixValue(e), o.superApply(this, 'render', arguments), s(this, e, t, i, n, !0) }, updateAxisPointer: function (e, t, i, n, a) { s(this, e, t, i, n, !1) }, remove: function (e, t) { var i = this._axisPointer; i && i.remove(t), o.superApply(this, 'remove', arguments) }, dispose: function (e, t) { l(this, t), o.superApply(this, 'dispose', arguments) } }); function s (e, t, i, n, a, s) { var u = o.getAxisPointerClass(e.axisPointerClass); if (u) { var c = r.getAxisPointerModel(t); c ? (e._axisPointer || (e._axisPointer = new u())).render(t, c, n, s) : l(e, n) } } function l (e, t, i) { var n = e._axisPointer; n && n.dispose(t, i), e._axisPointer = null } var u = []; o.registerAxisPointerClass = function (e, t) { u[e] = t }, o.getAxisPointerClass = function (e) { return e && u[e] }; var c = o; e.exports = c }, '66a4': function (e, t, i) { var n = i('6d8b'); function a (e) { var t = e && e.timeline; n.isArray(t) || (t = t ? [t] : []), n.each(t, function (e) { e && r(e) }) } function r (e) { var t = e.type; var i = { number: 'value', time: 'time' }; if (i[t] && (e.axisType = i[t], delete e.type), o(e), s(e, 'controlPosition')) { var a = e.controlStyle || (e.controlStyle = {}); s(a, 'position') || (a.position = e.controlPosition), a.position !== 'none' || s(a, 'show') || (a.show = !1, delete a.position), delete e.controlPosition }n.each(e.data || [], function (e) { n.isObject(e) && !n.isArray(e) && (!s(e, 'value') && s(e, 'name') && (e.value = e.name), o(e)) }) } function o (e) { var t = e.itemStyle || (e.itemStyle = {}); var i = t.emphasis || (t.emphasis = {}); var a = e.label || e.label || {}; var r = a.normal || (a.normal = {}); var o = { normal: 1, emphasis: 1 }; n.each(a, function (e, t) { o[t] || s(r, t) || (r[t] = e) }), i.label && !s(a, 'emphasis') && (a.emphasis = i.label, delete i.label) } function s (e, t) { return e.hasOwnProperty(t) }e.exports = a }, '66fc': function (e, t, i) { var n = i('6d8b'); var a = i('84ce'); var r = function (e, t, i, n, r) { a.call(this, e, t, i), this.type = n || 'value', this.position = r || 'bottom', this.orient = null }; r.prototype = { constructor: r, model: null, isHorizontal: function () { var e = this.position; return e === 'top' || e === 'bottom' }, pointToData: function (e, t) { return this.coordinateSystem.pointToData(e, t)[0] }, toGlobalCoord: null, toLocalCoord: null }, n.inherits(r, a); var o = r; e.exports = o }, '675a': function (e, t) { function i (e) { var t = e.findComponents({ mainType: 'legend' }); t && t.length && e.eachSeriesByType('graph', function (e) { var i = e.getCategoriesData(); var n = e.getGraph(); var a = n.data; var r = i.mapArray(i.getName); a.filterSelf(function (e) { var i = a.getItemModel(e); var n = i.getShallow('category'); if (n != null) { typeof n === 'number' && (n = r[n]); for (var o = 0; o < t.length; o++) if (!t[o].isSelected(n)) return !1 } return !0 }) }, this) }e.exports = i }, '675c': function (e, t, i) { var n = i('3eba'); i('4e10'), i('a666'), i('49e8'), i('eeea'); var a = i('cee1'); var r = i('54fb'); var o = i('f6ed'); var s = i('9442'); var l = i('7782'); n.registerLayout(a), n.registerVisual(r), n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC, o), n.registerPreprocessor(s), l('map', [{ type: 'mapToggleSelect', event: 'mapselectchanged', method: 'toggleSelected' }, { type: 'mapSelect', event: 'mapselected', method: 'select' }, { type: 'mapUnSelect', event: 'mapunselected', method: 'unSelect' }]) }, '67a8': function (e, t, i) { var n = i('3301'); var a = i('4f85'); var r = a.extend({ type: 'series.effectScatter', dependencies: ['grid', 'polar'], getInitialData: function (e, t) { return n(this.getSource(), this, { useEncodeDefaulter: !0 }) }, brushSelector: 'point', defaultOption: { coordinateSystem: 'cartesian2d', zlevel: 0, z: 2, legendHoverLink: !0, effectType: 'ripple', progressive: 0, showEffectOn: 'render', rippleEffect: { period: 4, scale: 2.5, brushType: 'fill' }, symbolSize: 10 } }); e.exports = r }, '67cc': function (e, t, i) { var n = i('4e08'); var a = (n.__DEV__, i('3eba')); var r = i('6d8b'); var o = i('2306'); var s = i('e7aa'); var l = s.setLabel; var u = i('4319'); var c = i('b5c7'); var h = i('cbe5'); var d = i('e1fc'); var f = i('88b3'); var p = f.throttle; var g = i('b0af'); var m = g.createClipPath; var v = i('c2be'); var y = ['itemStyle', 'barBorderWidth']; var x = [0, 0]; function _ (e, t) { var i = e.getArea && e.getArea(); if (e.type === 'cartesian2d') { var n = e.getBaseAxis(); if (n.type !== 'category' || !n.onBand) { var a = t.getLayout('bandWidth'); n.isHorizontal() ? (i.x -= a, i.width += 2 * a) : (i.y -= a, i.height += 2 * a) } } return i }r.extend(u.prototype, c); var b = a.extendChartView({ type: 'bar', render: function (e, t, i) { this._updateDrawMode(e); var n = e.get('coordinateSystem'); return n !== 'cartesian2d' && n !== 'polar' || (this._isLargeDraw ? this._renderLarge(e, t, i) : this._renderNormal(e, t, i)), this.group }, incrementalPrepareRender: function (e, t, i) { this._clear(), this._updateDrawMode(e) }, incrementalRender: function (e, t, i, n) { this._incrementalRenderLarge(e, t) }, _updateDrawMode: function (e) { var t = e.pipelineContext.large; (this._isLargeDraw == null || t ^ this._isLargeDraw) && (this._isLargeDraw = t, this._clear()) }, _renderNormal: function (e, t, i) { var n; var a = this.group; var r = e.getData(); var s = this._data; var l = e.coordinateSystem; var u = l.getBaseAxis(); l.type === 'cartesian2d' ? n = u.isHorizontal() : l.type === 'polar' && (n = u.dim === 'angle'); var c = e.isAnimationEnabled() ? e : null; var h = e.get('clip', !0); var f = _(l, r); a.removeClipPath(); var p = e.get('roundCap', !0); var g = e.get('showBackground', !0); var m = e.getModel('backgroundStyle'); var v = m.get('barBorderRadius') || 0; var y = []; var x = this._backgroundEls || []; var b = function (e) { var t = C[l.type](r, e); var i = V(l, n, t); return i.useStyle(m.getBarItemStyle()), l.type === 'cartesian2d' && i.setShape('r', v), y[e] = i, i }; r.diff(s).add(function (t) { var i = r.getItemModel(t); var o = C[l.type](r, t, i); if (g && b(t), r.hasValue(t)) { if (h) { var s = M[l.type](f, o); if (s) return void a.remove(u) } var u = I[l.type](t, o, n, c, !1, p); r.setItemGraphicEl(t, u), a.add(u), L(u, r, t, i, o, e, n, l.type === 'polar') } }).update(function (t, i) { var u = r.getItemModel(t); var d = C[l.type](r, t, u); if (g) { var _; x.length === 0 ? _ = b(i) : (_ = x[i], _.useStyle(m.getBarItemStyle()), l.type === 'cartesian2d' && _.setShape('r', v), y[t] = _); var w = C[l.type](r, t); var S = B(n, w, l); o.updateProps(_, { shape: S }, c, t) } var A = s.getItemGraphicEl(i); if (r.hasValue(t)) { if (h) { var T = M[l.type](f, d); if (T) return void a.remove(A) }A ? o.updateProps(A, { shape: d }, c, t) : A = I[l.type](t, d, n, c, !0, p), r.setItemGraphicEl(t, A), a.add(A), L(A, r, t, u, d, e, n, l.type === 'polar') } else a.remove(A) }).remove(function (e) { var t = s.getItemGraphicEl(e); l.type === 'cartesian2d' ? t && A(e, c, t) : t && T(e, c, t) }).execute(); var w = this._backgroundGroup || (this._backgroundGroup = new d()); w.removeAll(); for (var S = 0; S < y.length; ++S)w.add(y[S]); a.add(w), this._backgroundEls = y, this._data = r }, _renderLarge: function (e, t, i) { this._clear(), O(e, this.group); var n = e.get('clip', !0) ? m(e.coordinateSystem, !1, e) : null; n ? this.group.setClipPath(n) : this.group.removeClipPath() }, _incrementalRenderLarge: function (e, t) { this._removeBackground(), O(t, this.group, !0) }, dispose: r.noop, remove: function (e) { this._clear(e) }, _clear: function (e) { var t = this.group; var i = this._data; e && e.get('animation') && i && !this._isLargeDraw ? (this._removeBackground(), this._backgroundEls = [], i.eachItemGraphicEl(function (t) { t.type === 'sector' ? T(t.dataIndex, e, t) : A(t.dataIndex, e, t) })) : t.removeAll(), this._data = null }, _removeBackground: function () { this.group.remove(this._backgroundGroup), this._backgroundGroup = null } }); var w = Math.max; var S = Math.min; var M = { cartesian2d: function (e, t) { var i = t.width < 0 ? -1 : 1; var n = t.height < 0 ? -1 : 1; i < 0 && (t.x += t.width, t.width = -t.width), n < 0 && (t.y += t.height, t.height = -t.height); var a = w(t.x, e.x); var r = S(t.x + t.width, e.x + e.width); var o = w(t.y, e.y); var s = S(t.y + t.height, e.y + e.height); t.x = a, t.y = o, t.width = r - a, t.height = s - o; var l = t.width < 0 || t.height < 0; return i < 0 && (t.x += t.width, t.width = -t.width), n < 0 && (t.y += t.height, t.height = -t.height), l }, polar: function (e, t) { var i = t.r0 <= t.r ? 1 : -1; if (i < 0) { var n = t.r; t.r = t.r0, t.r0 = n }n = S(t.r, e.r); var a = w(t.r0, e.r0); t.r = n, t.r0 = a; var r = n - a < 0; if (i < 0) { n = t.r; t.r = t.r0, t.r0 = n } return r } }; var I = { cartesian2d: function (e, t, i, n, a) { var s = new o.Rect({ shape: r.extend({}, t), z2: 1 }); if (s.name = 'item', n) { var l = s.shape; var u = i ? 'height' : 'width'; var c = {}; l[u] = 0, c[u] = t[u], o[a ? 'updateProps' : 'initProps'](s, { shape: c }, n, e) } return s }, polar: function (e, t, i, n, a, s) { var l = t.startAngle < t.endAngle; var u = !i && s ? v : o.Sector; var c = new u({ shape: r.defaults({ clockwise: l }, t), z2: 1 }); if (c.name = 'item', n) { var h = c.shape; var d = i ? 'r' : 'endAngle'; var f = {}; h[d] = i ? 0 : t.startAngle, f[d] = t[d], o[a ? 'updateProps' : 'initProps'](c, { shape: f }, n, e) } return c } }; function A (e, t, i) { i.style.text = null, o.updateProps(i, { shape: { width: 0 } }, t, e, function () { i.parent && i.parent.remove(i) }) } function T (e, t, i) { i.style.text = null, o.updateProps(i, { shape: { r: i.shape.r0 } }, t, e, function () { i.parent && i.parent.remove(i) }) } var C = { cartesian2d: function (e, t, i) { var n = e.getItemLayout(t); var a = i ? P(i, n) : 0; var r = n.width > 0 ? 1 : -1; var o = n.height > 0 ? 1 : -1; return { x: n.x + r * a / 2, y: n.y + o * a / 2, width: n.width - r * a, height: n.height - o * a } }, polar: function (e, t, i) { var n = e.getItemLayout(t); return { cx: n.cx, cy: n.cy, r0: n.r0, r: n.r, startAngle: n.startAngle, endAngle: n.endAngle } } }; function D (e) { return e.startAngle != null && e.endAngle != null && e.startAngle === e.endAngle } function L (e, t, i, n, a, s, u, c) { var h = t.getItemVisual(i, 'color'); var d = t.getItemVisual(i, 'opacity'); var f = t.getVisual('borderColor'); var p = n.getModel('itemStyle'); var g = n.getModel('emphasis.itemStyle').getBarItemStyle(); c || e.setShape('r', p.get('barBorderRadius') || 0), e.useStyle(r.defaults({ stroke: D(a) ? 'none' : f, fill: D(a) ? 'none' : h, opacity: d }, p.getBarItemStyle())); var m = n.getShallow('cursor'); m && e.attr('cursor', m); var v = u ? a.height > 0 ? 'bottom' : 'top' : a.width > 0 ? 'left' : 'right'; c || l(e.style, g, n, h, s, i, v), D(a) && (g.fill = g.stroke = 'none'), o.setHoverStyle(e, g) } function P (e, t) { var i = e.get(y) || 0; var n = isNaN(t.width) ? Number.MAX_VALUE : Math.abs(t.width); var a = isNaN(t.height) ? Number.MAX_VALUE : Math.abs(t.height); return Math.min(i, n, a) } var k = h.extend({ type: 'largeBar', shape: { points: [] }, buildPath: function (e, t) { for (var i = t.points, n = this.__startPoint, a = this.__baseDimIdx, r = 0; r < i.length; r += 2)n[a] = i[r + a], e.moveTo(n[0], n[1]), e.lineTo(i[r], i[r + 1]) } }); function O (e, t, i) { var n = e.getData(); var a = []; var r = n.getLayout('valueAxisHorizontal') ? 1 : 0; a[1 - r] = n.getLayout('valueAxisStart'); var o = n.getLayout('largeDataIndices'); var s = n.getLayout('barWidth'); var l = e.getModel('backgroundStyle'); var u = e.get('showBackground', !0); if (u) { var c = n.getLayout('largeBackgroundPoints'); var h = []; h[1 - r] = n.getLayout('backgroundStart'); var d = new k({ shape: { points: c }, incremental: !!i, __startPoint: h, __baseDimIdx: r, __largeDataIndices: o, __barWidth: s, silent: !0, z2: 0 }); z(d, l, n), t.add(d) } var f = new k({ shape: { points: n.getLayout('largePoints') }, incremental: !!i, __startPoint: a, __baseDimIdx: r, __largeDataIndices: o, __barWidth: s }); t.add(f), N(f, e, n), f.seriesIndex = e.seriesIndex, e.get('silent') || (f.on('mousedown', R), f.on('mousemove', R)) } var R = p(function (e) { var t = this; var i = E(t, e.offsetX, e.offsetY); t.dataIndex = i >= 0 ? i : null }, 30, !1); function E (e, t, i) { var n = e.__baseDimIdx; var a = 1 - n; var r = e.shape.points; var o = e.__largeDataIndices; var s = Math.abs(e.__barWidth / 2); var l = e.__startPoint[a]; x[0] = t, x[1] = i; for (var u = x[n], c = x[1 - n], h = u - s, d = u + s, f = 0, p = r.length / 2; f < p; f++) { var g = 2 * f; var m = r[g + n]; var v = r[g + a]; if (m >= h && m <= d && (l <= v ? c >= l && c <= v : c >= v && c <= l)) return o[f] } return -1 } function N (e, t, i) { var n = i.getVisual('borderColor') || i.getVisual('color'); var a = t.getModel('itemStyle').getItemStyle(['color', 'borderColor']); e.useStyle(a), e.style.fill = null, e.style.stroke = n, e.style.lineWidth = i.getLayout('barWidth') } function z (e, t, i) { var n = t.get('borderColor') || t.get('color'); var a = t.getItemStyle(['color', 'borderColor']); e.useStyle(a), e.style.fill = null, e.style.stroke = n, e.style.lineWidth = i.getLayout('barWidth') } function B (e, t, i) { var n; var a = i.type === 'polar'; return n = a ? i.getArea() : i.grid.getRect(), a ? { cx: n.cx, cy: n.cy, r0: e ? n.r0 : t.r0, r: e ? n.r : t.r, startAngle: e ? t.startAngle : 0, endAngle: e ? t.endAngle : 2 * Math.PI } : { x: e ? t.x : n.x, y: e ? n.y : t.y, width: e ? t.width : n.width, height: e ? n.height : t.height } } function V (e, t, i) { var n = e.type === 'polar' ? o.Sector : o.Rect; return new n({ shape: B(t, i, e), silent: !0, z2: 0 }) }e.exports = b }, '68ab': function (e, t, i) { var n = i('4a3f'); var a = n.quadraticProjectPoint; function r (e, t, i, n, r, o, s, l, u) { if (s === 0) return !1; var c = s; if (u > t + c && u > n + c && u > o + c || u < t - c && u < n - c && u < o - c || l > e + c && l > i + c && l > r + c || l < e - c && l < i - c && l < r - c) return !1; var h = a(e, t, i, n, r, o, l, u, null); return h <= c / 2 }t.containStroke = r }, 6932: function (e, t, i) { var n = i('6cb7'); n.registerSubTypeDefaulter('dataZoom', function () { return 'slider' }) }, '697e': function (e, t, i) { var n = i('4e08'); var a = (n.__DEV__, i('6d8b')); var r = i('18c0'); var o = i('89e3'); var s = i('e0d8'); var l = i('3842'); var u = i('9d57'); var c = u.prepareLayoutBarSeries; var h = u.makeColumnLayout; var d = u.retrieveColumnLayout; var f = i('9850'); function p (e, t) { var i; var n; var r; var o = e.type; var s = t.getMin(); var u = t.getMax(); var d = e.getExtent(); o === 'ordinal' ? i = t.getCategories().length : (n = t.get('boundaryGap'), a.isArray(n) || (n = [n || 0, n || 0]), typeof n[0] === 'boolean' && (n = [0, 0]), n[0] = l.parsePercent(n[0], 1), n[1] = l.parsePercent(n[1], 1), r = d[1] - d[0] || Math.abs(d[0])), s === 'dataMin' ? s = d[0] : typeof s === 'function' && (s = s({ min: d[0], max: d[1] })), u === 'dataMax' ? u = d[1] : typeof u === 'function' && (u = u({ min: d[0], max: d[1] })); var f = s != null; var p = u != null; s == null && (s = o === 'ordinal' ? i ? 0 : NaN : d[0] - n[0] * r), u == null && (u = o === 'ordinal' ? i ? i - 1 : NaN : d[1] + n[1] * r), (s == null || !isFinite(s)) && (s = NaN), (u == null || !isFinite(u)) && (u = NaN), e.setBlank(a.eqNaN(s) || a.eqNaN(u) || o === 'ordinal' && !e.getOrdinalMeta().categories.length), t.getNeedCrossZero() && (s > 0 && u > 0 && !f && (s = 0), s < 0 && u < 0 && !p && (u = 0)); var m = t.ecModel; if (m && o === 'time') { var v; var y = c('bar', m); if (a.each(y, function (e) { v |= e.getBaseAxis() === t.axis }), v) { var x = h(y); var _ = g(s, u, t, x); s = _.min, u = _.max } } return { extent: [s, u], fixMin: f, fixMax: p } } function g (e, t, i, n) { var r = i.axis.getExtent(); var o = r[1] - r[0]; var s = d(n, i.axis); if (void 0 === s) return { min: e, max: t }; var l = 1 / 0; a.each(s, function (e) { l = Math.min(e.offset, l) }); var u = -1 / 0; a.each(s, function (e) { u = Math.max(e.offset + e.width, u) }), l = Math.abs(l), u = Math.abs(u); var c = l + u; var h = t - e; var f = 1 - (l + u) / o; var p = h / f - h; return t += p * (u / c), e -= p * (l / c), { min: e, max: t } } function m (e, t) { var i = p(e, t); var n = i.extent; var a = t.get('splitNumber'); e.type === 'log' && (e.base = t.get('logBase')); var r = e.type; e.setExtent(n[0], n[1]), e.niceExtent({ splitNumber: a, fixMin: i.fixMin, fixMax: i.fixMax, minInterval: r === 'interval' || r === 'time' ? t.get('minInterval') : null, maxInterval: r === 'interval' || r === 'time' ? t.get('maxInterval') : null }); var o = t.get('interval'); o != null && e.setInterval && e.setInterval(o) } function v (e, t) { if (t = t || e.get('type'), t) switch (t) { case 'category':return new r(e.getOrdinalMeta ? e.getOrdinalMeta() : e.getCategories(), [1 / 0, -1 / 0]); case 'value':return new o(); default:return (s.getClass(t) || o).create(e) } } function y (e) { var t = e.scale.getExtent(); var i = t[0]; var n = t[1]; return !(i > 0 && n > 0 || i < 0 && n < 0) } function x (e) { var t = e.getLabelModel().get('formatter'); var i = e.type === 'category' ? e.scale.getExtent()[0] : null; return typeof t === 'string' ? (t = (function (t) { return function (i) { return i = e.scale.getLabel(i), t.replace('{value}', i != null ? i : '') } }(t)), t) : typeof t === 'function' ? function (n, a) { return i != null && (a = n - i), t(_(e, n), a) } : function (t) { return e.scale.getLabel(t) } } function _ (e, t) { return e.type === 'category' ? e.scale.getLabel(t) : t } function b (e) { var t = e.model; var i = e.scale; if (t.get('axisLabel.show') && !i.isBlank()) { var n; var a; var r = e.type === 'category'; var o = i.getExtent(); r ? a = i.count() : (n = i.getTicks(), a = n.length); var s; var l = e.getLabelModel(); var u = x(e); var c = 1; a > 40 && (c = Math.ceil(a / 40)); for (var h = 0; h < a; h += c) { var d = n ? n[h] : o[0] + h; var f = u(d); var p = l.getTextRect(f); var g = w(p, l.get('rotate') || 0); s ? s.union(g) : s = g } return s } } function w (e, t) { var i = t * Math.PI / 180; var n = e.plain(); var a = n.width; var r = n.height; var o = a * Math.abs(Math.cos(i)) + Math.abs(r * Math.sin(i)); var s = a * Math.abs(Math.sin(i)) + Math.abs(r * Math.cos(i)); var l = new f(n.x, n.y, o, s); return l } function S (e) { var t = e.get('interval'); return t == null ? 'auto' : t } function M (e) { return e.type === 'category' && S(e.getLabelModel()) === 0 }i('216a'), i('8c2a'), t.getScaleExtent = p, t.niceScaleExtent = m, t.createScaleByModel = v, t.ifAxisCrossZero = y, t.makeLabelFormatter = x, t.getAxisRawValue = _, t.estimateLabelUnionRect = b, t.getOptionCategoryInterval = S, t.shouldShowAllLabels = M }, '697e7': function (e, t, i) { var n = i('de00'); var a = i('22d1'); var r = i('6d8b'); var o = i('d2cf'); var s = i('afa0'); var l = i('ed21'); var u = i('30a3'); var c = i('cdaa'); var h = !a.canvasSupported; var d = { canvas: l }; var f = {}; var p = '4.3.2'; function g (e, t) { var i = new _(n(), e, t); return f[i.id] = i, i } function m (e) { if (e)e.dispose(); else { for (var t in f)f.hasOwnProperty(t) && f[t].dispose(); f = {} } return this } function v (e) { return f[e] } function y (e, t) { d[e] = t } function x (e) { delete f[e] } var _ = function (e, t, i) { i = i || {}, this.dom = t, this.id = e; var n = this; var l = new s(); var f = i.renderer; if (h) { if (!d.vml) throw new Error("You need to require 'zrender/vml/vml' to support IE8"); f = 'vml' } else f && d[f] || (f = 'canvas'); var p = new d[f](t, l, i, e); this.storage = l, this.painter = p; var g = a.node || a.worker ? null : new c(p.getViewportRoot(), p.root); this.handler = new o(l, p, g, p.root), this.animation = new u({ stage: { update: r.bind(this.flush, this) } }), this.animation.start(), this._needsRefresh; var m = l.delFromStorage; var v = l.addToStorage; l.delFromStorage = function (e) { m.call(l, e), e && e.removeSelfFromZr(n) }, l.addToStorage = function (e) { v.call(l, e), e.addSelfToZr(n) } }; _.prototype = { constructor: _, getId: function () { return this.id }, add: function (e) { this.storage.addRoot(e), this._needsRefresh = !0 }, remove: function (e) { this.storage.delRoot(e), this._needsRefresh = !0 }, configLayer: function (e, t) { this.painter.configLayer && this.painter.configLayer(e, t), this._needsRefresh = !0 }, setBackgroundColor: function (e) { this.painter.setBackgroundColor && this.painter.setBackgroundColor(e), this._needsRefresh = !0 }, refreshImmediately: function () { this._needsRefresh = this._needsRefreshHover = !1, this.painter.refresh(), this._needsRefresh = this._needsRefreshHover = !1 }, refresh: function () { this._needsRefresh = !0 }, flush: function () { var e; this._needsRefresh && (e = !0, this.refreshImmediately()), this._needsRefreshHover && (e = !0, this.refreshHoverImmediately()), e && this.trigger('rendered') }, addHover: function (e, t) { if (this.painter.addHover) { var i = this.painter.addHover(e, t); return this.refreshHover(), i } }, removeHover: function (e) { this.painter.removeHover && (this.painter.removeHover(e), this.refreshHover()) }, clearHover: function () { this.painter.clearHover && (this.painter.clearHover(), this.refreshHover()) }, refreshHover: function () { this._needsRefreshHover = !0 }, refreshHoverImmediately: function () { this._needsRefreshHover = !1, this.painter.refreshHover && this.painter.refreshHover() }, resize: function (e) { e = e || {}, this.painter.resize(e.width, e.height), this.handler.resize() }, clearAnimation: function () { this.animation.clear() }, getWidth: function () { return this.painter.getWidth() }, getHeight: function () { return this.painter.getHeight() }, pathToImage: function (e, t) { return this.painter.pathToImage(e, t) }, setCursorStyle: function (e) { this.handler.setCursorStyle(e) }, findHover: function (e, t) { return this.handler.findHover(e, t) }, on: function (e, t, i) { this.handler.on(e, t, i) }, off: function (e, t) { this.handler.off(e, t) }, trigger: function (e, t) { this.handler.trigger(e, t) }, clear: function () { this.storage.delRoot(), this.painter.clear() }, dispose: function () { this.animation.stop(), this.clear(), this.storage.dispose(), this.painter.dispose(), this.handler.dispose(), this.animation = this.storage = this.painter = this.handler = null, x(this.id) } }, t.version = p, t.init = g, t.dispose = m, t.getInstance = v, t.registerPainter = y }, '69ff': function (e, t, i) { var n = i('6d8b'); var a = n.each; var r = n.map; var o = n.isFunction; var s = n.createHashMap; var l = n.noop; var u = i('f47d'); var c = u.createTask; var h = i('8918'); var d = h.getUID; var f = i('7e63'); var p = i('843e'); var g = i('e0d3'); var m = g.normalizeToArray; function v (e, t, i, n) { this.ecInstance = e, this.api = t, this.unfinished; i = this._dataProcessorHandlers = i.slice(), n = this._visualHandlers = n.slice(); this._allHandlers = i.concat(n), this._stageTaskMap = s() } var y = v.prototype; function x (e, t, i, n, r) { var o; function s (e, t) { return e.setDirty && (!e.dirtyMap || e.dirtyMap.get(t.__pipeline.id)) }r = r || {}, a(t, function (t, a) { if (!r.visualType || r.visualType === t.visualType) { var l = e._stageTaskMap.get(t.uid); var u = l.seriesTaskMap; var c = l.overallTask; if (c) { var h; var d = c.agentStubMap; d.each(function (e) { s(r, e) && (e.dirty(), h = !0) }), h && c.dirty(), _(c, n); var f = e.getPerformArgs(c, r.block); d.each(function (e) { e.perform(f) }), o |= c.perform(f) } else u && u.each(function (a, l) { s(r, a) && a.dirty(); var u = e.getPerformArgs(a, r.block); u.skip = !t.performRawSeries && i.isSeriesFiltered(a.context.model), _(a, n), o |= a.perform(u) }) } }), e.unfinished |= o }y.restoreData = function (e, t) { e.restoreData(t), this._stageTaskMap.each(function (e) { var t = e.overallTask; t && t.dirty() }) }, y.getPerformArgs = function (e, t) { if (e.__pipeline) { var i = this._pipelineMap.get(e.__pipeline.id); var n = i.context; var a = !t && i.progressiveEnabled && (!n || n.progressiveRender) && e.__idxInPipeline > i.blockIndex; var r = a ? i.step : null; var o = n && n.modDataCount; var s = o != null ? Math.ceil(o / r) : null; return { step: r, modBy: s, modDataCount: o } } }, y.getPipeline = function (e) { return this._pipelineMap.get(e) }, y.updateStreamModes = function (e, t) { var i = this._pipelineMap.get(e.uid); var n = e.getData(); var a = n.count(); var r = i.progressiveEnabled && t.incrementalPrepareRender && a >= i.threshold; var o = e.get('large') && a >= e.get('largeThreshold'); var s = e.get('progressiveChunkMode') === 'mod' ? a : null; e.pipelineContext = i.context = { progressiveRender: r, modDataCount: s, large: o } }, y.restorePipelines = function (e) { var t = this; var i = t._pipelineMap = s(); e.eachSeries(function (e) { var n = e.getProgressive(); var a = e.uid; i.set(a, { id: a, head: null, tail: null, threshold: e.getProgressiveThreshold(), progressiveEnabled: n && !(e.preventIncremental && e.preventIncremental()), blockIndex: -1, step: Math.round(n || 700), count: 0 }), k(t, e, e.dataTask) }) }, y.prepareStageTasks = function () { var e = this._stageTaskMap; var t = this.ecInstance.getModel(); var i = this.api; a(this._allHandlers, function (n) { var a = e.get(n.uid) || e.set(n.uid, []); n.reset && b(this, n, a, t, i), n.overallReset && w(this, n, a, t, i) }, this) }, y.prepareView = function (e, t, i, n) { var a = e.renderTask; var r = a.context; r.model = t, r.ecModel = i, r.api = n, a.__block = !e.incrementalPrepareRender, k(this, t, a) }, y.performDataProcessorTasks = function (e, t) { x(this, this._dataProcessorHandlers, e, t, { block: !0 }) }, y.performVisualTasks = function (e, t, i) { x(this, this._visualHandlers, e, t, i) }, y.performSeriesTasks = function (e) { var t; e.eachSeries(function (e) { t |= e.dataTask.perform() }), this.unfinished |= t }, y.plan = function () { this._pipelineMap.each(function (e) { var t = e.tail; do { if (t.__block) { e.blockIndex = t.__idxInPipeline; break }t = t.getUpstream() } while (t) }) }; var _ = y.updatePayload = function (e, t) { t !== 'remain' && (e.context.payload = t) }; function b (e, t, i, n, a) { var r = i.seriesTaskMap || (i.seriesTaskMap = s()); var o = t.seriesType; var l = t.getTargetSeries; function u (i) { var o = i.uid; var s = r.get(o) || r.set(o, c({ plan: T, reset: C, count: P })); s.context = { model: i, ecModel: n, api: a, useClearVisual: t.isVisual && !t.isLayout, plan: t.plan, reset: t.reset, scheduler: e }, k(e, i, s) }t.createOnAllSeries ? n.eachRawSeries(u) : o ? n.eachRawSeriesByType(o, u) : l && l(n, a).each(u); var h = e._pipelineMap; r.each(function (e, t) { h.get(t) || (e.dispose(), r.removeKey(t)) }) } function w (e, t, i, n, r) { var o = i.overallTask = i.overallTask || c({ reset: S }); o.context = { ecModel: n, api: r, overallReset: t.overallReset, scheduler: e }; var l = o.agentStubMap = o.agentStubMap || s(); var u = t.seriesType; var h = t.getTargetSeries; var d = !0; var f = t.modifyOutputEnd; function p (t) { var i = t.uid; var n = l.get(i); n || (n = l.set(i, c({ reset: M, onDirty: A })), o.dirty()), n.context = { model: t, overallProgress: d, modifyOutputEnd: f }, n.agent = o, n.__block = d, k(e, t, n) }u ? n.eachRawSeriesByType(u, p) : h ? h(n, r).each(p) : (d = !1, a(n.getSeries(), p)); var g = e._pipelineMap; l.each(function (e, t) { g.get(t) || (e.dispose(), o.dirty(), l.removeKey(t)) }) } function S (e) { e.overallReset(e.ecModel, e.api, e.payload) } function M (e, t) { return e.overallProgress && I } function I () { this.agent.dirty(), this.getDownstream().dirty() } function A () { this.agent && this.agent.dirty() } function T (e) { return e.plan && e.plan(e.model, e.ecModel, e.api, e.payload) } function C (e) { e.useClearVisual && e.data.clearAllVisual(); var t = e.resetDefines = m(e.reset(e.model, e.ecModel, e.api, e.payload)); return t.length > 1 ? r(t, function (e, t) { return L(t) }) : D } var D = L(0); function L (e) { return function (t, i) { var n = i.data; var a = i.resetDefines[e]; if (a && a.dataEach) for (var r = t.start; r < t.end; r++)a.dataEach(n, r); else a && a.progress && a.progress(t, n) } } function P (e) { return e.data.count() } function k (e, t, i) { var n = t.uid; var a = e._pipelineMap.get(n); !a.head && (a.head = i), a.tail && a.tail.pipe(i), a.tail = i, i.__idxInPipeline = a.count++, i.__pipeline = a } function O (e) { R = null; try { e(E, N) } catch (t) {} return R }v.wrapStageHandler = function (e, t) { return o(e) && (e = { overallReset: e, seriesType: O(e) }), e.uid = d('stageHandler'), t && (e.visualType = t), e }; var R; var E = {}; var N = {}; function z (e, t) { for (var i in t.prototype)e[i] = l }z(E, f), z(N, p), E.eachSeriesByType = E.eachRawSeriesByType = function (e) { R = e }, E.eachComponent = function (e) { e.mainType === 'series' && e.subType && (R = e.subType) }; var B = v; e.exports = B }, '6a4c': function (e, t, i) { var n = i('4527'); var a = i('6d8b'); var r = i('0fd3'); var o = i('401b'); function s (e, t, i) { r.call(this, e, t, i), this._lastFrame = 0, this._lastFramePercent = 0 } var l = s.prototype; l.createLine = function (e, t, i) { return new n(e, t, i) }, l.updateAnimationPoints = function (e, t) { this._points = t; for (var i = [0], n = 0, a = 1; a < t.length; a++) { var r = t[a - 1]; var s = t[a]; n += o.dist(r, s), i.push(n) } if (n !== 0) { for (a = 0; a < i.length; a++)i[a] /= n; this._offsets = i, this._length = n } }, l.getLineLength = function (e) { return this._length }, l.updateSymbolPosition = function (e) { var t = e.__t; var i = this._points; var n = this._offsets; var a = i.length; if (n) { var r = this._lastFrame; if (t < this._lastFramePercent) { var s = Math.min(r + 1, a - 1); for (l = s; l >= 0; l--) if (n[l] <= t) break; l = Math.min(l, a - 2) } else { for (var l = r; l < a; l++) if (n[l] > t) break; l = Math.min(l - 1, a - 2) }o.lerp(e.position, i[l], i[l + 1], (t - n[l]) / (n[l + 1] - n[l])); var u = i[l + 1][0] - i[l][0]; var c = i[l + 1][1] - i[l][1]; e.rotation = -Math.atan2(c, u) - Math.PI / 2, this._lastFrame = l, this._lastFramePercent = t, e.ignore = !1 } }, a.inherits(s, r); var u = s; e.exports = u }, '6acf': function (e, t, i) { var n = i('eda2'); var a = i('dcb3'); var r = i('2306'); var o = i('ff2e'); var s = i('1687'); var l = i('fab2'); var u = i('6679'); var c = a.extend({ makeElOption: function (e, t, i, a, r) { var s = i.axis; s.dim === 'angle' && (this.animationThreshold = Math.PI / 18); var l; var u = s.polar; var c = u.getOtherAxis(s); var f = c.getExtent(); l = s['dataTo' + n.capitalFirst(s.dim)](t); var p = a.get('type'); if (p && p !== 'none') { var g = o.buildElStyle(a); var m = d[p](s, u, l, f, g); m.style = g, e.graphicKey = m.type, e.pointer = m } var v = a.get('label.margin'); var y = h(t, i, a, u, v); o.buildLabelElOption(e, i, a, r, y) } }); function h (e, t, i, n, a) { var o = t.axis; var u = o.dataToCoord(e); var c = n.getAngleAxis().getExtent()[0]; c = c / 180 * Math.PI; var h; var d; var f; var p = n.getRadiusAxis().getExtent(); if (o.dim === 'radius') { var g = s.create(); s.rotate(g, g, c), s.translate(g, g, [n.cx, n.cy]), h = r.applyTransform([u, -a], g); var m = t.getModel('axisLabel').get('rotate') || 0; var v = l.innerTextLayout(c, m * Math.PI / 180, -1); d = v.textAlign, f = v.textVerticalAlign } else { var y = p[1]; h = n.coordToPoint([y + a, u]); var x = n.cx; var _ = n.cy; d = Math.abs(h[0] - x) / y < 0.3 ? 'center' : h[0] > x ? 'left' : 'right', f = Math.abs(h[1] - _) / y < 0.3 ? 'middle' : h[1] > _ ? 'top' : 'bottom' } return { position: h, align: d, verticalAlign: f } } var d = { line: function (e, t, i, n, a) { return e.dim === 'angle' ? { type: 'Line', shape: o.makeLineShape(t.coordToPoint([n[0], i]), t.coordToPoint([n[1], i])) } : { type: 'Circle', shape: { cx: t.cx, cy: t.cy, r: i } } }, shadow: function (e, t, i, n, a) { var r = Math.max(1, e.getBandWidth()); var s = Math.PI / 180; return e.dim === 'angle' ? { type: 'Sector', shape: o.makeSectorShape(t.cx, t.cy, n[0], n[1], (-i - r / 2) * s, (r / 2 - i) * s) } : { type: 'Sector', shape: o.makeSectorShape(t.cx, t.cy, i - r / 2, i + r / 2, 0, 2 * Math.PI) } } }; u.registerAxisPointerClass('PolarAxisPointer', c); var f = c; e.exports = f }, '6bd4': function (e, t) { var i = { Russia: [100, 60], 'United States': [-99, 38], 'United States of America': [-99, 38] }; function n (e, t) { if (e === 'world') { var n = i[t.name]; if (n) { var a = t.center; a[0] = n[0], a[1] = n[1] } } }e.exports = n }, '6c12': function (e, t, i) { var n = i('4e08'); var a = (n.__DEV__, i('3eba')); var r = i('6d8b'); var o = i('fab2'); var s = i('2306'); var l = ['axisLine', 'axisTickLabel', 'axisName']; var u = a.extendComponentView({ type: 'radar', render: function (e, t, i) { var n = this.group; n.removeAll(), this._buildAxes(e), this._buildSplitLineAndArea(e) }, _buildAxes: function (e) { var t = e.coordinateSystem; var i = t.getIndicatorAxes(); var n = r.map(i, function (e) { var i = new o(e.model, { position: [t.cx, t.cy], rotation: e.angle, labelDirection: -1, tickDirection: -1, nameDirection: 1 }); return i }); r.each(n, function (e) { r.each(l, e.add, e), this.group.add(e.getGroup()) }, this) }, _buildSplitLineAndArea: function (e) { var t = e.coordinateSystem; var i = t.getIndicatorAxes(); if (i.length) { var n = e.get('shape'); var a = e.getModel('splitLine'); var o = e.getModel('splitArea'); var l = a.getModel('lineStyle'); var u = o.getModel('areaStyle'); var c = a.get('show'); var h = o.get('show'); var d = l.get('color'); var f = u.get('color'); d = r.isArray(d) ? d : [d], f = r.isArray(f) ? f : [f]; var p = []; var g = []; if (n === 'circle') for (var m = i[0].getTicksCoords(), v = t.cx, y = t.cy, x = 0; x < m.length; x++) { if (c) { var _ = C(p, d, x); p[_].push(new s.Circle({ shape: { cx: v, cy: y, r: m[x].coord } })) } if (h && x < m.length - 1) { _ = C(g, f, x); g[_].push(new s.Ring({ shape: { cx: v, cy: y, r0: m[x].coord, r: m[x + 1].coord } })) } } else { var b; var w = r.map(i, function (e, i) { var n = e.getTicksCoords(); return b = b == null ? n.length - 1 : Math.min(n.length - 1, b), r.map(n, function (e) { return t.coordToPoint(e.coord, i) }) }); var S = []; for (x = 0; x <= b; x++) { for (var M = [], I = 0; I < i.length; I++)M.push(w[I][x]); if (M[0] && M.push(M[0].slice()), c) { _ = C(p, d, x); p[_].push(new s.Polyline({ shape: { points: M } })) } if (h && S) { _ = C(g, f, x - 1); g[_].push(new s.Polygon({ shape: { points: M.concat(S) } })) }S = M.slice().reverse() } } var A = l.getLineStyle(); var T = u.getAreaStyle(); r.each(g, function (e, t) { this.group.add(s.mergePath(e, { style: r.defaults({ stroke: 'none', fill: f[t % f.length] }, T), silent: !0 })) }, this), r.each(p, function (e, t) { this.group.add(s.mergePath(e, { style: r.defaults({ fill: 'none', stroke: d[t % d.length] }, A), silent: !0 })) }, this) } function C (e, t, i) { var n = i % t.length; return e[n] = e[n] || [], n } } }); e.exports = u }, '6c12f': function (e, t, i) { var n = i('3eba'); i('2cfc'), i('adf4'), i('255c'); var a = i('527a'); var r = i('71b2'); var o = i('d3f4'); n.registerLayout(a), n.registerVisual(r), n.registerProcessor(o('themeRiver')) }, '6ca2': function (e, t, i) {}, '6cb7': function (e, t, i) { var n = i('6d8b'); var a = i('4319'); var r = i('8918'); var o = i('625e'); var s = o.enableClassManagement; var l = o.parseClassType; var u = i('e0d3'); var c = u.makeInner; var h = i('f934'); var d = i('de1c'); var f = c(); var p = a.extend({ type: 'component', id: '', name: '', mainType: '', subType: '', componentIndex: 0, defaultOption: null, ecModel: null, dependentModels: [], uid: null, layoutMode: null, $constructor: function (e, t, i, n) { a.call(this, e, t, i, n), this.uid = r.getUID('ec_cpt_model') }, init: function (e, t, i, n) { this.mergeDefaultAndTheme(e, i) }, mergeDefaultAndTheme: function (e, t) { var i = this.layoutMode; var a = i ? h.getLayoutParams(e) : {}; var r = t.getTheme(); n.merge(e, r.get(this.mainType)), n.merge(e, this.getDefaultOption()), i && h.mergeLayoutParam(e, a, i) }, mergeOption: function (e, t) { n.merge(this.option, e, !0); var i = this.layoutMode; i && h.mergeLayoutParam(this.option, e, i) }, optionUpdated: function (e, t) {}, getDefaultOption: function () { var e = f(this); if (!e.defaultOption) { var t = []; var i = this.constructor; while (i) { var a = i.prototype.defaultOption; a && t.push(a), i = i.superClass } for (var r = {}, o = t.length - 1; o >= 0; o--)r = n.merge(r, t[o], !0); e.defaultOption = r } return e.defaultOption }, getReferringComponents: function (e) { return this.ecModel.queryComponents({ mainType: e, index: this.get(e + 'Index', !0), id: this.get(e + 'Id', !0) }) } }); function g (e) { var t = []; return n.each(p.getClassesByMainType(e), function (e) { t = t.concat(e.prototype.dependencies || []) }), t = n.map(t, function (e) { return l(e).main }), e !== 'dataset' && n.indexOf(t, 'dataset') <= 0 && t.unshift('dataset'), t }s(p, { registerWhenExtend: !0 }), r.enableSubTypeDefaulter(p), r.enableTopologicalTravel(p, g), n.mixin(p, d); var m = p; e.exports = m }, '6cc5': function (e, t, i) { var n = i('6d8b'); var a = i('401b'); var r = i('1687'); var o = i('9850'); var s = i('0cde'); var l = a.applyTransform; function u () { s.call(this) } function c (e) { this.name = e, this.zoomLimit, s.call(this), this._roamTransformable = new u(), this._rawTransformable = new u(), this._center, this._zoom } function h (e, t, i, n) { var a = i.seriesModel; var r = a ? a.coordinateSystem : null; return r === this ? r[e](n) : null }n.mixin(u, s), c.prototype = { constructor: c, type: 'view', dimensions: ['x', 'y'], setBoundingRect: function (e, t, i, n) { return this._rect = new o(e, t, i, n), this._rect }, getBoundingRect: function () { return this._rect }, setViewRect: function (e, t, i, n) { this.transformTo(e, t, i, n), this._viewRect = new o(e, t, i, n) }, transformTo: function (e, t, i, n) { var a = this.getBoundingRect(); var r = this._rawTransformable; r.transform = a.calculateTransform(new o(e, t, i, n)), r.decomposeTransform(), this._updateTransform() }, setCenter: function (e) { e && (this._center = e, this._updateCenterAndZoom()) }, setZoom: function (e) { e = e || 1; var t = this.zoomLimit; t && (t.max != null && (e = Math.min(t.max, e)), t.min != null && (e = Math.max(t.min, e))), this._zoom = e, this._updateCenterAndZoom() }, getDefaultCenter: function () { var e = this.getBoundingRect(); var t = e.x + e.width / 2; var i = e.y + e.height / 2; return [t, i] }, getCenter: function () { return this._center || this.getDefaultCenter() }, getZoom: function () { return this._zoom || 1 }, getRoamTransform: function () { return this._roamTransformable.getLocalTransform() }, _updateCenterAndZoom: function () { var e = this._rawTransformable.getLocalTransform(); var t = this._roamTransformable; var i = this.getDefaultCenter(); var n = this.getCenter(); var r = this.getZoom(); n = a.applyTransform([], n, e), i = a.applyTransform([], i, e), t.origin = n, t.position = [i[0] - n[0], i[1] - n[1]], t.scale = [r, r], this._updateTransform() }, _updateTransform: function () { var e = this._roamTransformable; var t = this._rawTransformable; t.parent = e, e.updateTransform(), t.updateTransform(), r.copy(this.transform || (this.transform = []), t.transform || r.create()), this._rawTransform = t.getLocalTransform(), this.invTransform = this.invTransform || [], r.invert(this.invTransform, this.transform), this.decomposeTransform() }, getTransformInfo: function () { var e = this._roamTransformable.transform; var t = this._rawTransformable; return { roamTransform: e ? n.slice(e) : r.create(), rawScale: n.slice(t.scale), rawPosition: n.slice(t.position) } }, getViewRect: function () { return this._viewRect }, getViewRectAfterRoam: function () { var e = this.getBoundingRect().clone(); return e.applyTransform(this.transform), e }, dataToPoint: function (e, t, i) { var n = t ? this._rawTransform : this.transform; return i = i || [], n ? l(i, e, n) : a.copy(i, e) }, pointToData: function (e) { var t = this.invTransform; return t ? l([], e, t) : [e[0], e[1]] }, convertToPixel: n.curry(h, 'dataToPoint'), convertFromPixel: n.curry(h, 'pointToData'), containPoint: function (e) { return this.getViewRectAfterRoam().contain(e[0], e[1]) } }, n.mixin(c, s); var d = c; e.exports = d }, '6cd8': function (e, t, i) { var n = i('6d8b'); var a = i('2306'); var r = i('1418'); var o = i('22da'); var s = o.radialCoordinate; var l = i('3eba'); var u = i('e263'); var c = i('6cc5'); var h = i('01ef'); var d = i('4a01'); var f = i('c526'); var p = f.onIrrelevantElement; var g = i('4e08'); var m = (g.__DEV__, i('3842')); var v = m.parsePercent; var y = a.extendShape({ shape: { parentPoint: [], childPoints: [], orient: '', forkPosition: '' }, style: { stroke: '#000', fill: null }, buildPath: function (e, t) { var i = t.childPoints; var n = i.length; var a = t.parentPoint; var r = i[0]; var o = i[n - 1]; if (n === 1) return e.moveTo(a[0], a[1]), void e.lineTo(r[0], r[1]); var s = t.orient; var l = s === 'TB' || s === 'BT' ? 0 : 1; var u = 1 - l; var c = v(t.forkPosition, 1); var h = []; h[l] = a[l], h[u] = a[u] + (o[u] - a[u]) * c, e.moveTo(a[0], a[1]), e.lineTo(h[0], h[1]), e.moveTo(r[0], r[1]), h[l] = r[l], e.lineTo(h[0], h[1]), h[l] = o[l], e.lineTo(h[0], h[1]), e.lineTo(o[0], o[1]); for (var d = 1; d < n - 1; d++) { var f = i[d]; e.moveTo(f[0], f[1]), h[l] = f[l], e.lineTo(h[0], h[1]) } } }); var x = l.extendChartView({ type: 'tree', init: function (e, t) { this._oldTree, this._mainGroup = new a.Group(), this._controller = new d(t.getZr()), this._controllerHost = { target: this.group }, this.group.add(this._mainGroup) }, render: function (e, t, i, n) { var a = e.getData(); var r = e.layoutInfo; var o = this._mainGroup; var s = e.get('layout'); s === 'radial' ? o.attr('position', [r.x + r.width / 2, r.y + r.height / 2]) : o.attr('position', [r.x, r.y]), this._updateViewCoordSys(e, r, s), this._updateController(e, t, i); var l = this._data; var u = { expandAndCollapse: e.get('expandAndCollapse'), layout: s, edgeShape: e.get('edgeShape'), edgeForkPosition: e.get('edgeForkPosition'), orient: e.getOrient(), curvature: e.get('lineStyle.curveness'), symbolRotate: e.get('symbolRotate'), symbolOffset: e.get('symbolOffset'), hoverAnimation: e.get('hoverAnimation'), useNameLabel: !0, fadeIn: !0 }; a.diff(l).add(function (t) { _(a, t) && w(a, t, null, o, e, u) }).update(function (t, i) { var n = l.getItemGraphicEl(i); _(a, t) ? w(a, t, n, o, e, u) : n && M(l, i, n, o, e, u) }).remove(function (t) { var i = l.getItemGraphicEl(t); i && M(l, t, i, o, e, u) }).execute(), this._nodeScaleRatio = e.get('nodeScaleRatio'), this._updateNodeAndLinkScale(e), !0 === u.expandAndCollapse && a.eachItemGraphicEl(function (t, n) { t.off('click').on('click', function () { i.dispatchAction({ type: 'treeExpandAndCollapse', seriesId: e.id, dataIndex: n }) }) }), this._data = a }, _updateViewCoordSys: function (e) { var t = e.getData(); var i = []; t.each(function (e) { var n = t.getItemLayout(e); !n || isNaN(n.x) || isNaN(n.y) || i.push([+n.x, +n.y]) }); var n = []; var a = []; u.fromPoints(i, n, a); var r = this._min; var o = this._max; a[0] - n[0] === 0 && (n[0] = r ? r[0] : n[0] - 1, a[0] = o ? o[0] : a[0] + 1), a[1] - n[1] === 0 && (n[1] = r ? r[1] : n[1] - 1, a[1] = o ? o[1] : a[1] + 1); var s = e.coordinateSystem = new c(); s.zoomLimit = e.get('scaleLimit'), s.setBoundingRect(n[0], n[1], a[0] - n[0], a[1] - n[1]), s.setCenter(e.get('center')), s.setZoom(e.get('zoom')), this.group.attr({ position: s.position, scale: s.scale }), this._viewCoordSys = s, this._min = n, this._max = a }, _updateController: function (e, t, i) { var n = this._controller; var a = this._controllerHost; var r = this.group; n.setPointerChecker(function (t, n, a) { var o = r.getBoundingRect(); return o.applyTransform(r.transform), o.contain(n, a) && !p(t, i, e) }), n.enable(e.get('roam')), a.zoomLimit = e.get('scaleLimit'), a.zoom = e.coordinateSystem.getZoom(), n.off('pan').off('zoom').on('pan', function (t) { h.updateViewOnPan(a, t.dx, t.dy), i.dispatchAction({ seriesId: e.id, type: 'treeRoam', dx: t.dx, dy: t.dy }) }, this).on('zoom', function (t) { h.updateViewOnZoom(a, t.scale, t.originX, t.originY), i.dispatchAction({ seriesId: e.id, type: 'treeRoam', zoom: t.scale, originX: t.originX, originY: t.originY }), this._updateNodeAndLinkScale(e) }, this) }, _updateNodeAndLinkScale: function (e) { var t = e.getData(); var i = this._getNodeGlobalScale(e); var n = [i, i]; t.eachItemGraphicEl(function (e, t) { e.attr('scale', n) }) }, _getNodeGlobalScale: function (e) { var t = e.coordinateSystem; if (t.type !== 'view') return 1; var i = this._nodeScaleRatio; var n = t.scale; var a = n && n[0] || 1; var r = t.getZoom(); var o = (r - 1) * i + 1; return o / a }, dispose: function () { this._controller && this._controller.dispose(), this._controllerHost = {} }, remove: function () { this._mainGroup.removeAll(), this._data = null } }); function _ (e, t) { var i = e.getItemLayout(t); return i && !isNaN(i.x) && !isNaN(i.y) && e.getItemVisual(t, 'symbol') !== 'none' } function b (e, t, i) { return i.itemModel = t, i.itemStyle = t.getModel('itemStyle').getItemStyle(), i.hoverItemStyle = t.getModel('emphasis.itemStyle').getItemStyle(), i.lineStyle = t.getModel('lineStyle').getLineStyle(), i.labelModel = t.getModel('label'), i.hoverLabelModel = t.getModel('emphasis.label'), !1 === e.isExpand && e.children.length !== 0 ? i.symbolInnerColor = i.itemStyle.fill : i.symbolInnerColor = '#fff', i } function w (e, t, i, n, o, s) { var l = !i; var u = e.tree.getNodeByDataIndex(t); var c = u.getModel(); var h = (s = b(u, c, s), e.tree.root); var d = u.parentNode === h ? u : u.parentNode || u; var f = e.getItemGraphicEl(d.dataIndex); var p = d.getLayout(); var g = f ? { x: f.position[0], y: f.position[1], rawX: f.__radialOldRawX, rawY: f.__radialOldRawY } : p; var m = u.getLayout(); l ? (i = new r(e, t, s), i.attr('position', [g.x, g.y])) : i.updateData(e, t, s), i.__radialOldRawX = i.__radialRawX, i.__radialOldRawY = i.__radialRawY, i.__radialRawX = m.rawX, i.__radialRawY = m.rawY, n.add(i), e.setItemGraphicEl(t, i), a.updateProps(i, { position: [m.x, m.y] }, o); var v = i.getSymbolPath(); if (s.layout === 'radial') { var y; var x; var _ = h.children[0]; var w = _.getLayout(); var M = _.children.length; if (m.x === w.x && !0 === u.isExpand) { var I = {}; I.x = (_.children[0].getLayout().x + _.children[M - 1].getLayout().x) / 2, I.y = (_.children[0].getLayout().y + _.children[M - 1].getLayout().y) / 2, y = Math.atan2(I.y - w.y, I.x - w.x), y < 0 && (y = 2 * Math.PI + y), x = I.x < w.x, x && (y -= Math.PI) } else y = Math.atan2(m.y - w.y, m.x - w.x), y < 0 && (y = 2 * Math.PI + y), u.children.length === 0 || u.children.length !== 0 && !1 === u.isExpand ? (x = m.x < w.x, x && (y -= Math.PI)) : (x = m.x > w.x, x || (y -= Math.PI)); var A = x ? 'left' : 'right'; var T = s.labelModel.get('rotate'); var C = T * (Math.PI / 180); v.setStyle({ textPosition: s.labelModel.get('position') || A, textRotation: T == null ? -y : C, textOrigin: 'center', verticalAlign: 'middle' }) }S(o, u, h, i, g, p, m, n, s) } function S (e, t, i, r, o, s, l, u, c) { var h = c.edgeShape; var d = r.__edge; if (h === 'curve')t.parentNode && t.parentNode !== i && (d || (d = r.__edge = new a.BezierCurve({ shape: I(c, o, o), style: n.defaults({ opacity: 0, strokeNoScale: !0 }, c.lineStyle) })), a.updateProps(d, { shape: I(c, s, l), style: n.defaults({ opacity: 1 }, c.lineStyle) }, e)); else if (h === 'polyline' && c.layout === 'orthogonal' && t !== i && t.children && t.children.length !== 0 && !0 === t.isExpand) { for (var f = t.children, p = [], g = 0; g < f.length; g++) { var m = f[g].getLayout(); p.push([m.x, m.y]) }d || (d = r.__edge = new y({ shape: { parentPoint: [l.x, l.y], childPoints: [[l.x, l.y]], orient: c.orient, forkPosition: c.edgeForkPosition }, style: n.defaults({ opacity: 0, strokeNoScale: !0 }, c.lineStyle) })), a.updateProps(d, { shape: { parentPoint: [l.x, l.y], childPoints: p }, style: n.defaults({ opacity: 1 }, c.lineStyle) }, e) }u.add(d) } function M (e, t, i, n, r, o) { var s; var l = e.tree.getNodeByDataIndex(t); var u = e.tree.root; var c = l.getModel(); var h = (o = b(l, c, o), l.parentNode === u ? l : l.parentNode || l); var d = o.edgeShape; while (s = h.getLayout(), s == null)h = h.parentNode === u ? h : h.parentNode || h; a.updateProps(i, { position: [s.x + 1, s.y + 1] }, r, function () { n.remove(i), e.setItemGraphicEl(t, null) }), i.fadeOut(null, { keepLabel: !0 }); var f = e.getItemGraphicEl(h.dataIndex); var p = f.__edge; var g = i.__edge || (!1 === h.isExpand || h.children.length === 1 ? p : void 0); d = o.edgeShape; g && (d === 'curve' ? a.updateProps(g, { shape: I(o, s, s), style: { opacity: 0 } }, r, function () { n.remove(g) }) : d === 'polyline' && o.layout === 'orthogonal' && a.updateProps(g, { shape: { parentPoint: [s.x, s.y], childPoints: [[s.x, s.y]] }, style: { opacity: 0 } }, r, function () { n.remove(g) })) } function I (e, t, i) { var n; var a; var r; var o; var l; var u; var c; var h; var d = e.orient; if (e.layout === 'radial') { l = t.rawX, c = t.rawY, u = i.rawX, h = i.rawY; var f = s(l, c); var p = s(l, c + (h - c) * e.curvature); var g = s(u, h + (c - h) * e.curvature); var m = s(u, h); return { x1: f.x, y1: f.y, x2: m.x, y2: m.y, cpx1: p.x, cpy1: p.y, cpx2: g.x, cpy2: g.y } } return l = t.x, c = t.y, u = i.x, h = i.y, d !== 'LR' && d !== 'RL' || (n = l + (u - l) * e.curvature, a = c, r = u + (l - u) * e.curvature, o = h), d !== 'TB' && d !== 'BT' || (n = l, a = c + (h - c) * e.curvature, r = u, o = h + (c - h) * e.curvature), { x1: l, y1: c, x2: u, y2: h, cpx1: n, cpy1: a, cpx2: r, cpy2: o } }e.exports = x }, '6d8b': function (e, t) { var i = { '[object Function]': 1, '[object RegExp]': 1, '[object Date]': 1, '[object Error]': 1, '[object CanvasGradient]': 1, '[object CanvasPattern]': 1, '[object Image]': 1, '[object Canvas]': 1 }; var n = { '[object Int8Array]': 1, '[object Uint8Array]': 1, '[object Uint8ClampedArray]': 1, '[object Int16Array]': 1, '[object Uint16Array]': 1, '[object Int32Array]': 1, '[object Uint32Array]': 1, '[object Float32Array]': 1, '[object Float64Array]': 1 }; var a = Object.prototype.toString; var r = Array.prototype; var o = r.forEach; var s = r.filter; var l = r.slice; var u = r.map; var c = r.reduce; var h = {}; function d (e, t) { e === 'createCanvas' && (y = null), h[e] = t } function f (e) { if (e == null || typeof e !== 'object') return e; var t = e; var r = a.call(e); if (r === '[object Array]') { if (!q(e)) { t = []; for (var o = 0, s = e.length; o < s; o++)t[o] = f(e[o]) } } else if (n[r]) { if (!q(e)) { var l = e.constructor; if (e.constructor.from)t = l.from(e); else { t = new l(e.length); for (o = 0, s = e.length; o < s; o++)t[o] = f(e[o]) } } } else if (!i[r] && !q(e) && !B(e)) for (var u in t = {}, e)e.hasOwnProperty(u) && (t[u] = f(e[u])); return t } function p (e, t, i) { if (!E(t) || !E(e)) return i ? f(t) : e; for (var n in t) if (t.hasOwnProperty(n)) { var a = e[n]; var r = t[n]; !E(r) || !E(a) || k(r) || k(a) || B(r) || B(a) || N(r) || N(a) || q(r) || q(a) ? !i && n in e || (e[n] = f(t[n], !0)) : p(a, r, i) } return e } function g (e, t) { for (var i = e[0], n = 1, a = e.length; n < a; n++)i = p(i, e[n], t); return i } function m (e, t) { for (var i in t)t.hasOwnProperty(i) && (e[i] = t[i]); return e } function v (e, t, i) { for (var n in t)t.hasOwnProperty(n) && (i ? t[n] != null : e[n] == null) && (e[n] = t[n]); return e } var y; var x = function () { return h.createCanvas() }; function _ () { return y || (y = x().getContext('2d')), y } function b (e, t) { if (e) { if (e.indexOf) return e.indexOf(t); for (var i = 0, n = e.length; i < n; i++) if (e[i] === t) return i } return -1 } function w (e, t) { var i = e.prototype; function n () {} for (var a in n.prototype = t.prototype, e.prototype = new n(), i)i.hasOwnProperty(a) && (e.prototype[a] = i[a]); e.prototype.constructor = e, e.superClass = t } function S (e, t, i) { e = 'prototype' in e ? e.prototype : e, t = 'prototype' in t ? t.prototype : t, v(e, t, i) } function M (e) { if (e) return typeof e !== 'string' && typeof e.length === 'number' } function I (e, t, i) { if (e && t) if (e.forEach && e.forEach === o)e.forEach(t, i); else if (e.length === +e.length) for (var n = 0, a = e.length; n < a; n++)t.call(i, e[n], n, e); else for (var r in e)e.hasOwnProperty(r) && t.call(i, e[r], r, e) } function A (e, t, i) { if (e && t) { if (e.map && e.map === u) return e.map(t, i); for (var n = [], a = 0, r = e.length; a < r; a++)n.push(t.call(i, e[a], a, e)); return n } } function T (e, t, i, n) { if (e && t) { if (e.reduce && e.reduce === c) return e.reduce(t, i, n); for (var a = 0, r = e.length; a < r; a++)i = t.call(n, i, e[a], a, e); return i } } function C (e, t, i) { if (e && t) { if (e.filter && e.filter === s) return e.filter(t, i); for (var n = [], a = 0, r = e.length; a < r; a++)t.call(i, e[a], a, e) && n.push(e[a]); return n } } function D (e, t, i) { if (e && t) for (var n = 0, a = e.length; n < a; n++) if (t.call(i, e[n], n, e)) return e[n] } function L (e, t) { var i = l.call(arguments, 2); return function () { return e.apply(t, i.concat(l.call(arguments))) } } function P (e) { var t = l.call(arguments, 1); return function () { return e.apply(this, t.concat(l.call(arguments))) } } function k (e) { return a.call(e) === '[object Array]' } function O (e) { return typeof e === 'function' } function R (e) { return a.call(e) === '[object String]' } function E (e) { var t = typeof e; return t === 'function' || !!e && t === 'object' } function N (e) { return !!i[a.call(e)] } function z (e) { return !!n[a.call(e)] } function B (e) { return typeof e === 'object' && typeof e.nodeType === 'number' && typeof e.ownerDocument === 'object' } function V (e) { return e !== e } function G (e) { for (var t = 0, i = arguments.length; t < i; t++) if (arguments[t] != null) return arguments[t] } function F (e, t) { return e != null ? e : t } function H (e, t, i) { return e != null ? e : t != null ? t : i } function W () { return Function.call.apply(l, arguments) } function U (e) { if (typeof e === 'number') return [e, e, e, e]; var t = e.length; return t === 2 ? [e[0], e[1], e[0], e[1]] : t === 3 ? [e[0], e[1], e[2], e[1]] : e } function Z (e, t) { if (!e) throw new Error(t) } function Y (e) { return e == null ? null : typeof e.trim === 'function' ? e.trim() : e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g, '') }h.createCanvas = function () { return document.createElement('canvas') }; var j = '__ec_primitive__'; function X (e) { e[j] = !0 } function q (e) { return e[j] } function $ (e) { var t = k(e); this.data = {}; var i = this; function n (e, n) { t ? i.set(e, n) : i.set(n, e) }e instanceof $ ? e.each(n) : e && I(e, n) } function K (e) { return new $(e) } function J (e, t) { for (var i = new e.constructor(e.length + t.length), n = 0; n < e.length; n++)i[n] = e[n]; var a = e.length; for (n = 0; n < t.length; n++)i[n + a] = t[n]; return i } function Q () {}$.prototype = { constructor: $, get: function (e) { return this.data.hasOwnProperty(e) ? this.data[e] : null }, set: function (e, t) { return this.data[e] = t }, each: function (e, t) { for (var i in void 0 !== t && (e = L(e, t)), this.data) this.data.hasOwnProperty(i) && e(this.data[i], i) }, removeKey: function (e) { delete this.data[e] } }, t.$override = d, t.clone = f, t.merge = p, t.mergeAll = g, t.extend = m, t.defaults = v, t.createCanvas = x, t.getContext = _, t.indexOf = b, t.inherits = w, t.mixin = S, t.isArrayLike = M, t.each = I, t.map = A, t.reduce = T, t.filter = C, t.find = D, t.bind = L, t.curry = P, t.isArray = k, t.isFunction = O, t.isString = R, t.isObject = E, t.isBuiltInObject = N, t.isTypedArray = z, t.isDom = B, t.eqNaN = V, t.retrieve = G, t.retrieve2 = F, t.retrieve3 = H, t.slice = W, t.normalizeCssArray = U, t.assert = Z, t.trim = Y, t.setAsPrimitive = X, t.isPrimitive = q, t.createHashMap = K, t.concatArray = J, t.noop = Q }, '6d9a': function (e, t) { function i (e, t, i) { var n; var a = [e]; var r = []; while (n = a.pop()) if (r.push(n), n.isExpand) { var o = n.children; if (o.length) for (var s = 0; s < o.length; s++)a.push(o[s]) } while (n = r.pop())t(n, i) } function n (e, t) { var i; var n = [e]; while (i = n.pop()) if (t(i), i.isExpand) { var a = i.children; if (a.length) for (var r = a.length - 1; r >= 0; r--)n.push(a[r]) } }t.eachAfter = i, t.eachBefore = n }, '6f53': function (e, t, i) { var n = i('83ab'); var a = i('df75'); var r = i('fc6a'); var o = i('d1e7').f; var s = function (e) { return function (t) { var i; var s = r(t); var l = a(s); var u = l.length; var c = 0; var h = []; while (u > c)i = l[c++], n && !o.call(s, i) || h.push(e ? [i, s[i]] : s[i]); return h } }; e.exports = { entries: s(!0), values: s(!1) } }, '6fda': function (e, t, i) { var n = i('6d8b'); var a = n.each; var r = '\0_ec_hist_store'; function o (e, t) { var i = c(e); a(t, function (t, n) { for (var a = i.length - 1; a >= 0; a--) { var r = i[a]; if (r[n]) break } if (a < 0) { var o = e.queryComponents({ mainType: 'dataZoom', subType: 'select', id: n })[0]; if (o) { var s = o.getPercentRange(); i[0][n] = { dataZoomId: n, start: s[0], end: s[1] } } } }), i.push(t) } function s (e) { var t = c(e); var i = t[t.length - 1]; t.length > 1 && t.pop(); var n = {}; return a(i, function (e, i) { for (var a = t.length - 1; a >= 0; a--) { e = t[a][i]; if (e) { n[i] = e; break } } }), n } function l (e) { e[r] = null } function u (e) { return c(e).length } function c (e) { var t = e[r]; return t || (t = e[r] = [{}]), t }t.push = o, t.pop = s, t.clear = l, t.count = u }, 7023: function (e, t, i) { var n = i('6d8b'); var a = { updateSelectedMap: function (e) { this._targetList = n.isArray(e) ? e.slice() : [], this._selectTargetMap = n.reduce(e || [], function (e, t) { return e.set(t.name, t), e }, n.createHashMap()) }, select: function (e, t) { var i = t != null ? this._targetList[t] : this._selectTargetMap.get(e); var n = this.get('selectedMode'); n === 'single' && this._selectTargetMap.each(function (e) { e.selected = !1 }), i && (i.selected = !0) }, unSelect: function (e, t) { var i = t != null ? this._targetList[t] : this._selectTargetMap.get(e); i && (i.selected = !1) }, toggleSelected: function (e, t) { var i = t != null ? this._targetList[t] : this._selectTargetMap.get(e); if (i != null) return this[i.selected ? 'unSelect' : 'select'](e, t), i.selected }, isSelected: function (e, t) { var i = t != null ? this._targetList[t] : this._selectTargetMap.get(e); return i && i.selected } }; e.exports = a }, '71ad': function (e, t, i) { var n = i('6d8b'); var a = { show: !0, zlevel: 0, z: 0, inverse: !1, name: '', nameLocation: 'end', nameRotate: null, nameTruncate: { maxWidth: null, ellipsis: '...', placeholder: '.' }, nameTextStyle: {}, nameGap: 15, silent: !1, triggerEvent: !1, tooltip: { show: !1 }, axisPointer: {}, axisLine: { show: !0, onZero: !0, onZeroAxisIndex: null, lineStyle: { color: '#333', width: 1, type: 'solid' }, symbol: ['none', 'none'], symbolSize: [10, 15] }, axisTick: { show: !0, inside: !1, length: 5, lineStyle: { width: 1 } }, axisLabel: { show: !0, inside: !1, rotate: 0, showMinLabel: null, showMaxLabel: null, margin: 8, fontSize: 12 }, splitLine: { show: !0, lineStyle: { color: ['#ccc'], width: 1, type: 'solid' } }, splitArea: { show: !1, areaStyle: { color: ['rgba(250,250,250,0.3)', 'rgba(200,200,200,0.3)'] } } }; var r = {}; r.categoryAxis = n.merge({ boundaryGap: !0, deduplication: null, splitLine: { show: !1 }, axisTick: { alignWithLabel: !1, interval: 'auto' }, axisLabel: { interval: 'auto' } }, a), r.valueAxis = n.merge({ boundaryGap: [0, 0], splitNumber: 5, minorTick: { show: !1, splitNumber: 5, length: 3, lineStyle: {} }, minorSplitLine: { show: !1, lineStyle: { color: '#eee', width: 1 } } }, a), r.timeAxis = n.defaults({ scale: !0, min: 'dataMin', max: 'dataMax' }, r.valueAxis), r.logAxis = n.defaults({ scale: !0, logBase: 10 }, r.valueAxis); var o = r; e.exports = o }, '71b2': function (e, t, i) { var n = i('6d8b'); var a = n.createHashMap; function r (e) { e.eachSeriesByType('themeRiver', function (e) { var t = e.getData(); var i = e.getRawData(); var n = e.get('color'); var r = a(); t.each(function (e) { r.set(t.getRawIndex(e), e) }), i.each(function (a) { var o = i.getName(a); var s = n[(e.nameMap.get(o) - 1) % n.length]; i.setItemVisual(a, 'color', s); var l = r.get(a); l != null && t.setItemVisual(l, 'color', s) }) }) }e.exports = r }, '722f5': function (e, t, i) { 'use strict'; i('6ca2') }, 7293: function (e, t, i) { var n = i('4e08'); var a = (n.__DEV__, i('4f85')); var r = i('6179'); var o = i('6d8b'); var s = o.concatArray; var l = o.mergeAll; var u = o.map; var c = i('eda2'); var h = c.encodeHTML; var d = (i('2039'), typeof Uint32Array === 'undefined' ? Array : Uint32Array); var f = typeof Float64Array === 'undefined' ? Array : Float64Array; function p (e) { var t = e.data; t && t[0] && t[0][0] && t[0][0].coord && (e.data = u(t, function (e) { var t = [e[0].coord, e[1].coord]; var i = { coords: t }; return e[0].name && (i.fromName = e[0].name), e[1].name && (i.toName = e[1].name), l([i, e[0], e[1]]) })) } var g = a.extend({ type: 'series.lines', dependencies: ['grid', 'polar'], visualColorAccessPath: 'lineStyle.color', init: function (e) { e.data = e.data || [], p(e); var t = this._processFlatCoordsArray(e.data); this._flatCoords = t.flatCoords, this._flatCoordsOffset = t.flatCoordsOffset, t.flatCoords && (e.data = new Float32Array(t.count)), g.superApply(this, 'init', arguments) }, mergeOption: function (e) { if (p(e), e.data) { var t = this._processFlatCoordsArray(e.data); this._flatCoords = t.flatCoords, this._flatCoordsOffset = t.flatCoordsOffset, t.flatCoords && (e.data = new Float32Array(t.count)) }g.superApply(this, 'mergeOption', arguments) }, appendData: function (e) { var t = this._processFlatCoordsArray(e.data); t.flatCoords && (this._flatCoords ? (this._flatCoords = s(this._flatCoords, t.flatCoords), this._flatCoordsOffset = s(this._flatCoordsOffset, t.flatCoordsOffset)) : (this._flatCoords = t.flatCoords, this._flatCoordsOffset = t.flatCoordsOffset), e.data = new Float32Array(t.count)), this.getRawData().appendData(e.data) }, _getCoordsFromItemModel: function (e) { var t = this.getData().getItemModel(e); var i = t.option instanceof Array ? t.option : t.getShallow('coords'); return i }, getLineCoordsCount: function (e) { return this._flatCoordsOffset ? this._flatCoordsOffset[2 * e + 1] : this._getCoordsFromItemModel(e).length }, getLineCoords: function (e, t) { if (this._flatCoordsOffset) { for (var i = this._flatCoordsOffset[2 * e], n = this._flatCoordsOffset[2 * e + 1], a = 0; a < n; a++)t[a] = t[a] || [], t[a][0] = this._flatCoords[i + 2 * a], t[a][1] = this._flatCoords[i + 2 * a + 1]; return n } var r = this._getCoordsFromItemModel(e); for (a = 0; a < r.length; a++)t[a] = t[a] || [], t[a][0] = r[a][0], t[a][1] = r[a][1]; return r.length }, _processFlatCoordsArray: function (e) { var t = 0; if (this._flatCoords && (t = this._flatCoords.length), typeof e[0] === 'number') { for (var i = e.length, n = new d(i), a = new f(i), r = 0, o = 0, s = 0, l = 0; l < i;) { s++; var u = e[l++]; n[o++] = r + t, n[o++] = u; for (var c = 0; c < u; c++) { var h = e[l++]; var p = e[l++]; a[r++] = h, a[r++] = p } } return { flatCoordsOffset: new Uint32Array(n.buffer, 0, o), flatCoords: a, count: s } } return { flatCoordsOffset: null, flatCoords: null, count: e.length } }, getInitialData: function (e, t) { var i = new r(['value'], this); return i.hasItemOption = !1, i.initData(e.data, [], function (e, t, n, a) { if (e instanceof Array) return NaN; i.hasItemOption = !0; var r = e.value; return r != null ? r instanceof Array ? r[a] : r : void 0 }), i }, formatTooltip: function (e) { var t = this.getData(); var i = t.getItemModel(e); var n = i.get('name'); if (n) return n; var a = i.get('fromName'); var r = i.get('toName'); var o = []; return a != null && o.push(a), r != null && o.push(r), h(o.join(' > ')) }, preventIncremental: function () { return !!this.get('effect.show') }, getProgressive: function () { var e = this.option.progressive; return e == null ? this.option.large ? 1e4 : this.get('progressive') : e }, getProgressiveThreshold: function () { var e = this.option.progressiveThreshold; return e == null ? this.option.large ? 2e4 : this.get('progressiveThreshold') : e }, defaultOption: { coordinateSystem: 'geo', zlevel: 0, z: 2, legendHoverLink: !0, hoverAnimation: !0, xAxisIndex: 0, yAxisIndex: 0, symbol: ['none', 'none'], symbolSize: [10, 10], geoIndex: 0, effect: { show: !1, period: 4, constantSpeed: 0, symbol: 'circle', symbolSize: 3, loop: !0, trailLength: 0.2 }, large: !1, largeThreshold: 2e3, polyline: !1, clip: !0, label: { show: !1, position: 'end' }, lineStyle: { opacity: 0.5 } } }); var m = g; e.exports = m }, '72b6': function (e, t, i) { var n = i('3eba'); var a = i('6d8b'); var r = i('2306'); var o = i('eda2'); var s = i('f934'); var l = i('5f14'); var u = n.extendComponentView({ type: 'visualMap', autoPositionValues: { left: 1, right: 1, top: 1, bottom: 1 }, init: function (e, t) { this.ecModel = e, this.api = t, this.visualMapModel }, render: function (e, t, i, n) { this.visualMapModel = e, !1 !== e.get('show') ? this.doRender.apply(this, arguments) : this.group.removeAll() }, renderBackground: function (e) { var t = this.visualMapModel; var i = o.normalizeCssArray(t.get('padding') || 0); var n = e.getBoundingRect(); e.add(new r.Rect({ z2: -1, silent: !0, shape: { x: n.x - i[3], y: n.y - i[0], width: n.width + i[3] + i[1], height: n.height + i[0] + i[2] }, style: { fill: t.get('backgroundColor'), stroke: t.get('borderColor'), lineWidth: t.get('borderWidth') } })) }, getControllerVisual: function (e, t, i) { i = i || {}; var n = i.forceState; var r = this.visualMapModel; var o = {}; if (t === 'symbol' && (o.symbol = r.get('itemSymbol')), t === 'color') { var s = r.get('contentColor'); o.color = s } function u (e) { return o[e] } function c (e, t) { o[e] = t } var h = r.controllerVisuals[n || r.getValueState(e)]; var d = l.prepareVisualTypes(h); return a.each(d, function (n) { var a = h[n]; i.convertOpacityToAlpha && n === 'opacity' && (n = 'colorAlpha', a = h.__alphaForOpacity), l.dependsOn(n, t) && a && a.applyVisual(e, u, c) }), o[t] }, positionGroup: function (e) { var t = this.visualMapModel; var i = this.api; s.positionElement(e, t.getBoxLayoutParams(), { width: i.getWidth(), height: i.getHeight() }) }, doRender: a.noop }); e.exports = u }, 7368: function (e, t, i) { var n = i('4e08'); var a = (n.__DEV__, i('6d8b')); var r = i('625e'); var o = r.enableClassCheck; function s (e) { return '_EC_' + e } var l = function (e) { this._directed = e || !1, this.nodes = [], this.edges = [], this._nodesMap = {}, this._edgesMap = {}, this.data, this.edgeData }; var u = l.prototype; function c (e, t) { this.id = e == null ? '' : e, this.inEdges = [], this.outEdges = [], this.edges = [], this.hostGraph, this.dataIndex = t == null ? -1 : t } function h (e, t, i) { this.node1 = e, this.node2 = t, this.dataIndex = i == null ? -1 : i }u.type = 'graph', u.isDirected = function () { return this._directed }, u.addNode = function (e, t) { e = e == null ? '' + t : '' + e; var i = this._nodesMap; if (!i[s(e)]) { var n = new c(e, t); return n.hostGraph = this, this.nodes.push(n), i[s(e)] = n, n } }, u.getNodeByIndex = function (e) { var t = this.data.getRawIndex(e); return this.nodes[t] }, u.getNodeById = function (e) { return this._nodesMap[s(e)] }, u.addEdge = function (e, t, i) { var n = this._nodesMap; var a = this._edgesMap; if (typeof e === 'number' && (e = this.nodes[e]), typeof t === 'number' && (t = this.nodes[t]), c.isInstance(e) || (e = n[s(e)]), c.isInstance(t) || (t = n[s(t)]), e && t) { var r = e.id + '-' + t.id; var o = new h(e, t, i); return o.hostGraph = this, this._directed && (e.outEdges.push(o), t.inEdges.push(o)), e.edges.push(o), e !== t && t.edges.push(o), this.edges.push(o), a[r] = o, o } }, u.getEdgeByIndex = function (e) { var t = this.edgeData.getRawIndex(e); return this.edges[t] }, u.getEdge = function (e, t) { c.isInstance(e) && (e = e.id), c.isInstance(t) && (t = t.id); var i = this._edgesMap; return this._directed ? i[e + '-' + t] : i[e + '-' + t] || i[t + '-' + e] }, u.eachNode = function (e, t) { for (var i = this.nodes, n = i.length, a = 0; a < n; a++)i[a].dataIndex >= 0 && e.call(t, i[a], a) }, u.eachEdge = function (e, t) { for (var i = this.edges, n = i.length, a = 0; a < n; a++)i[a].dataIndex >= 0 && i[a].node1.dataIndex >= 0 && i[a].node2.dataIndex >= 0 && e.call(t, i[a], a) }, u.breadthFirstTraverse = function (e, t, i, n) { if (c.isInstance(t) || (t = this._nodesMap[s(t)]), t) { for (var a = i === 'out' ? 'outEdges' : i === 'in' ? 'inEdges' : 'edges', r = 0; r < this.nodes.length; r++) this.nodes[r].__visited = !1; if (!e.call(n, t, null)) { var o = [t]; while (o.length) { var l = o.shift(); var u = l[a]; for (r = 0; r < u.length; r++) { var h = u[r]; var d = h.node1 === l ? h.node2 : h.node1; if (!d.__visited) { if (e.call(n, d, l)) return; o.push(d), d.__visited = !0 } } } } } }, u.update = function () { for (var e = this.data, t = this.edgeData, i = this.nodes, n = this.edges, a = 0, r = i.length; a < r; a++)i[a].dataIndex = -1; for (a = 0, r = e.count(); a < r; a++)i[e.getRawIndex(a)].dataIndex = a; t.filterSelf(function (e) { var i = n[t.getRawIndex(e)]; return i.node1.dataIndex >= 0 && i.node2.dataIndex >= 0 }); for (a = 0, r = n.length; a < r; a++)n[a].dataIndex = -1; for (a = 0, r = t.count(); a < r; a++)n[t.getRawIndex(a)].dataIndex = a }, u.clone = function () { for (var e = new l(this._directed), t = this.nodes, i = this.edges, n = 0; n < t.length; n++)e.addNode(t[n].id, t[n].dataIndex); for (n = 0; n < i.length; n++) { var a = i[n]; e.addEdge(a.node1.id, a.node2.id, a.dataIndex) } return e }, c.prototype = { constructor: c, degree: function () { return this.edges.length }, inDegree: function () { return this.inEdges.length }, outDegree: function () { return this.outEdges.length }, getModel: function (e) { if (!(this.dataIndex < 0)) { var t = this.hostGraph; var i = t.data.getItemModel(this.dataIndex); return i.getModel(e) } } }, h.prototype.getModel = function (e) { if (!(this.dataIndex < 0)) { var t = this.hostGraph; var i = t.edgeData.getItemModel(this.dataIndex); return i.getModel(e) } }; var d = function (e, t) { return { getValue: function (i) { var n = this[e][t]; return n.get(n.getDimension(i || 'value'), this.dataIndex) }, setVisual: function (i, n) { this.dataIndex >= 0 && this[e][t].setItemVisual(this.dataIndex, i, n) }, getVisual: function (i, n) { return this[e][t].getItemVisual(this.dataIndex, i, n) }, setLayout: function (i, n) { this.dataIndex >= 0 && this[e][t].setItemLayout(this.dataIndex, i, n) }, getLayout: function () { return this[e][t].getItemLayout(this.dataIndex) }, getGraphicEl: function () { return this[e][t].getItemGraphicEl(this.dataIndex) }, getRawIndex: function () { return this[e][t].getRawIndex(this.dataIndex) } } }; a.mixin(c, d('hostGraph', 'data')), a.mixin(h, d('hostGraph', 'edgeData')), l.Node = c, l.Edge = h, o(c), o(h); var f = l; e.exports = f }, '73ca': function (e, t, i) { var n = i('2306'); var a = i('7e5b'); function r (e) { this._ctor = e || a, this.group = new n.Group() } var o = r.prototype; function s (e, t, i, n) { var a = t.getItemLayout(i); if (d(a)) { var r = new e._ctor(t, i, n); t.setItemGraphicEl(i, r), e.group.add(r) } } function l (e, t, i, n, a, r) { var o = t.getItemGraphicEl(n); d(i.getItemLayout(a)) ? (o ? o.updateData(i, a, r) : o = new e._ctor(i, a, r), i.setItemGraphicEl(a, o), e.group.add(o)) : e.group.remove(o) } function u (e) { return e.animators && e.animators.length > 0 } function c (e) { var t = e.hostModel; return { lineStyle: t.getModel('lineStyle').getLineStyle(), hoverLineStyle: t.getModel('emphasis.lineStyle').getLineStyle(), labelModel: t.getModel('label'), hoverLabelModel: t.getModel('emphasis.label') } } function h (e) { return isNaN(e[0]) || isNaN(e[1]) } function d (e) { return !h(e[0]) && !h(e[1]) }o.isPersistent = function () { return !0 }, o.updateData = function (e) { var t = this; var i = t.group; var n = t._lineData; t._lineData = e, n || i.removeAll(); var a = c(e); e.diff(n).add(function (i) { s(t, e, i, a) }).update(function (i, r) { l(t, n, e, r, i, a) }).remove(function (e) { i.remove(n.getItemGraphicEl(e)) }).execute() }, o.updateLayout = function () { var e = this._lineData; e && e.eachItemGraphicEl(function (t, i) { t.updateLayout(e, i) }, this) }, o.incrementalPrepareUpdate = function (e) { this._seriesScope = c(e), this._lineData = null, this.group.removeAll() }, o.incrementalUpdate = function (e, t) { function i (e) { e.isGroup || u(e) || (e.incremental = e.useHoverLayer = !0) } for (var n = e.start; n < e.end; n++) { var a = t.getItemLayout(n); if (d(a)) { var r = new this._ctor(t, n, this._seriesScope); r.traverse(i), this.group.add(r), t.setItemGraphicEl(n, r) } } }, o.remove = function () { this._clearIncremental(), this._incremental = null, this.group.removeAll() }, o._clearIncremental = function () { var e = this._incremental; e && e.clearDisplaybles() }; var f = r; e.exports = f }, 7419: function (e, t, i) { var n = i('3eba'); var a = i('b336'); i('bc5f'), i('ab05'), i('307a'), i('3cd6'), i('d6ef'), n.registerPreprocessor(a) }, '74cb': function (e, t) { var i = { linear: function (e) { return e }, quadraticIn: function (e) { return e * e }, quadraticOut: function (e) { return e * (2 - e) }, quadraticInOut: function (e) { return (e *= 2) < 1 ? 0.5 * e * e : -0.5 * (--e * (e - 2) - 1) }, cubicIn: function (e) { return e * e * e }, cubicOut: function (e) { return --e * e * e + 1 }, cubicInOut: function (e) { return (e *= 2) < 1 ? 0.5 * e * e * e : 0.5 * ((e -= 2) * e * e + 2) }, quarticIn: function (e) { return e * e * e * e }, quarticOut: function (e) { return 1 - --e * e * e * e }, quarticInOut: function (e) { return (e *= 2) < 1 ? 0.5 * e * e * e * e : -0.5 * ((e -= 2) * e * e * e - 2) }, quinticIn: function (e) { return e * e * e * e * e }, quinticOut: function (e) { return --e * e * e * e * e + 1 }, quinticInOut: function (e) { return (e *= 2) < 1 ? 0.5 * e * e * e * e * e : 0.5 * ((e -= 2) * e * e * e * e + 2) }, sinusoidalIn: function (e) { return 1 - Math.cos(e * Math.PI / 2) }, sinusoidalOut: function (e) { return Math.sin(e * Math.PI / 2) }, sinusoidalInOut: function (e) { return 0.5 * (1 - Math.cos(Math.PI * e)) }, exponentialIn: function (e) { return e === 0 ? 0 : Math.pow(1024, e - 1) }, exponentialOut: function (e) { return e === 1 ? 1 : 1 - Math.pow(2, -10 * e) }, exponentialInOut: function (e) { return e === 0 ? 0 : e === 1 ? 1 : (e *= 2) < 1 ? 0.5 * Math.pow(1024, e - 1) : 0.5 * (2 - Math.pow(2, -10 * (e - 1))) }, circularIn: function (e) { return 1 - Math.sqrt(1 - e * e) }, circularOut: function (e) { return Math.sqrt(1 - --e * e) }, circularInOut: function (e) { return (e *= 2) < 1 ? -0.5 * (Math.sqrt(1 - e * e) - 1) : 0.5 * (Math.sqrt(1 - (e -= 2) * e) + 1) }, elasticIn: function (e) { var t; var i = 0.1; var n = 0.4; return e === 0 ? 0 : e === 1 ? 1 : (!i || i < 1 ? (i = 1, t = n / 4) : t = n * Math.asin(1 / i) / (2 * Math.PI), -i * Math.pow(2, 10 * (e -= 1)) * Math.sin((e - t) * (2 * Math.PI) / n)) }, elasticOut: function (e) { var t; var i = 0.1; var n = 0.4; return e === 0 ? 0 : e === 1 ? 1 : (!i || i < 1 ? (i = 1, t = n / 4) : t = n * Math.asin(1 / i) / (2 * Math.PI), i * Math.pow(2, -10 * e) * Math.sin((e - t) * (2 * Math.PI) / n) + 1) }, elasticInOut: function (e) { var t; var i = 0.1; var n = 0.4; return e === 0 ? 0 : e === 1 ? 1 : (!i || i < 1 ? (i = 1, t = n / 4) : t = n * Math.asin(1 / i) / (2 * Math.PI), (e *= 2) < 1 ? i * Math.pow(2, 10 * (e -= 1)) * Math.sin((e - t) * (2 * Math.PI) / n) * -0.5 : i * Math.pow(2, -10 * (e -= 1)) * Math.sin((e - t) * (2 * Math.PI) / n) * 0.5 + 1) }, backIn: function (e) { var t = 1.70158; return e * e * ((t + 1) * e - t) }, backOut: function (e) { var t = 1.70158; return --e * e * ((t + 1) * e + t) + 1 }, backInOut: function (e) { var t = 2.5949095; return (e *= 2) < 1 ? e * e * ((t + 1) * e - t) * 0.5 : 0.5 * ((e -= 2) * e * ((t + 1) * e + t) + 2) }, bounceIn: function (e) { return 1 - i.bounceOut(1 - e) }, bounceOut: function (e) { return e < 1 / 2.75 ? 7.5625 * e * e : e < 2 / 2.75 ? 7.5625 * (e -= 1.5 / 2.75) * e + 0.75 : e < 2.5 / 2.75 ? 7.5625 * (e -= 2.25 / 2.75) * e + 0.9375 : 7.5625 * (e -= 2.625 / 2.75) * e + 0.984375 }, bounceInOut: function (e) { return e < 0.5 ? 0.5 * i.bounceIn(2 * e) : 0.5 * i.bounceOut(2 * e - 1) + 0.5 } }; var n = i; e.exports = n }, 7661: function (e, t, i) { var n = i('0c41'); var a = i('3eba'); var r = a.extendComponentView({ type: 'geo', init: function (e, t) { var i = new n(t, !0); this._mapDraw = i, this.group.add(i.group) }, render: function (e, t, i, n) { if (!n || n.type !== 'geoToggleSelect' || n.from !== this.uid) { var a = this._mapDraw; e.get('show') ? a.draw(e, t, i, this, n) : this._mapDraw.group.removeAll(), this.group.silent = e.get('silent') } }, dispose: function () { this._mapDraw && this._mapDraw.remove() } }); e.exports = r }, '767c': function (e, t, i) { var n = i('3eba'); var a = i('6d8b'); var r = i('607d'); var o = i('29a8'); var s = i('2145'); var l = o.toolbox.dataView; var u = new Array(60).join('-'); var c = '\t'; function h (e) { var t = {}; var i = []; var n = []; return e.eachRawSeries(function (e) { var a = e.coordinateSystem; if (!a || a.type !== 'cartesian2d' && a.type !== 'polar')i.push(e); else { var r = a.getBaseAxis(); if (r.type === 'category') { var o = r.dim + '_' + r.index; t[o] || (t[o] = { categoryAxis: r, valueAxis: a.getOtherAxis(r), series: [] }, n.push({ axisDim: r.dim, axisIndex: r.index })), t[o].series.push(e) } else i.push(e) } }), { seriesGroupByCategoryAxis: t, other: i, meta: n } } function d (e) { var t = []; return a.each(e, function (e, i) { var n = e.categoryAxis; var r = e.valueAxis; var o = r.dim; var s = [' '].concat(a.map(e.series, function (e) { return e.name })); var l = [n.model.getCategories()]; a.each(e.series, function (e) { var t = e.getRawData(); l.push(e.getRawData().mapArray(t.mapDimension(o), function (e) { return e })) }); for (var u = [s.join(c)], h = 0; h < l[0].length; h++) { for (var d = [], f = 0; f < l.length; f++)d.push(l[f][h]); u.push(d.join(c)) }t.push(u.join('\n')) }), t.join('\n\n' + u + '\n\n') } function f (e) { return a.map(e, function (e) { var t = e.getRawData(); var i = [e.name]; var n = []; return t.each(t.dimensions, function () { for (var e = arguments.length, a = arguments[e - 1], r = t.getName(a), o = 0; o < e - 1; o++)n[o] = arguments[o]; i.push((r ? r + c : '') + n.join(c)) }), i.join('\n') }).join('\n\n' + u + '\n\n') } function p (e) { var t = h(e); return { value: a.filter([d(t.seriesGroupByCategoryAxis), f(t.other)], function (e) { return e.replace(/[\n\t\s]/g, '') }).join('\n\n' + u + '\n\n'), meta: t.meta } } function g (e) { return e.replace(/^\s\s*/, '').replace(/\s\s*$/, '') } function m (e) { var t = e.slice(0, e.indexOf('\n')); if (t.indexOf(c) >= 0) return !0 } var v = new RegExp('[' + c + ']+', 'g'); function y (e) { for (var t = e.split(/\n+/g), i = g(t.shift()).split(v), n = [], r = a.map(i, function (e) { return { name: e, data: [] } }), o = 0; o < t.length; o++) { var s = g(t[o]).split(v); n.push(s.shift()); for (var l = 0; l < s.length; l++)r[l] && (r[l].data[o] = s[l]) } return { series: r, categories: n } } function x (e) { for (var t = e.split(/\n+/g), i = g(t.shift()), n = [], a = 0; a < t.length; a++) { var r = g(t[a]); if (r) { var o; var s = r.split(v); var l = ''; var u = !1; isNaN(s[0]) ? (u = !0, l = s[0], s = s.slice(1), n[a] = { name: l, value: [] }, o = n[a].value) : o = n[a] = []; for (var c = 0; c < s.length; c++)o.push(+s[c]); o.length === 1 && (u ? n[a].value = o[0] : n[a] = o[0]) } } return { name: i, data: n } } function _ (e, t) { var i = e.split(new RegExp('\n*' + u + '\n*', 'g')); var n = { series: [] }; return a.each(i, function (e, i) { if (m(e)) { var a = y(e); var r = t[i]; var o = r.axisDim + 'Axis'; r && (n[o] = n[o] || [], n[o][r.axisIndex] = { data: a.categories }, n.series = n.series.concat(a.series)) } else { a = x(e); n.series.push(a) } }), n } function b (e) { this._dom = null, this.model = e } function w (e, t) { return a.map(e, function (e, i) { var n = t && t[i]; if (a.isObject(n) && !a.isArray(n)) { var r = a.isObject(e) && !a.isArray(e); r || (e = { value: e }); var o = n.name != null && e.name == null; return e = a.defaults(e, n), o && delete e.name, e } return e }) }b.defaultOption = { show: !0, readOnly: !1, optionToContent: null, contentToOption: null, icon: 'M17.5,17.3H33 M17.5,17.3H33 M45.4,29.5h-28 M11.5,2v56H51V14.8L38.4,2H11.5z M38.4,2.2v12.7H51 M45.4,41.7h-28', title: a.clone(l.title), lang: a.clone(l.lang), backgroundColor: '#fff', textColor: '#000', textareaColor: '#fff', textareaBorderColor: '#333', buttonColor: '#c23531', buttonTextColor: '#fff' }, b.prototype.onclick = function (e, t) { var i = t.getDom(); var n = this.model; this._dom && i.removeChild(this._dom); var o = document.createElement('div'); o.style.cssText = 'position:absolute;left:5px;top:5px;bottom:5px;right:5px;', o.style.backgroundColor = n.get('backgroundColor') || '#fff'; var s = document.createElement('h4'); var l = n.get('lang') || []; s.innerHTML = l[0] || n.get('title'), s.style.cssText = 'margin: 10px 20px;', s.style.color = n.get('textColor'); var u = document.createElement('div'); var c = document.createElement('textarea'); u.style.cssText = 'display:block;width:100%;overflow:auto;'; var h = n.get('optionToContent'); var d = n.get('contentToOption'); var f = p(e); if (typeof h === 'function') { var g = h(t.getOption()); typeof g === 'string' ? u.innerHTML = g : a.isDom(g) && u.appendChild(g) } else u.appendChild(c), c.readOnly = n.get('readOnly'), c.style.cssText = 'width:100%;height:100%;font-family:monospace;font-size:14px;line-height:1.6rem;', c.style.color = n.get('textColor'), c.style.borderColor = n.get('textareaBorderColor'), c.style.backgroundColor = n.get('textareaColor'), c.value = f.value; var m = f.meta; var v = document.createElement('div'); v.style.cssText = 'position:absolute;bottom:0;left:0;right:0;'; var y = 'float:right;margin-right:20px;border:none;cursor:pointer;padding:2px 5px;font-size:12px;border-radius:3px'; var x = document.createElement('div'); var b = document.createElement('div'); y += ';background-color:' + n.get('buttonColor'), y += ';color:' + n.get('buttonTextColor'); var w = this; function S () { i.removeChild(o), w._dom = null }r.addEventListener(x, 'click', S), r.addEventListener(b, 'click', function () { var e; try { e = typeof d === 'function' ? d(u, t.getOption()) : _(c.value, m) } catch (i) { throw S(), new Error('Data view format error ' + i) }e && t.dispatchAction({ type: 'changeDataView', newOption: e }), S() }), x.innerHTML = l[1], b.innerHTML = l[2], b.style.cssText = y, x.style.cssText = y, !n.get('readOnly') && v.appendChild(b), v.appendChild(x), o.appendChild(s), o.appendChild(u), o.appendChild(v), u.style.height = i.clientHeight - 80 + 'px', i.appendChild(o), this._dom = o }, b.prototype.remove = function (e, t) { this._dom && t.getDom().removeChild(this._dom) }, b.prototype.dispose = function (e, t) { this.remove(e, t) }, s.register('dataView', b), n.registerAction({ type: 'changeDataView', event: 'dataViewChanged', update: 'prepareAndUpdate' }, function (e, t) { var i = []; a.each(e.newOption.series, function (e) { var n = t.getSeriesByName(e.name)[0]; if (n) { var r = n.get('data'); i.push({ name: e.name, data: w(e.data, r) }) } else i.push(a.extend({ type: 'scatter' }, e)) }), t.mergeOption(a.defaults({ series: i }, e.newOption)) }); var S = b; e.exports = S }, '76a5': function (e, t, i) { var n = i('19eb'); var a = i('6d8b'); var r = i('e86a'); var o = i('a73c'); var s = i('82eb'); var l = s.ContextCachedBy; var u = function (e) { n.call(this, e) }; u.prototype = { constructor: u, type: 'text', brush: function (e, t) { var i = this.style; this.__dirty && o.normalizeTextStyle(i, !0), i.fill = i.stroke = i.shadowBlur = i.shadowColor = i.shadowOffsetX = i.shadowOffsetY = null; var n = i.text; n != null && (n += ''), o.needDrawText(n, i) ? (this.setTransform(e), o.renderText(this, e, n, i, null, t), this.restoreTransform(e)) : e.__attrCachedBy = l.NONE }, getBoundingRect: function () { var e = this.style; if (this.__dirty && o.normalizeTextStyle(e, !0), !this._rect) { var t = e.text; t != null ? t += '' : t = ''; var i = r.getBoundingRect(e.text + '', e.font, e.textAlign, e.textVerticalAlign, e.textPadding, e.textLineHeight, e.rich); if (i.x += e.x || 0, i.y += e.y || 0, o.getStroke(e.textStroke, e.textStrokeWidth)) { var n = e.textStrokeWidth; i.x -= n / 2, i.y -= n / 2, i.width += n, i.height += n } this._rect = i } return this._rect } }, a.inherits(u, n); var c = u; e.exports = c }, 7782: function (e, t, i) { var n = i('3eba'); var a = i('6d8b'); function r (e, t) { a.each(t, function (t) { t.update = 'updateView', n.registerAction(t, function (i, n) { var a = {}; return n.eachComponent({ mainType: 'series', subType: e, query: i }, function (e) { e[t.method] && e[t.method](i.name, i.dataIndex); var n = e.getData(); n.each(function (t) { var i = n.getName(t); a[i] = e.isSelected(i) || !1 }) }), { name: i.name, selected: a, seriesId: i.seriesId } }) }) }e.exports = r }, 7887: function (e, t, i) { var n = i('6d8b'); var a = i('84ce'); function r (e, t, i) { a.call(this, e, t, i), this.type = 'value', this.angle = 0, this.name = '', this.model }n.inherits(r, a); var o = r; e.exports = o }, 7891: function (e, t, i) { var n = i('6d8b'); function a (e) { var t = e.polar; if (t) { n.isArray(t) || (t = [t]); var i = []; n.each(t, function (t, a) { t.indicator ? (t.type && !t.shape && (t.shape = t.type), e.radar = e.radar || [], n.isArray(e.radar) || (e.radar = [e.radar]), e.radar.push(t)) : i.push(t) }), e.polar = i }n.each(e.series, function (e) { e && e.type === 'radar' && e.polarIndex && (e.radarIndex = e.polarIndex) }) }e.exports = a }, '78f0': function (e, t, i) { var n = i('3eba'); i('d9f1'); var a = n.extendComponentModel({ type: 'polar', dependencies: ['polarAxis', 'angleAxis'], coordinateSystem: null, findAxisModel: function (e) { var t; var i = this.ecModel; return i.eachComponent(e, function (e) { e.getCoordSysModel() === this && (t = e) }, this), t }, defaultOption: { zlevel: 0, z: 0, center: ['50%', '50%'], radius: '80%' } }); e.exports = a }, 7919: function (e, t, i) { var n = i('f934'); var a = n.getLayoutRect; var r = n.box; var o = n.positionElement; var s = i('eda2'); var l = i('2306'); function u (e, t, i) { var n = t.getBoxLayoutParams(); var s = t.get('padding'); var l = { width: i.getWidth(), height: i.getHeight() }; var u = a(n, l, s); r(t.get('orient'), e, t.get('itemGap'), u.width, u.height), o(e, n, l, s) } function c (e, t) { var i = s.normalizeCssArray(t.get('padding')); var n = t.getItemStyle(['color', 'opacity']); n.fill = t.get('backgroundColor'); e = new l.Rect({ shape: { x: e.x - i[3], y: e.y - i[0], width: e.width + i[1] + i[3], height: e.height + i[0] + i[2], r: t.get('borderRadius') }, style: n, silent: !0, z2: -1 }); return e }t.layout = u, t.makeBackground = c }, '792e': function (e, t, i) { i('1ccf'), i('14d3') }, '7b0c': function (e, t, i) { var n = i('6cc5'); var a = i('f934'); var r = a.getLayoutRect; var o = i('e263'); function s (e, t, i) { var n = e.getBoxLayoutParams(); return n.aspect = i, r(n, { width: t.getWidth(), height: t.getHeight() }) } function l (e, t) { var i = []; return e.eachSeriesByType('graph', function (e) { var a = e.get('coordinateSystem'); if (!a || a === 'view') { var r = e.getData(); var l = r.mapArray(function (e) { var t = r.getItemModel(e); return [+t.get('x'), +t.get('y')] }); var u = []; var c = []; o.fromPoints(l, u, c), c[0] - u[0] === 0 && (c[0] += 1, u[0] -= 1), c[1] - u[1] === 0 && (c[1] += 1, u[1] -= 1); var h = (c[0] - u[0]) / (c[1] - u[1]); var d = s(e, t, h); isNaN(h) && (u = [d.x, d.y], c = [d.x + d.width, d.y + d.height]); var f = c[0] - u[0]; var p = c[1] - u[1]; var g = d.width; var m = d.height; var v = e.coordinateSystem = new n(); v.zoomLimit = e.get('scaleLimit'), v.setBoundingRect(u[0], u[1], f, p), v.setViewRect(d.x, d.y, g, m), v.setCenter(e.get('center')), v.setZoom(e.get('zoom')), i.push(v) } }), i }e.exports = l }, '7c4d': function (e, t, i) { var n = i('3eba'); var a = i('6d8b'); var r = i('fc82'); var o = i('bd9e'); var s = i('6fda'); var l = i('ef6a'); var u = i('29a8'); var c = i('2145'); i('dd39'); var h = u.toolbox.dataZoom; var d = a.each; var f = '\0_ec_\0toolbox-dataZoom_'; function p (e, t, i) { (this._brushController = new r(i.getZr())).on('brush', a.bind(this._onBrush, this)).mount(), this._isZoomActive }p.defaultOption = { show: !0, filterMode: 'filter', icon: { zoom: 'M0,13.5h26.9 M13.5,26.9V0 M32.1,13.5H58V58H13.5 V32.1', back: 'M22,1.4L9.9,13.5l12.3,12.3 M10.3,13.5H54.9v44.6 H10.3v-26' }, title: a.clone(h.title), brushStyle: { borderWidth: 0, color: 'rgba(0,0,0,0.2)' } }; var g = p.prototype; g.render = function (e, t, i, n) { this.model = e, this.ecModel = t, this.api = i, x(e, t, this, n, i), y(e, t) }, g.onclick = function (e, t, i) { m[i].call(this) }, g.remove = function (e, t) { this._brushController.unmount() }, g.dispose = function (e, t) { this._brushController.dispose() }; var m = { zoom: function () { var e = !this._isZoomActive; this.api.dispatchAction({ type: 'takeGlobalCursor', key: 'dataZoomSelect', dataZoomSelectActive: e }) }, back: function () { this._dispatchZoomAction(s.pop(this.ecModel)) } }; function v (e) { var t = {}; return a.each(['xAxisIndex', 'yAxisIndex'], function (i) { t[i] = e[i], t[i] == null && (t[i] = 'all'), (!1 === t[i] || t[i] === 'none') && (t[i] = []) }), t } function y (e, t) { e.setIconStatus('back', s.count(t) > 1 ? 'emphasis' : 'normal') } function x (e, t, i, n, a) { var r = i._isZoomActive; n && n.type === 'takeGlobalCursor' && (r = n.key === 'dataZoomSelect' && n.dataZoomSelectActive), i._isZoomActive = r, e.setIconStatus('zoom', r ? 'emphasis' : 'normal'); var s = new o(v(e.option), t, { include: ['grid'] }); i._brushController.setPanels(s.makePanelOpts(a, function (e) { return e.xAxisDeclared && !e.yAxisDeclared ? 'lineX' : !e.xAxisDeclared && e.yAxisDeclared ? 'lineY' : 'rect' })).enableBrush(!!r && { brushType: 'auto', brushStyle: e.getModel('brushStyle').getItemStyle() }) }g._onBrush = function (e, t) { if (t.isEnd && e.length) { var i = {}; var n = this.ecModel; this._brushController.updateCovers([]); var a = new o(v(this.model.option), n, { include: ['grid'] }); a.matchOutputRanges(e, n, function (e, t, i) { if (i.type === 'cartesian2d') { var n = e.brushType; n === 'rect' ? (r('x', i, t[0]), r('y', i, t[1])) : r({ lineX: 'x', lineY: 'y' }[n], i, t) } }), s.push(n, i), this._dispatchZoomAction(i) } function r (e, t, a) { var r = t.getAxis(e); var o = r.model; var s = u(e, o, n); var c = s.findRepresentativeAxisProxy(o).getMinMaxSpan(); c.minValueSpan == null && c.maxValueSpan == null || (a = l(0, a.slice(), r.scale.getExtent(), 0, c.minValueSpan, c.maxValueSpan)), s && (i[s.id] = { dataZoomId: s.id, startValue: a[0], endValue: a[1] }) } function u (e, t, i) { var n; return i.eachComponent({ mainType: 'dataZoom', subType: 'select' }, function (i) { var a = i.getAxisModel(e, t.componentIndex); a && (n = i) }), n } }, g._dispatchZoomAction = function (e) { var t = []; d(e, function (e, i) { t.push(a.clone(e)) }), t.length && this.api.dispatchAction({ type: 'dataZoom', from: this.uid, batch: t }) }, c.register('dataZoom', p), n.registerPreprocessor(function (e) { if (e) { var t = e.dataZoom || (e.dataZoom = []); a.isArray(t) || (e.dataZoom = t = [t]); var i = e.toolbox; if (i && (a.isArray(i) && (i = i[0]), i && i.feature)) { var n = i.feature.dataZoom; r('xAxis', n), r('yAxis', n) } } function r (e, i) { if (i) { var n = e + 'Index'; var r = i[n]; r == null || r === 'all' || a.isArray(r) || (r = !1 === r || r === 'none' ? [] : [r]), o(e, function (o, s) { if (r == null || r === 'all' || a.indexOf(r, s) !== -1) { var l = { type: 'select', $fromToolbox: !0, filterMode: i.filterMode || 'filter', id: f + e + s }; l[n] = s, t.push(l) } }) } } function o (t, i) { var n = e[t]; a.isArray(n) || (n = n ? [n] : []), d(n, i) } }); var _ = p; e.exports = _ }, '7d6d': function (e, t) { var i = { shadowBlur: 1, shadowOffsetX: 1, shadowOffsetY: 1, textShadowBlur: 1, textShadowOffsetX: 1, textShadowOffsetY: 1, textBoxShadowBlur: 1, textBoxShadowOffsetX: 1, textBoxShadowOffsetY: 1 }; function n (e, t, n) { return i.hasOwnProperty(t) ? n * e.dpr : n }e.exports = n }, '7dcf': function (e, t, i) { var n = i('b12f'); var a = n.extend({ type: 'dataZoom', render: function (e, t, i, n) { this.dataZoomModel = e, this.ecModel = t, this.api = i }, getTargetCoordInfo: function () { var e = this.dataZoomModel; var t = this.ecModel; var i = {}; function n (e, t, i, n) { for (var a, r = 0; r < i.length; r++) if (i[r].model === e) { a = i[r]; break }a || i.push(a = { model: e, axisModels: [], coordIndex: n }), a.axisModels.push(t) } return e.eachTargetAxis(function (e, a) { var r = t.getComponent(e.axis, a); if (r) { var o = r.getCoordSysModel(); o && n(o, r, i[o.mainType] || (i[o.mainType] = []), o.componentIndex) } }, this), i } }); e.exports = a }, '7e32': function (e, t, i) { var n = i('3eba'); i('43b8'), i('8e77'), n.registerPreprocessor(function (e) { e.markArea = e.markArea || {} }) }, '7e5b': function (e, t, i) { var n = i('6d8b'); var a = i('401b'); var r = i('a15a'); var o = i('7f91'); var s = i('2306'); var l = i('3842'); var u = l.round; var c = ['fromSymbol', 'toSymbol']; function h (e) { return '_' + e + 'Type' } function d (e, t, i) { var a = t.getItemVisual(i, e); if (a && a !== 'none') { var o = t.getItemVisual(i, 'color'); var s = t.getItemVisual(i, e + 'Size'); var l = t.getItemVisual(i, e + 'Rotate'); n.isArray(s) || (s = [s, s]); var u = r.createSymbol(a, -s[0] / 2, -s[1] / 2, s[0], s[1], o); return u.__specifiedRotation = l == null || isNaN(l) ? void 0 : +l * Math.PI / 180 || 0, u.name = e, u } } function f (e) { var t = new o({ name: 'line', subPixelOptimize: !0 }); return p(t.shape, e), t } function p (e, t) { e.x1 = t[0][0], e.y1 = t[0][1], e.x2 = t[1][0], e.y2 = t[1][1], e.percent = 1; var i = t[2]; i ? (e.cpx1 = i[0], e.cpy1 = i[1]) : (e.cpx1 = NaN, e.cpy1 = NaN) } function g () { var e = this; var t = e.childOfName('fromSymbol'); var i = e.childOfName('toSymbol'); var n = e.childOfName('label'); if (t || i || !n.ignore) { var r = 1; var o = this.parent; while (o)o.scale && (r /= o.scale[0]), o = o.parent; var s = e.childOfName('line'); if (this.__dirty || s.__dirty) { var l = s.shape.percent; var u = s.pointAt(0); var c = s.pointAt(l); var h = a.sub([], c, u); if (a.normalize(h, h), t) { t.attr('position', u); var d = t.__specifiedRotation; if (d == null) { var f = s.tangentAt(0); t.attr('rotation', Math.PI / 2 - Math.atan2(f[1], f[0])) } else t.attr('rotation', d); t.attr('scale', [r * l, r * l]) } if (i) { i.attr('position', c); d = i.__specifiedRotation; if (d == null) { f = s.tangentAt(1); i.attr('rotation', -Math.PI / 2 - Math.atan2(f[1], f[0])) } else i.attr('rotation', d); i.attr('scale', [r * l, r * l]) } if (!n.ignore) { var p, g, m, v; n.attr('position', c); var y = n.__labelDistance; var x = y[0] * r; var _ = y[1] * r; var b = l / 2; var w = (f = s.tangentAt(b), [f[1], -f[0]]); var S = s.pointAt(b); w[1] > 0 && (w[0] = -w[0], w[1] = -w[1]); var M; var I = f[0] < 0 ? -1 : 1; if (n.__position !== 'start' && n.__position !== 'end') { var A = -Math.atan2(f[1], f[0]); c[0] < u[0] && (A = Math.PI + A), n.attr('rotation', A) } switch (n.__position) { case 'insideStartTop':case 'insideMiddleTop':case 'insideEndTop':case 'middle':M = -_, m = 'bottom'; break; case 'insideStartBottom':case 'insideMiddleBottom':case 'insideEndBottom':M = _, m = 'top'; break; default:M = 0, m = 'middle' } switch (n.__position) { case 'end':p = [h[0] * x + c[0], h[1] * _ + c[1]], g = h[0] > 0.8 ? 'left' : h[0] < -0.8 ? 'right' : 'center', m = h[1] > 0.8 ? 'top' : h[1] < -0.8 ? 'bottom' : 'middle'; break; case 'start':p = [-h[0] * x + u[0], -h[1] * _ + u[1]], g = h[0] > 0.8 ? 'right' : h[0] < -0.8 ? 'left' : 'center', m = h[1] > 0.8 ? 'bottom' : h[1] < -0.8 ? 'top' : 'middle'; break; case 'insideStartTop':case 'insideStart':case 'insideStartBottom':p = [x * I + u[0], u[1] + M], g = f[0] < 0 ? 'right' : 'left', v = [-x * I, -M]; break; case 'insideMiddleTop':case 'insideMiddle':case 'insideMiddleBottom':case 'middle':p = [S[0], S[1] + M], g = 'center', v = [0, -M]; break; case 'insideEndTop':case 'insideEnd':case 'insideEndBottom':p = [-x * I + c[0], c[1] + M], g = f[0] >= 0 ? 'right' : 'left', v = [x * I, -M]; break }n.attr({ style: { textVerticalAlign: n.__verticalAlign || m, textAlign: n.__textAlign || g }, position: p, scale: [r, r], origin: v }) } } } } function m (e, t, i) { s.Group.call(this), this._createLine(e, t, i) } var v = m.prototype; v.beforeUpdate = g, v._createLine = function (e, t, i) { var a = e.hostModel; var r = e.getItemLayout(t); var o = f(r); o.shape.percent = 0, s.initProps(o, { shape: { percent: 1 } }, a, t), this.add(o); var l = new s.Text({ name: 'label', lineLabelOriginalOpacity: 1 }); this.add(l), n.each(c, function (i) { var n = d(i, e, t); this.add(n), this[h(i)] = e.getItemVisual(t, i) }, this), this._updateCommonStl(e, t, i) }, v.updateData = function (e, t, i) { var a = e.hostModel; var r = this.childOfName('line'); var o = e.getItemLayout(t); var l = { shape: {} }; p(l.shape, o), s.updateProps(r, l, a, t), n.each(c, function (i) { var n = e.getItemVisual(t, i); var a = h(i); if (this[a] !== n) { this.remove(this.childOfName(i)); var r = d(i, e, t); this.add(r) } this[a] = n }, this), this._updateCommonStl(e, t, i) }, v._updateCommonStl = function (e, t, i) { var a = e.hostModel; var r = this.childOfName('line'); var o = i && i.lineStyle; var l = i && i.hoverLineStyle; var h = i && i.labelModel; var d = i && i.hoverLabelModel; if (!i || e.hasItemOption) { var f = e.getItemModel(t); o = f.getModel('lineStyle').getLineStyle(), l = f.getModel('emphasis.lineStyle').getLineStyle(), h = f.getModel('label'), d = f.getModel('emphasis.label') } var p = e.getItemVisual(t, 'color'); var g = n.retrieve3(e.getItemVisual(t, 'opacity'), o.opacity, 1); r.useStyle(n.defaults({ strokeNoScale: !0, fill: 'none', stroke: p, opacity: g }, o)), r.hoverStyle = l, n.each(c, function (e) { var t = this.childOfName(e); t && (t.setColor(p), t.setStyle({ opacity: g })) }, this); var m; var v; var y = h.getShallow('show'); var x = d.getShallow('show'); var _ = this.childOfName('label'); if ((y || x) && (m = p || '#000', v = a.getFormattedLabel(t, 'normal', e.dataType), v == null)) { var b = a.getRawValue(t); v = b == null ? e.getName(t) : isFinite(b) ? u(b) : b } var w = y ? v : null; var S = x ? n.retrieve2(a.getFormattedLabel(t, 'emphasis', e.dataType), v) : null; var M = _.style; if (w != null || S != null) { s.setTextStyle(_.style, h, { text: w }, { autoColor: m }), _.__textAlign = M.textAlign, _.__verticalAlign = M.textVerticalAlign, _.__position = h.get('position') || 'middle'; var I = h.get('distance'); n.isArray(I) || (I = [I, I]), _.__labelDistance = I }_.hoverStyle = S != null ? { text: S, textFill: d.getTextColor(!0), fontStyle: d.getShallow('fontStyle'), fontWeight: d.getShallow('fontWeight'), fontSize: d.getShallow('fontSize'), fontFamily: d.getShallow('fontFamily') } : { text: null }, _.ignore = !y && !x, s.setHoverStyle(this) }, v.highlight = function () { this.trigger('emphasis') }, v.downplay = function () { this.trigger('normal') }, v.updateLayout = function (e, t) { this.setLinePoints(e.getItemLayout(t)) }, v.setLinePoints = function (e) { var t = this.childOfName('line'); p(t.shape, e), t.dirty() }, n.inherits(m, s.Group); var y = m; e.exports = y }, '7e63': function (e, t, i) { var n = i('4e08'); var a = (n.__DEV__, i('6d8b')); var r = a.each; var o = a.filter; var s = a.map; var l = a.isArray; var u = a.indexOf; var c = a.isObject; var h = a.isString; var d = a.createHashMap; var f = a.assert; var p = a.clone; var g = a.merge; var m = a.extend; var v = a.mixin; var y = i('e0d3'); var x = i('4319'); var _ = i('6cb7'); var b = i('8971'); var w = i('e47b'); var S = i('0f99'); var M = S.resetSourceDefaulter; var I = '\0_ec_inner'; var A = x.extend({ init: function (e, t, i, n) { i = i || {}, this.option = null, this._theme = new x(i), this._optionManager = n }, setOption: function (e, t) { f(!(I in e), 'please use chart.getOption()'), this._optionManager.setOption(e, t), this.resetOption(null) }, resetOption: function (e) { var t = !1; var i = this._optionManager; if (!e || e === 'recreate') { var n = i.mountOption(e === 'recreate'); this.option && e !== 'recreate' ? (this.restoreData(), this.mergeOption(n)) : D.call(this, n), t = !0 } if (e !== 'timeline' && e !== 'media' || this.restoreData(), !e || e === 'recreate' || e === 'timeline') { var a = i.getTimelineOption(this); a && (this.mergeOption(a), t = !0) } if (!e || e === 'recreate' || e === 'media') { var o = i.getMediaOption(this, this._api); o.length && r(o, function (e) { this.mergeOption(e, t = !0) }, this) } return t }, mergeOption: function (e) { var t = this.option; var i = this._componentsMap; var n = []; function a (n, a) { var o = y.normalizeToArray(e[n]); var s = y.mappingToExists(i.get(n), o); y.makeIdAndName(s), r(s, function (e, t) { var i = e.option; c(i) && (e.keyInfo.mainType = n, e.keyInfo.subType = P(n, i, e.exist)) }); var l = L(i, a); t[n] = [], i.set(n, []), r(s, function (e, a) { var r = e.exist; var o = e.option; if (f(c(o) || r, 'Empty component definition'), o) { var s = _.getClass(n, e.keyInfo.subType, !0); if (r && r.constructor === s)r.name = e.keyInfo.name, r.mergeOption(o, this), r.optionUpdated(o, !1); else { var u = m({ dependentModels: l, componentIndex: a }, e.keyInfo); r = new s(o, this, this, u), m(r, u), r.init(o, this, this, u), r.optionUpdated(null, !0) } } else r.mergeOption({}, this), r.optionUpdated({}, !1); i.get(n)[a] = r, t[n][a] = r.option }, this), n === 'series' && k(this, i.get('series')) }M(this), r(e, function (e, i) { e != null && (_.hasClass(i) ? i && n.push(i) : t[i] = t[i] == null ? p(e) : g(t[i], e, !0)) }), _.topologicalTravel(n, _.getAllClassMainTypes(), a, this), this._seriesIndicesMap = d(this._seriesIndices = this._seriesIndices || []) }, getOption: function () { var e = p(this.option); return r(e, function (t, i) { if (_.hasClass(i)) { t = y.normalizeToArray(t); for (var n = t.length - 1; n >= 0; n--)y.isIdInner(t[n]) && t.splice(n, 1); e[i] = t } }), delete e[I], e }, getTheme: function () { return this._theme }, getComponent: function (e, t) { var i = this._componentsMap.get(e); if (i) return i[t || 0] }, queryComponents: function (e) { var t = e.mainType; if (!t) return []; var i; var n = e.index; var a = e.id; var r = e.name; var c = this._componentsMap.get(t); if (!c || !c.length) return []; if (n != null)l(n) || (n = [n]), i = o(s(n, function (e) { return c[e] }), function (e) { return !!e }); else if (a != null) { var h = l(a); i = o(c, function (e) { return h && u(a, e.id) >= 0 || !h && e.id === a }) } else if (r != null) { var d = l(r); i = o(c, function (e) { return d && u(r, e.name) >= 0 || !d && e.name === r }) } else i = c.slice(); return O(i, e) }, findComponents: function (e) { var t = e.query; var i = e.mainType; var n = r(t); var a = n ? this.queryComponents(n) : this._componentsMap.get(i); return s(O(a, e)); function r (e) { var t = i + 'Index'; var n = i + 'Id'; var a = i + 'Name'; return !e || e[t] == null && e[n] == null && e[a] == null ? null : { mainType: i, index: e[t], id: e[n], name: e[a] } } function s (t) { return e.filter ? o(t, e.filter) : t } }, eachComponent: function (e, t, i) { var n = this._componentsMap; if (typeof e === 'function')i = t, t = e, n.each(function (e, n) { r(e, function (e, a) { t.call(i, n, e, a) }) }); else if (h(e))r(n.get(e), t, i); else if (c(e)) { var a = this.findComponents(e); r(a, t, i) } }, getSeriesByName: function (e) { var t = this._componentsMap.get('series'); return o(t, function (t) { return t.name === e }) }, getSeriesByIndex: function (e) { return this._componentsMap.get('series')[e] }, getSeriesByType: function (e) { var t = this._componentsMap.get('series'); return o(t, function (t) { return t.subType === e }) }, getSeries: function () { return this._componentsMap.get('series').slice() }, getSeriesCount: function () { return this._componentsMap.get('series').length }, eachSeries: function (e, t) { R(this), r(this._seriesIndices, function (i) { var n = this._componentsMap.get('series')[i]; e.call(t, n, i) }, this) }, eachRawSeries: function (e, t) { r(this._componentsMap.get('series'), e, t) }, eachSeriesByType: function (e, t, i) { R(this), r(this._seriesIndices, function (n) { var a = this._componentsMap.get('series')[n]; a.subType === e && t.call(i, a, n) }, this) }, eachRawSeriesByType: function (e, t, i) { return r(this.getSeriesByType(e), t, i) }, isSeriesFiltered: function (e) { return R(this), this._seriesIndicesMap.get(e.componentIndex) == null }, getCurrentSeriesIndices: function () { return (this._seriesIndices || []).slice() }, filterSeries: function (e, t) { R(this); var i = o(this._componentsMap.get('series'), e, t); k(this, i) }, restoreData: function (e) { var t = this._componentsMap; k(this, t.get('series')); var i = []; t.each(function (e, t) { i.push(t) }), _.topologicalTravel(i, _.getAllClassMainTypes(), function (i, n) { r(t.get(i), function (t) { (i !== 'series' || !T(t, e)) && t.restoreData() }) }) } }); function T (e, t) { if (t) { var i = t.seiresIndex; var n = t.seriesId; var a = t.seriesName; return i != null && e.componentIndex !== i || n != null && e.id !== n || a != null && e.name !== a } } function C (e, t) { var i = e.color && !e.colorLayer; r(t, function (t, n) { n === 'colorLayer' && i || _.hasClass(n) || (typeof t === 'object' ? e[n] = e[n] ? g(e[n], t, !1) : p(t) : e[n] == null && (e[n] = t)) }) } function D (e) { e = e, this.option = {}, this.option[I] = 1, this._componentsMap = d({ series: [] }), this._seriesIndices, this._seriesIndicesMap, C(e, this._theme.option), g(e, b, !1), this.mergeOption(e) } function L (e, t) { l(t) || (t = t ? [t] : []); var i = {}; return r(t, function (t) { i[t] = (e.get(t) || []).slice() }), i } function P (e, t, i) { var n = t.type ? t.type : i ? i.subType : _.determineSubType(e, t); return n } function k (e, t) { e._seriesIndicesMap = d(e._seriesIndices = s(t, function (e) { return e.componentIndex }) || []) } function O (e, t) { return t.hasOwnProperty('subType') ? o(e, function (e) { return e.subType === t.subType }) : e } function R (e) {}v(A, w); var E = A; e.exports = E }, '7f59': function (e, t, i) { var n = i('4e08'); var a = (n.__DEV__, i('3eba')); var r = i('6d8b'); var o = i('e0d3'); var s = i('2306'); var l = i('f934'); var u = i('3842'); var c = u.parsePercent; var h = { path: null, compoundPath: null, group: s.Group, image: s.Image, text: s.Text }; a.registerPreprocessor(function (e) { var t = e.graphic; r.isArray(t) ? t[0] && t[0].elements ? e.graphic = [e.graphic[0]] : e.graphic = [{ elements: t }] : t && !t.elements && (e.graphic = [{ elements: [t] }]) }); var d = a.extendComponentModel({ type: 'graphic', defaultOption: { elements: [], parentId: null }, _elOptionsToUpdate: null, mergeOption: function (e) { var t = this.option.elements; this.option.elements = null, d.superApply(this, 'mergeOption', arguments), this.option.elements = t }, optionUpdated: function (e, t) { var i = this.option; var n = (t ? i : e).elements; var a = i.elements = t ? [] : i.elements; var s = []; this._flatten(n, s); var l = o.mappingToExists(a, s); o.makeIdAndName(l); var u = this._elOptionsToUpdate = []; r.each(l, function (e, t) { var i = e.option; i && (u.push(i), v(e, i), y(a, t, i), x(a[t], i)) }, this); for (var c = a.length - 1; c >= 0; c--)a[c] == null ? a.splice(c, 1) : delete a[c].$action }, _flatten: function (e, t, i) { r.each(e, function (e) { if (e) { i && (e.parentOption = i), t.push(e); var n = e.children; e.type === 'group' && n && this._flatten(n, t, e), delete e.children } }, this) }, useElOptionsToUpdate: function () { var e = this._elOptionsToUpdate; return this._elOptionsToUpdate = null, e } }); function f (e, t, i, n) { var a = i.type; var r = h.hasOwnProperty(a) ? h[a] : s.getShapeClass(a); var o = new r(i); t.add(o), n.set(e, o), o.__ecGraphicId = e } function p (e, t) { var i = e && e.parent; i && (e.type === 'group' && e.traverse(function (e) { p(e, t) }), t.removeKey(e.__ecGraphicId), i.remove(e)) } function g (e) { return e = r.extend({}, e), r.each(['id', 'parentId', '$action', 'hv', 'bounding'].concat(l.LOCATION_PARAMS), function (t) { delete e[t] }), e } function m (e, t) { var i; return r.each(t, function (t) { e[t] != null && e[t] !== 'auto' && (i = !0) }), i } function v (e, t) { var i = e.exist; if (t.id = e.keyInfo.id, !t.type && i && (t.type = i.type), t.parentId == null) { var n = t.parentOption; n ? t.parentId = n.id : i && (t.parentId = i.parentId) }t.parentOption = null } function y (e, t, i) { var n = r.extend({}, i); var a = e[t]; var o = i.$action || 'merge'; o === 'merge' ? a ? (r.merge(a, n, !0), l.mergeLayoutParam(a, n, { ignoreSize: !0 }), l.copyLayoutParams(i, a)) : e[t] = n : o === 'replace' ? e[t] = n : o === 'remove' && a && (e[t] = null) } function x (e, t) { e && (e.hv = t.hv = [m(t, ['left', 'right']), m(t, ['top', 'bottom'])], e.type === 'group' && (e.width == null && (e.width = t.width = 0), e.height == null && (e.height = t.height = 0))) } function _ (e, t, i) { var n = e.eventData; e.silent || e.ignore || n || (n = e.eventData = { componentType: 'graphic', componentIndex: t.componentIndex, name: e.name }), n && (n.info = e.info) }a.extendComponentView({ type: 'graphic', init: function (e, t) { this._elMap = r.createHashMap(), this._lastGraphicModel }, render: function (e, t, i) { e !== this._lastGraphicModel && this._clear(), this._lastGraphicModel = e, this._updateElements(e), this._relocate(e, i) }, _updateElements: function (e) { var t = e.useElOptionsToUpdate(); if (t) { var i = this._elMap; var n = this.group; r.each(t, function (t) { var a = t.$action; var r = t.id; var o = i.get(r); var s = t.parentId; var l = s != null ? i.get(s) : n; var u = t.style; t.type === 'text' && u && (t.hv && t.hv[1] && (u.textVerticalAlign = u.textBaseline = null), !u.hasOwnProperty('textFill') && u.fill && (u.textFill = u.fill), !u.hasOwnProperty('textStroke') && u.stroke && (u.textStroke = u.stroke)); var c = g(t); a && a !== 'merge' ? a === 'replace' ? (p(o, i), f(r, l, c, i)) : a === 'remove' && p(o, i) : o ? o.attr(c) : f(r, l, c, i); var h = i.get(r); h && (h.__ecGraphicWidthOption = t.width, h.__ecGraphicHeightOption = t.height, _(h, e, t)) }) } }, _relocate: function (e, t) { for (var i = e.option.elements, n = this.group, a = this._elMap, r = t.getWidth(), o = t.getHeight(), s = 0; s < i.length; s++) { var u = i[s]; var h = a.get(u.id); if (h && h.isGroup) { var d = h.parent; var f = d === n; h.__ecGraphicWidth = c(h.__ecGraphicWidthOption, f ? r : d.__ecGraphicWidth) || 0, h.__ecGraphicHeight = c(h.__ecGraphicHeightOption, f ? o : d.__ecGraphicHeight) || 0 } } for (s = i.length - 1; s >= 0; s--) { u = i[s], h = a.get(u.id); if (h) { d = h.parent; var p = d === n ? { width: r, height: o } : { width: d.__ecGraphicWidth, height: d.__ecGraphicHeight }; l.positionElement(h, u, p, null, { hv: u.hv, boundingMode: u.bounding }) } } }, _clear: function () { var e = this._elMap; e.each(function (t) { p(t, e) }), this._elMap = r.createHashMap() }, dispose: function () { this._clear() } }) }, '7f72': function (e, t, i) { i('6932'), i('3a56'), i('7dcf'), i('a18f'), i('32a1'), i('2c17'), i('9e87') }, '7f91': function (e, t, i) { var n = i('2306'); var a = i('401b'); var r = n.Line.prototype; var o = n.BezierCurve.prototype; function s (e) { return isNaN(+e.cpx1) || isNaN(+e.cpy1) } var l = n.extendShape({ type: 'ec-line', style: { stroke: '#000', fill: null }, shape: { x1: 0, y1: 0, x2: 0, y2: 0, percent: 1, cpx1: null, cpy1: null }, buildPath: function (e, t) { this[s(t) ? '_buildPathLine' : '_buildPathCurve'](e, t) }, _buildPathLine: r.buildPath, _buildPathCurve: o.buildPath, pointAt: function (e) { return this[s(this.shape) ? '_pointAtLine' : '_pointAtCurve'](e) }, _pointAtLine: r.pointAt, _pointAtCurve: o.pointAt, tangentAt: function (e) { var t = this.shape; var i = s(t) ? [t.x2 - t.x1, t.y2 - t.y1] : this._tangentAtCurve(e); return a.normalize(i, i) }, _tangentAtCurve: o.tangentAt }); e.exports = l }, '7f96': function (e, t, i) { var n = i('6d8b'); var a = n.isFunction; function r (e, t, i) { return { seriesType: e, performRawSeries: !0, reset: function (e, n, r) { var o = e.getData(); var s = e.get('symbol'); var l = e.get('symbolSize'); var u = e.get('symbolKeepAspect'); var c = e.get('symbolRotate'); var h = a(s); var d = a(l); var f = a(c); var p = h || d || f; var g = !h && s ? s : t; var m = d ? null : l; if (o.setVisual({ legendSymbol: i || g, symbol: g, symbolSize: m, symbolKeepAspect: u, symbolRotate: c }), !n.isSeriesFiltered(e)) return { dataEach: o.hasItemOption || p ? v : null }; function v (t, i) { if (p) { var n = e.getRawValue(i); var a = e.getDataParams(i); h && t.setItemVisual(i, 'symbol', s(n, a)), d && t.setItemVisual(i, 'symbolSize', l(n, a)), f && t.setItemVisual(i, 'symbolRotate', c(n, a)) } if (t.hasItemOption) { var r = t.getItemModel(i); var o = r.getShallow('symbol', !0); var u = r.getShallow('symbolSize', !0); var g = r.getShallow('symbolRotate', !0); var m = r.getShallow('symbolKeepAspect', !0); o != null && t.setItemVisual(i, 'symbol', o), u != null && t.setItemVisual(i, 'symbolSize', u), g != null && t.setItemVisual(i, 'symbolRotate', g), m != null && t.setItemVisual(i, 'symbolKeepAspect', m) } } } } }e.exports = r }, '80f0': function (e, t) { function i (e) { return e } function n (e, t, n, a, r) { this._old = e, this._new = t, this._oldKeyGetter = n || i, this._newKeyGetter = a || i, this.context = r } function a (e, t, i, n, a) { for (var r = 0; r < e.length; r++) { var o = '_ec_' + a[n](e[r], r); var s = t[o]; s == null ? (i.push(o), t[o] = r) : (s.length || (t[o] = s = [s]), s.push(r)) } }n.prototype = { constructor: n, add: function (e) { return this._add = e, this }, update: function (e) { return this._update = e, this }, remove: function (e) { return this._remove = e, this }, execute: function () { var e = this._old; var t = this._new; var i = {}; var n = {}; var r = []; var o = []; for (a(e, i, r, '_oldKeyGetter', this), a(t, n, o, '_newKeyGetter', this), c = 0; c < e.length; c++) { var s = r[c]; var l = n[s]; if (l != null) { var u = l.length; u ? (u === 1 && (n[s] = null), l = l.shift()) : n[s] = null, this._update && this._update(l, c) } else this._remove && this._remove(c) } for (var c = 0; c < o.length; c++) { s = o[c]; if (n.hasOwnProperty(s)) { l = n[s]; if (l == null) continue; if (l.length) { var h = 0; for (u = l.length; h < u; h++) this._add && this._add(l[h]) } else this._add && this._add(l) } } } }; var r = n; e.exports = r }, '81ac': function (e, t, i) { var n = i('f934'); var a = i('6d8b'); var r = i('e0d3'); var o = r.groupData; function s (e, t, i) { e.eachSeriesByType('sankey', function (e) { var i = e.get('nodeWidth'); var n = e.get('nodeGap'); var r = l(e, t); e.layoutInfo = r; var o = r.width; var s = r.height; var h = e.getGraph(); var d = h.nodes; var f = h.edges; c(d); var p = a.filter(d, function (e) { return e.getLayout().value === 0 }); var g = p.length !== 0 ? 0 : e.get('layoutIterations'); var m = e.get('orient'); var v = e.get('nodeAlign'); u(d, f, i, n, o, s, g, m, v) }) } function l (e, t) { return n.getLayoutRect(e.getBoxLayoutParams(), { width: t.getWidth(), height: t.getHeight() }) } function u (e, t, i, n, a, r, o, s, l) { h(e, t, i, a, r, s, l), m(e, t, r, a, n, o, s), D(e, s) } function c (e) { a.each(e, function (e) { var t = T(e.outEdges, A); var i = T(e.inEdges, A); var n = e.getValue() || 0; var a = Math.max(t, i, n); e.setLayout({ value: a }, !0) }) } function h (e, t, i, n, a, r, o) { for (var s = [], l = [], u = [], c = [], h = 0, d = 0, p = 0; p < t.length; p++)s[p] = 1; for (p = 0; p < e.length; p++)l[p] = e[p].inEdges.length, l[p] === 0 && u.push(e[p]); var m = -1; while (u.length) { for (var v = 0; v < u.length; v++) { var y = u[v]; var x = y.hostGraph.data.getRawDataItem(y.dataIndex); var _ = x.depth != null && x.depth >= 0; _ && x.depth > m && (m = x.depth), y.setLayout({ depth: _ ? x.depth : h }, !0), r === 'vertical' ? y.setLayout({ dy: i }, !0) : y.setLayout({ dx: i }, !0); for (var b = 0; b < y.outEdges.length; b++) { var w = y.outEdges[b]; var S = t.indexOf(w); s[S] = 0; var M = w.node2; var I = e.indexOf(M); --l[I] === 0 && c.indexOf(M) < 0 && c.push(M) } }++h, u = c, c = [] } for (p = 0; p < s.length; p++) if (s[p] === 1) throw new Error('Sankey is a DAG, the original data has cycle!'); var A = m > h - 1 ? m : h - 1; o && o !== 'left' && f(e, o, r, A); d = r === 'vertical' ? (a - i) / A : (n - i) / A; g(e, d, r) } function d (e) { var t = e.hostGraph.data.getRawDataItem(e.dataIndex); return t.depth != null && t.depth >= 0 } function f (e, t, i, n) { if (t === 'right') { var r = []; var o = e; var s = 0; while (o.length) { for (var l = 0; l < o.length; l++) { var u = o[l]; u.setLayout({ skNodeHeight: s }, !0); for (var c = 0; c < u.inEdges.length; c++) { var h = u.inEdges[c]; r.indexOf(h.node1) < 0 && r.push(h.node1) } }o = r, r = [], ++s }a.each(e, function (e) { d(e) || e.setLayout({ depth: Math.max(0, n - e.getLayout().skNodeHeight) }, !0) }) } else t === 'justify' && p(e, n) } function p (e, t) { a.each(e, function (e) { d(e) || e.outEdges.length || e.setLayout({ depth: t }, !0) }) } function g (e, t, i) { a.each(e, function (e) { var n = e.getLayout().depth * t; i === 'vertical' ? e.setLayout({ y: n }, !0) : e.setLayout({ x: n }, !0) }) } function m (e, t, i, n, a, r, o) { var s = v(e, o); y(s, t, i, n, a, o), x(s, a, i, n, o); for (var l = 1; r > 0; r--)l *= 0.99, _(s, l, o), x(s, a, i, n, o), C(s, l, o), x(s, a, i, n, o) } function v (e, t) { var i = []; var n = t === 'vertical' ? 'y' : 'x'; var r = o(e, function (e) { return e.getLayout()[n] }); return r.keys.sort(function (e, t) { return e - t }), a.each(r.keys, function (e) { i.push(r.buckets.get(e)) }), i } function y (e, t, i, n, r, o) { var s = 1 / 0; a.each(e, function (e) { var t = e.length; var l = 0; a.each(e, function (e) { l += e.getLayout().value }); var u = o === 'vertical' ? (n - (t - 1) * r) / l : (i - (t - 1) * r) / l; u < s && (s = u) }), a.each(e, function (e) { a.each(e, function (e, t) { var i = e.getLayout().value * s; o === 'vertical' ? (e.setLayout({ x: t }, !0), e.setLayout({ dx: i }, !0)) : (e.setLayout({ y: t }, !0), e.setLayout({ dy: i }, !0)) }) }), a.each(t, function (e) { var t = +e.getValue() * s; e.setLayout({ dy: t }, !0) }) } function x (e, t, i, n, r) { var o = r === 'vertical' ? 'x' : 'y'; a.each(e, function (e) { var a, s, l; e.sort(function (e, t) { return e.getLayout()[o] - t.getLayout()[o] }); for (var u = 0, c = e.length, h = r === 'vertical' ? 'dx' : 'dy', d = 0; d < c; d++)s = e[d], l = u - s.getLayout()[o], l > 0 && (a = s.getLayout()[o] + l, r === 'vertical' ? s.setLayout({ x: a }, !0) : s.setLayout({ y: a }, !0)), u = s.getLayout()[o] + s.getLayout()[h] + t; var f = r === 'vertical' ? n : i; if (l = u - t - f, l > 0) for (a = s.getLayout()[o] - l, r === 'vertical' ? s.setLayout({ x: a }, !0) : s.setLayout({ y: a }, !0), u = a, d = c - 2; d >= 0; --d)s = e[d], l = s.getLayout()[o] + s.getLayout()[h] + t - u, l > 0 && (a = s.getLayout()[o] - l, r === 'vertical' ? s.setLayout({ x: a }, !0) : s.setLayout({ y: a }, !0)), u = s.getLayout()[o] }) } function _ (e, t, i) { a.each(e.slice().reverse(), function (e) { a.each(e, function (e) { if (e.outEdges.length) { var n = T(e.outEdges, b, i) / T(e.outEdges, A, i); if (isNaN(n)) { var a = e.outEdges.length; n = a ? T(e.outEdges, w, i) / a : 0 } if (i === 'vertical') { var r = e.getLayout().x + (n - I(e, i)) * t; e.setLayout({ x: r }, !0) } else { var o = e.getLayout().y + (n - I(e, i)) * t; e.setLayout({ y: o }, !0) } } }) }) } function b (e, t) { return I(e.node2, t) * e.getValue() } function w (e, t) { return I(e.node2, t) } function S (e, t) { return I(e.node1, t) * e.getValue() } function M (e, t) { return I(e.node1, t) } function I (e, t) { return t === 'vertical' ? e.getLayout().x + e.getLayout().dx / 2 : e.getLayout().y + e.getLayout().dy / 2 } function A (e) { return e.getValue() } function T (e, t, i) { var n = 0; var a = e.length; var r = -1; while (++r < a) { var o = +t.call(e, e[r], i); isNaN(o) || (n += o) } return n } function C (e, t, i) { a.each(e, function (e) { a.each(e, function (e) { if (e.inEdges.length) { var n = T(e.inEdges, S, i) / T(e.inEdges, A, i); if (isNaN(n)) { var a = e.inEdges.length; n = a ? T(e.inEdges, M, i) / a : 0 } if (i === 'vertical') { var r = e.getLayout().x + (n - I(e, i)) * t; e.setLayout({ x: r }, !0) } else { var o = e.getLayout().y + (n - I(e, i)) * t; e.setLayout({ y: o }, !0) } } }) }) } function D (e, t) { var i = t === 'vertical' ? 'x' : 'y'; a.each(e, function (e) { e.outEdges.sort(function (e, t) { return e.node2.getLayout()[i] - t.node2.getLayout()[i] }), e.inEdges.sort(function (e, t) { return e.node1.getLayout()[i] - t.node1.getLayout()[i] }) }), a.each(e, function (e) { var t = 0; var i = 0; a.each(e.outEdges, function (e) { e.setLayout({ sy: t }, !0), t += e.getLayout().dy }), a.each(e.inEdges, function (e) { e.setLayout({ ty: i }, !0), i += e.getLayout().dy }) }) }e.exports = s }, '82eb': function (e, t) { var i = { NONE: 0, STYLE_BIND: 1, PLAIN_TEXT: 2 }; var n = 9; t.ContextCachedBy = i, t.WILL_BE_RESTORED = n }, '82f9': function (e, t, i) { var n = i('6d8b'); var a = i('76a5'); var r = i('2306'); function o (e, t, i, n) { e[0] = i, e[1] = n, e[2] = e[0] / t.getWidth(), e[3] = e[1] / t.getHeight() } function s (e) { var t = this._zr = e.getZr(); this._styleCoord = [0, 0, 0, 0], o(this._styleCoord, t, e.getWidth() / 2, e.getHeight() / 2), this._show = !1, this._hideTimeout }s.prototype = { constructor: s, _enterable: !0, update: function (e) { var t = e.get('alwaysShowContent'); t && this._moveTooltipIfResized() }, _moveTooltipIfResized: function () { var e = this._styleCoord[2]; var t = this._styleCoord[3]; var i = e * this._zr.getWidth(); var n = t * this._zr.getHeight(); this.moveTo(i, n) }, show: function (e) { this._hideTimeout && clearTimeout(this._hideTimeout), this.el.attr('show', !0), this._show = !0 }, setContent: function (e, t, i) { this.el && this._zr.remove(this.el); var n = {}; var o = e; var s = '{marker'; var l = '|}'; var u = o.indexOf(s); while (u >= 0) { var c = o.indexOf(l); var h = o.substr(u + s.length, c - u - s.length); h.indexOf('sub') > -1 ? n['marker' + h] = { textWidth: 4, textHeight: 4, textBorderRadius: 2, textBackgroundColor: t[h], textOffset: [3, 0] } : n['marker' + h] = { textWidth: 10, textHeight: 10, textBorderRadius: 5, textBackgroundColor: t[h] }, o = o.substr(c + 1), u = o.indexOf('{marker') } var d = i.getModel('textStyle'); var f = d.get('fontSize'); var p = i.get('textLineHeight'); p == null && (p = Math.round(3 * f / 2)), this.el = new a({ style: r.setTextStyle({}, d, { rich: n, text: e, textBackgroundColor: i.get('backgroundColor'), textBorderRadius: i.get('borderRadius'), textFill: i.get('textStyle.color'), textPadding: i.get('padding'), textLineHeight: p }), z: i.get('z') }), this._zr.add(this.el); var g = this; this.el.on('mouseover', function () { g._enterable && (clearTimeout(g._hideTimeout), g._show = !0), g._inContent = !0 }), this.el.on('mouseout', function () { g._enterable && g._show && g.hideLater(g._hideDelay), g._inContent = !1 }) }, setEnterable: function (e) { this._enterable = e }, getSize: function () { var e = this.el.getBoundingRect(); return [e.width, e.height] }, moveTo: function (e, t) { if (this.el) { var i = this._styleCoord; o(i, this._zr, e, t), this.el.attr('position', [i[0], i[1]]) } }, hide: function () { this.el && this.el.hide(), this._show = !1 }, hideLater: function (e) { !this._show || this._inContent && this._enterable || (e ? (this._hideDelay = e, this._show = !1, this._hideTimeout = setTimeout(n.bind(this.hide, this), e)) : this.hide()) }, isShow: function () { return this._show }, dispose: function () { clearTimeout(this._hideTimeout), this.el && this._zr.remove(this.el) }, getOuterSize: function () { var e = this.getSize(); return { width: e[0], height: e[1] } } }; var l = s; e.exports = l }, 8344: function (e, t, i) { var n = i('6d8b'); var a = i('f706'); var r = i('3842'); var o = i('6179'); var s = i('923d'); var l = i('88f0'); function u (e, t, i) { var n = t.coordinateSystem; e.each(function (a) { var o; var s = e.getItemModel(a); var l = r.parsePercent(s.get('x'), i.getWidth()); var u = r.parsePercent(s.get('y'), i.getHeight()); if (isNaN(l) || isNaN(u)) { if (t.getMarkerPosition)o = t.getMarkerPosition(e.getValues(e.dimensions, a)); else if (n) { var c = e.get(n.dimensions[0], a); var h = e.get(n.dimensions[1], a); o = n.dataToPoint([c, h]) } } else o = [l, u]; isNaN(l) || (o[0] = l), isNaN(u) || (o[1] = u), e.setItemLayout(a, o) }) } var c = l.extend({ type: 'markPoint', updateTransform: function (e, t, i) { t.eachSeries(function (e) { var t = e.markPointModel; t && (u(t.getData(), e, i), this.markerGroupMap.get(e.id).updateLayout(t)) }, this) }, renderSeries: function (e, t, i, r) { var o = e.coordinateSystem; var s = e.id; var l = e.getData(); var c = this.markerGroupMap; var d = c.get(s) || c.set(s, new a()); var f = h(o, e, t); t.setData(f), u(t.getData(), e, r), f.each(function (e) { var i = f.getItemModel(e); var a = i.getShallow('symbol'); var r = i.getShallow('symbolSize'); var o = i.getShallow('symbolRotate'); var s = n.isFunction(a); var u = n.isFunction(r); var c = n.isFunction(o); if (s || u || c) { var h = t.getRawValue(e); var d = t.getDataParams(e); s && (a = a(h, d)), u && (r = r(h, d)), c && (o = o(h, d)) }f.setItemVisual(e, { symbol: a, symbolSize: r, symbolRotate: o, color: i.get('itemStyle.color') || l.getVisual('color') }) }), d.updateData(f), this.group.add(d.group), f.eachItemGraphicEl(function (e) { e.traverse(function (e) { e.dataModel = t }) }), d.__keep = !0, d.group.silent = t.get('silent') || e.get('silent') } }); function h (e, t, i) { var a; a = e ? n.map(e && e.dimensions, function (e) { var i = t.getData().getDimensionInfo(t.getData().mapDimension(e)) || {}; return n.defaults({ name: e }, i) }) : [{ name: 'value', type: 'float' }]; var r = new o(a, i); var l = n.map(i.get('data'), n.curry(s.dataTransform, t)); return e && (l = n.filter(l, n.curry(s.dataFilter, e))), r.initData(l, null, e ? s.dimValueGetter : function (e) { return e.value }), r }e.exports = c }, '83ba': function (e, t, i) { var n = i('6d8b'); var a = i('6cb7'); var r = i('f934'); var o = r.getLayoutParams; var s = r.sizeCalculable; var l = r.mergeLayoutParam; var u = a.extend({ type: 'calendar', coordinateSystem: null, defaultOption: { zlevel: 0, z: 2, left: 80, top: 60, cellSize: 20, orient: 'horizontal', splitLine: { show: !0, lineStyle: { color: '#000', width: 1, type: 'solid' } }, itemStyle: { color: '#fff', borderWidth: 1, borderColor: '#ccc' }, dayLabel: { show: !0, firstDay: 0, position: 'start', margin: '50%', nameMap: 'en', color: '#000' }, monthLabel: { show: !0, position: 'start', margin: 5, align: 'center', nameMap: 'en', formatter: null, color: '#000' }, yearLabel: { show: !0, position: null, margin: 30, formatter: null, color: '#ccc', fontFamily: 'sans-serif', fontWeight: 'bolder', fontSize: 20 } }, init: function (e, t, i, n) { var a = o(e); u.superApply(this, 'init', arguments), c(e, a) }, mergeOption: function (e, t) { u.superApply(this, 'mergeOption', arguments), c(this.option, e) } }); function c (e, t) { var i = e.cellSize; n.isArray(i) ? i.length === 1 && (i[1] = i[0]) : i = e.cellSize = [i, i]; var a = n.map([0, 1], function (e) { return s(t, e) && (i[e] = 'auto'), i[e] != null && i[e] !== 'auto' }); l(e, t, { type: 'box', ignoreSize: a }) } var h = u; e.exports = h }, '843e': function (e, t, i) { var n = i('6d8b'); var a = ['getDom', 'getZr', 'getWidth', 'getHeight', 'getDevicePixelRatio', 'dispatchAction', 'isDisposed', 'on', 'off', 'getDataURL', 'getConnectedDataURL', 'getModel', 'getOption', 'getViewOfComponentModel', 'getViewOfSeriesModel']; function r (e) { n.each(a, function (t) { this[t] = n.bind(e[t], e) }, this) } var o = r; e.exports = o }, 8459: function (e, t, i) { var n = i('3eba'); var a = { type: 'axisAreaSelect', event: 'axisAreaSelected' }; n.registerAction(a, function (e, t) { t.eachComponent({ mainType: 'parallelAxis', query: e }, function (t) { t.axis.model.setActiveIntervals(e.intervals) }) }), n.registerAction('parallelAxisExpand', function (e, t) { t.eachComponent({ mainType: 'parallel', query: e }, function (t) { t.setAxisExpand(e) }) }) }, '849b': function (e, t, i) { var n = i('d9d0'); var a = i('2039'); function r (e, t) { var i = []; return e.eachComponent('parallel', function (a, r) { var o = new n(a, e, t); o.name = 'parallel_' + r, o.resize(a, t), a.coordinateSystem = o, o.model = a, i.push(o) }), e.eachSeries(function (t) { if (t.get('coordinateSystem') === 'parallel') { var i = e.queryComponents({ mainType: 'parallel', index: t.get('parallelIndex'), id: t.get('parallelId') })[0]; t.coordinateSystem = i.coordinateSystem } }), i }a.register('parallel', { create: r }) }, '84ce': function (e, t, i) { var n = i('6d8b'); var a = n.each; var r = n.map; var o = i('3842'); var s = o.linearMap; var l = o.getPixelPrecision; var u = o.round; var c = i('e073'); var h = c.createAxisTicks; var d = c.createAxisLabels; var f = c.calculateCategoryInterval; var p = [0, 1]; var g = function (e, t, i) { this.dim = e, this.scale = t, this._extent = i || [0, 0], this.inverse = !1, this.onBand = !1 }; function m (e, t) { var i = e[1] - e[0]; var n = t; var a = i / n / 2; e[0] += a, e[1] -= a } function v (e, t, i, n) { var r = t.length; if (e.onBand && !i && r) { var o; var s; var l = e.getExtent(); if (r === 1)t[0].coord = l[0], o = t[1] = { coord: l[0] }; else { var c = t[r - 1].tickValue - t[0].tickValue; var h = (t[r - 1].coord - t[0].coord) / c; a(t, function (e) { e.coord -= h / 2 }); var d = e.scale.getExtent(); s = 1 + d[1] - t[r - 1].tickValue, o = { coord: t[r - 1].coord + h * s }, t.push(o) } var f = l[0] > l[1]; p(t[0].coord, l[0]) && (n ? t[0].coord = l[0] : t.shift()), n && p(l[0], t[0].coord) && t.unshift({ coord: l[0] }), p(l[1], o.coord) && (n ? o.coord = l[1] : t.pop()), n && p(o.coord, l[1]) && t.push({ coord: l[1] }) } function p (e, t) { return e = u(e), t = u(t), f ? e > t : e < t } }g.prototype = { constructor: g, contain: function (e) { var t = this._extent; var i = Math.min(t[0], t[1]); var n = Math.max(t[0], t[1]); return e >= i && e <= n }, containData: function (e) { return this.scale.contain(e) }, getExtent: function () { return this._extent.slice() }, getPixelPrecision: function (e) { return l(e || this.scale.getExtent(), this._extent) }, setExtent: function (e, t) { var i = this._extent; i[0] = e, i[1] = t }, dataToCoord: function (e, t) { var i = this._extent; var n = this.scale; return e = n.normalize(e), this.onBand && n.type === 'ordinal' && (i = i.slice(), m(i, n.count())), s(e, p, i, t) }, coordToData: function (e, t) { var i = this._extent; var n = this.scale; this.onBand && n.type === 'ordinal' && (i = i.slice(), m(i, n.count())); var a = s(e, i, p, t); return this.scale.scale(a) }, pointToData: function (e, t) {}, getTicksCoords: function (e) { e = e || {}; var t = e.tickModel || this.getTickModel(); var i = h(this, t); var n = i.ticks; var a = r(n, function (e) { return { coord: this.dataToCoord(e), tickValue: e } }, this); var o = t.get('alignWithLabel'); return v(this, a, o, e.clamp), a }, getMinorTicksCoords: function () { if (this.scale.type === 'ordinal') return []; var e = this.model.getModel('minorTick'); var t = e.get('splitNumber'); t > 0 && t < 100 || (t = 5); var i = this.scale.getMinorTicks(t); var n = r(i, function (e) { return r(e, function (e) { return { coord: this.dataToCoord(e), tickValue: e } }, this) }, this); return n }, getViewLabels: function () { return d(this).labels }, getLabelModel: function () { return this.model.getModel('axisLabel') }, getTickModel: function () { return this.model.getModel('axisTick') }, getBandWidth: function () { var e = this._extent; var t = this.scale.getExtent(); var i = t[1] - t[0] + (this.onBand ? 1 : 0); i === 0 && (i = 1); var n = Math.abs(e[1] - e[0]); return Math.abs(n) / i }, isHorizontal: null, getRotate: null, calculateCategoryInterval: function () { return f(this) } }; var y = g; e.exports = y }, '84d5': function (e, t, i) { var n = i('3eba'); var a = i('6d8b'); var r = i('4319'); var o = i('e0d3'); var s = o.isNameSpecified; var l = i('29a8'); var u = l.legend.selector; var c = { all: { type: 'all', title: a.clone(u.all) }, inverse: { type: 'inverse', title: a.clone(u.inverse) } }; var h = n.extendComponentModel({ type: 'legend.plain', dependencies: ['series'], layoutMode: { type: 'box', ignoreSize: !0 }, init: function (e, t, i) { this.mergeDefaultAndTheme(e, i), e.selected = e.selected || {}, this._updateSelector(e) }, mergeOption: function (e) { h.superCall(this, 'mergeOption', e), this._updateSelector(e) }, _updateSelector: function (e) { var t = e.selector; !0 === t && (t = e.selector = ['all', 'inverse']), a.isArray(t) && a.each(t, function (e, i) { a.isString(e) && (e = { type: e }), t[i] = a.merge(e, c[e.type]) }) }, optionUpdated: function () { this._updateData(this.ecModel); var e = this._data; if (e[0] && this.get('selectedMode') === 'single') { for (var t = !1, i = 0; i < e.length; i++) { var n = e[i].get('name'); if (this.isSelected(n)) { this.select(n), t = !0; break } }!t && this.select(e[0].get('name')) } }, _updateData: function (e) { var t = []; var i = []; e.eachRawSeries(function (n) { var a; var r = n.name; if (i.push(r), n.legendVisualProvider) { var o = n.legendVisualProvider; var l = o.getAllNames(); e.isSeriesFiltered(n) || (i = i.concat(l)), l.length ? t = t.concat(l) : a = !0 } else a = !0; a && s(n) && t.push(n.name) }), this._availableNames = i; var n = this.get('data') || t; var o = a.map(n, function (e) { return typeof e !== 'string' && typeof e !== 'number' || (e = { name: e }), new r(e, this, this.ecModel) }, this); this._data = o }, getData: function () { return this._data }, select: function (e) { var t = this.option.selected; var i = this.get('selectedMode'); if (i === 'single') { var n = this._data; a.each(n, function (e) { t[e.get('name')] = !1 }) }t[e] = !0 }, unSelect: function (e) { this.get('selectedMode') !== 'single' && (this.option.selected[e] = !1) }, toggleSelected: function (e) { var t = this.option.selected; t.hasOwnProperty(e) || (t[e] = !0), this[t[e] ? 'unSelect' : 'select'](e) }, allSelect: function () { var e = this._data; var t = this.option.selected; a.each(e, function (e) { t[e.get('name', !0)] = !0 }) }, inverseSelect: function () { var e = this._data; var t = this.option.selected; a.each(e, function (e) { var i = e.get('name', !0); t.hasOwnProperty(i) || (t[i] = !0), t[i] = !t[i] }) }, isSelected: function (e) { var t = this.option.selected; return !(t.hasOwnProperty(e) && !t[e]) && a.indexOf(this._availableNames, e) >= 0 }, getOrient: function () { return this.get('orient') === 'vertical' ? { index: 1, name: 'vertical' } : { index: 0, name: 'horizontal' } }, defaultOption: { zlevel: 0, z: 4, show: !0, orient: 'horizontal', left: 'center', top: 0, align: 'auto', backgroundColor: 'rgba(0,0,0,0)', borderColor: '#ccc', borderRadius: 0, borderWidth: 0, padding: 5, itemGap: 10, itemWidth: 25, itemHeight: 14, inactiveColor: '#ccc', inactiveBorderColor: '#ccc', itemStyle: { borderWidth: 0 }, textStyle: { color: '#333' }, selectedMode: !0, selector: !1, selectorLabel: { show: !0, borderRadius: 10, padding: [3, 5, 3, 5], fontSize: 12, fontFamily: ' sans-serif', color: '#666', borderWidth: 1, borderColor: '#666' }, emphasis: { selectorLabel: { show: !0, color: '#eee', backgroundColor: '#666' } }, selectorPosition: 'auto', selectorItemGap: 7, selectorButtonGap: 10, tooltip: { show: !1 } } }); var d = h; e.exports = d }, '84ec': function (e, t) { var i = Math.log(2); function n (e, t, a, r, o, s) { var l = r + '-' + o; var u = e.length; if (s.hasOwnProperty(l)) return s[l]; if (t === 1) { var c = Math.round(Math.log((1 << u) - 1 & ~o) / i); return e[a][c] } var h = r | 1 << a; var d = a + 1; while (r & 1 << d)d++; for (var f = 0, p = 0, g = 0; p < u; p++) { var m = 1 << p; m & o || (f += (g % 2 ? -1 : 1) * e[a][p] * n(e, t - 1, d, h, o | m, s), g++) } return s[l] = f, f } function a (e, t) { var i = [[e[0], e[1], 1, 0, 0, 0, -t[0] * e[0], -t[0] * e[1]], [0, 0, 0, e[0], e[1], 1, -t[1] * e[0], -t[1] * e[1]], [e[2], e[3], 1, 0, 0, 0, -t[2] * e[2], -t[2] * e[3]], [0, 0, 0, e[2], e[3], 1, -t[3] * e[2], -t[3] * e[3]], [e[4], e[5], 1, 0, 0, 0, -t[4] * e[4], -t[4] * e[5]], [0, 0, 0, e[4], e[5], 1, -t[5] * e[4], -t[5] * e[5]], [e[6], e[7], 1, 0, 0, 0, -t[6] * e[6], -t[6] * e[7]], [0, 0, 0, e[6], e[7], 1, -t[7] * e[6], -t[7] * e[7]]]; var a = {}; var r = n(i, 8, 0, 0, 0, a); if (r !== 0) { for (var o = [], s = 0; s < 8; s++) for (var l = 0; l < 8; l++)o[l] == null && (o[l] = 0), o[l] += ((s + l) % 2 ? -1 : 1) * n(i, 7, s === 0 ? 1 : 0, 1 << s, 1 << l, a) / r * t[s]; return function (e, t, i) { var n = t * o[6] + i * o[7] + 1; e[0] = (t * o[0] + i * o[1] + o[2]) / n, e[1] = (t * o[3] + i * o[4] + o[5]) / n } } }t.buildTransformer = a }, '857d': function (e, t) { var i = 2 * Math.PI; function n (e) { return e %= i, e < 0 && (e += i), e }t.normalizeRadian = n }, '862d': function (e, t, i) { var n = i('6d8b'); var a = n.createHashMap; var r = n.each; var o = n.isString; var s = n.defaults; var l = n.extend; var u = n.isObject; var c = n.clone; var h = i('e0d3'); var d = h.normalizeToArray; var f = i('0f99'); var p = f.guessOrdinal; var g = f.BE_ORDINAL; var m = i('ec6f'); var v = i('2f45'); var y = v.OTHER_DIMENSIONS; var x = i('562e'); function _ (e, t, i) { m.isInstance(t) || (t = m.seriesDataToSource(t)), i = i || {}, e = (e || []).slice(); for (var n = (i.dimsDef || []).slice(), h = a(), f = a(), v = [], _ = b(t, e, n, i.dimCount), S = 0; S < _; S++) { var M = n[S] = l({}, u(n[S]) ? n[S] : { name: n[S] }); var I = M.name; var A = v[S] = new x(); I != null && h.get(I) == null && (A.name = A.displayName = I, h.set(I, S)), M.type != null && (A.type = M.type), M.displayName != null && (A.displayName = M.displayName) } var T = i.encodeDef; !T && i.encodeDefaulter && (T = i.encodeDefaulter(t, _)), T = a(T), T.each(function (e, t) { if (e = d(e).slice(), e.length === 1 && !o(e[0]) && e[0] < 0)T.set(t, !1); else { var i = T.set(t, []); r(e, function (e, n) { o(e) && (e = h.get(e)), e != null && e < _ && (i[n] = e, D(v[e], t, n)) }) } }); var C = 0; function D (e, t, i) { y.get(t) != null ? e.otherDims[t] = i : (e.coordDim = t, e.coordDimIndex = i, f.set(t, !0)) }r(e, function (e, t) { var i, n, a; if (o(e))i = e, e = {}; else { i = e.name; var l = e.ordinalMeta; e.ordinalMeta = null, e = c(e), e.ordinalMeta = l, n = e.dimsDef, a = e.otherDims, e.name = e.coordDim = e.coordDimIndex = e.dimsDef = e.otherDims = null } var h = T.get(i); if (!1 !== h) { h = d(h); if (!h.length) for (var f = 0; f < (n && n.length || 1); f++) { while (C < v.length && v[C].coordDim != null)C++; C < v.length && h.push(C++) }r(h, function (t, r) { var o = v[t]; if (D(s(o, e), i, r), o.name == null && n) { var l = n[r]; !u(l) && (l = { name: l }), o.name = o.displayName = l.name, o.defaultTooltip = l.defaultTooltip }a && s(o.otherDims, a) }) } }); var L = i.generateCoord; var P = i.generateCoordCount; var k = P != null; P = L ? P || 1 : 0; for (var O = L || 'value', R = 0; R < _; R++) { A = v[R] = v[R] || new x(); var E = A.coordDim; E == null && (A.coordDim = w(O, f, k), A.coordDimIndex = 0, (!L || P <= 0) && (A.isExtraCoord = !0), P--), A.name == null && (A.name = w(A.coordDim, h)), A.type != null || p(t, R, A.name) !== g.Must && (!A.isExtraCoord || A.otherDims.itemName == null && A.otherDims.seriesName == null) || (A.type = 'ordinal') } return v } function b (e, t, i, n) { var a = Math.max(e.dimensionsDetectCount || 1, t.length, i.length, n || 0); return r(t, function (e) { var t = e.dimsDef; t && (a = Math.max(a, t.length)) }), a } function w (e, t, i) { if (i || t.get(e) != null) { var n = 0; while (t.get(e + n) != null)n++; e += n } return t.set(e, !0), e } var S = _; e.exports = S }, '870e': function (e, t, i) { var n = i('6d8b'); function a (e) { e.eachSeriesByType('radar', function (e) { var t = e.getData(); var i = []; var a = e.coordinateSystem; if (a) { var s = a.getIndicatorAxes(); n.each(s, function (e, n) { t.each(t.mapDimension(s[n].dim), function (e, t) { i[t] = i[t] || []; var s = a.dataToPoint(e, n); i[t][n] = r(s) ? s : o(a) }) }), t.each(function (e) { var s = n.find(i[e], function (e) { return r(e) }) || o(a); i[e].push(s.slice()), t.setItemLayout(e, i[e]) }) } }) } function r (e) { return !isNaN(e[0]) && !isNaN(e[1]) } function o (e) { return [e.cx, e.cy] }e.exports = a }, 8727: function (e, t) { var i = 'http://www.w3.org/2000/svg'; function n (e) { return document.createElementNS(i, e) }t.createElement = n }, 8728: function (e, t) { function i (e, t, i, n, a, r) { if (r > t && r > n || r < t && r < n) return 0; if (n === t) return 0; var o = n < t ? 1 : -1; var s = (r - t) / (n - t); s !== 1 && s !== 0 || (o = n < t ? 0.5 : -0.5); var l = s * (i - e) + e; return l === a ? 1 / 0 : l > a ? o : 0 }e.exports = i }, '879e': function (e, t, i) { var n = i('3eba'); var a = i('6179'); var r = i('6d8b'); var o = i('e0d3'); var s = o.defaultEmphasis; var l = i('4319'); var u = i('eda2'); var c = u.encodeHTML; var h = i('237f'); var d = i('c4a3'); var f = i('0c37'); var p = f.initCurvenessList; var g = f.createEdgeMapForCurveness; var m = n.extendSeriesModel({ type: 'series.graph', init: function (e) { m.superApply(this, 'init', arguments); var t = this; function i () { return t._categoriesData } this.legendVisualProvider = new d(i, i), this.fillDataTextStyle(e.edges || e.links), this._updateCategoriesData() }, mergeOption: function (e) { m.superApply(this, 'mergeOption', arguments), this.fillDataTextStyle(e.edges || e.links), this._updateCategoriesData() }, mergeDefaultAndTheme: function (e) { m.superApply(this, 'mergeDefaultAndTheme', arguments), s(e, ['edgeLabel'], ['show']) }, getInitialData: function (e, t) { var i = e.edges || e.links || []; var n = e.data || e.nodes || []; var a = this; if (n && i) { p(this); var o = h(n, i, this, !0, s); return r.each(o.edges, function (e) { g(e.node1, e.node2, this, e.dataIndex) }, this), o.data } function s (e, i) { e.wrapMethod('getItemModel', function (e) { var t = a._categoriesModels; var i = e.getShallow('category'); var n = t[i]; return n && (n.parentModel = e.parentModel, e.parentModel = n), e }); var n = a.getModel('edgeLabel'); var r = new l({ label: n.option }, n.parentModel, t); var o = a.getModel('emphasis.edgeLabel'); var s = new l({ emphasis: { label: o.option } }, o.parentModel, t); function u (e) { return e = this.parsePath(e), e && e[0] === 'label' ? r : e && e[0] === 'emphasis' && e[1] === 'label' ? s : this.parentModel }i.wrapMethod('getItemModel', function (e) { return e.customizeGetParent(u), e }) } }, getGraph: function () { return this.getData().graph }, getEdgeData: function () { return this.getGraph().edgeData }, getCategoriesData: function () { return this._categoriesData }, formatTooltip: function (e, t, i) { if (i === 'edge') { var n = this.getData(); var a = this.getDataParams(e, i); var r = n.graph.getEdgeByIndex(e); var o = n.getName(r.node1.dataIndex); var s = n.getName(r.node2.dataIndex); var l = []; return o != null && l.push(o), s != null && l.push(s), l = c(l.join(' > ')), a.value && (l += ' : ' + c(a.value)), l } return m.superApply(this, 'formatTooltip', arguments) }, _updateCategoriesData: function () { var e = r.map(this.option.categories || [], function (e) { return e.value != null ? e : r.extend({ value: 0 }, e) }); var t = new a(['value'], this); t.initData(e), this._categoriesData = t, this._categoriesModels = t.mapArray(function (e) { return t.getItemModel(e, !0) }) }, setZoom: function (e) { this.option.zoom = e }, setCenter: function (e) { this.option.center = e }, isAnimationEnabled: function () { return m.superCall(this, 'isAnimationEnabled') && !(this.get('layout') === 'force' && this.get('force.layoutAnimation')) }, defaultOption: { zlevel: 0, z: 2, coordinateSystem: 'view', legendHoverLink: !0, hoverAnimation: !0, layout: null, focusNodeAdjacency: !1, circular: { rotateLabel: !1 }, force: { initLayout: null, repulsion: [0, 50], gravity: 0.1, friction: 0.6, edgeLength: 30, layoutAnimation: !0 }, left: 'center', top: 'center', symbol: 'circle', symbolSize: 10, edgeSymbol: ['none', 'none'], edgeSymbolSize: 10, edgeLabel: { position: 'middle', distance: 5 }, draggable: !1, roam: !1, center: null, zoom: 1, nodeScaleRatio: 0.6, label: { show: !1, formatter: '{b}' }, itemStyle: {}, lineStyle: { color: '#aaa', width: 1, opacity: 0.5 }, emphasis: { label: { show: !0 } } } }); var v = m; e.exports = v }, '87b1': function (e, t, i) { var n = i('cbe5'); var a = i('4fac'); var r = n.extend({ type: 'polygon', shape: { points: null, smooth: !1, smoothConstraint: null }, buildPath: function (e, t) { a.buildPath(e, t, !0) } }); e.exports = r }, '87c3': function (e, t, i) { var n = i('6d8b'); var a = n.map; var r = i('cccd'); var o = i('ee1a'); var s = o.isDimensionStacked; function l (e) { return { seriesType: e, plan: r(), reset: function (e) { var t = e.getData(); var i = e.coordinateSystem; var n = e.pipelineContext; var r = n.large; if (i) { var o = a(i.dimensions, function (e) { return t.mapDimension(e) }).slice(0, 2); var l = o.length; var u = t.getCalculationInfo('stackResultDimension'); return s(t, o[0]) && (o[0] = u), s(t, o[1]) && (o[1] = u), l && { progress: c } } function c (e, t) { for (var n = e.end - e.start, a = r && new Float32Array(n * l), s = e.start, u = 0, c = [], h = []; s < e.end; s++) { var d; if (l === 1) { var f = t.get(o[0], s); d = !isNaN(f) && i.dataToPoint(f, null, h) } else { f = c[0] = t.get(o[0], s); var p = c[1] = t.get(o[1], s); d = !isNaN(f) && !isNaN(p) && i.dataToPoint(c, null, h) }r ? (a[u++] = d ? d[0] : NaN, a[u++] = d ? d[1] : NaN) : t.setItemLayout(s, d && d.slice() || [NaN, NaN]) }r && t.setLayout('symbolPoints', a) } } } }e.exports = l }, '88b3': function (e, t) { var i = '\0__throttleOriginMethod'; var n = '\0__throttleRate'; var a = '\0__throttleType'; function r (e, t, i) { var n; var a; var r; var o; var s; var l = 0; var u = 0; var c = null; function h () { u = (new Date()).getTime(), c = null, e.apply(r, o || []) }t = t || 0; var d = function () { n = (new Date()).getTime(), r = this, o = arguments; var e = s || t; var d = s || i; s = null, a = n - (d ? l : u) - e, clearTimeout(c), d ? c = setTimeout(h, e) : a >= 0 ? h() : c = setTimeout(h, -a), l = n }; return d.clear = function () { c && (clearTimeout(c), c = null) }, d.debounceNextCall = function (e) { s = e }, d } function o (e, t, o, s) { var l = e[t]; if (l) { var u = l[i] || l; var c = l[a]; var h = l[n]; if (h !== o || c !== s) { if (o == null || !s) return e[t] = u; l = e[t] = r(u, o, s === 'debounce'), l[i] = u, l[a] = s, l[n] = o } return l } } function s (e, t) { var n = e[t]; n && n[i] && (e[t] = n[i]) }t.throttle = r, t.createOrUpdate = o, t.clear = s }, '88f0': function (e, t, i) { var n = i('3eba'); var a = i('6d8b'); var r = n.extendComponentView({ type: 'marker', init: function () { this.markerGroupMap = a.createHashMap() }, render: function (e, t, i) { var n = this.markerGroupMap; n.each(function (e) { e.__keep = !1 }); var a = this.type + 'Model'; t.eachSeries(function (e) { var n = e[a]; n && this.renderSeries(e, n, t, i) }, this), n.each(function (e) { !e.__keep && this.group.remove(e.group) }, this) }, renderSeries: function () {} }); e.exports = r }, 8918: function (e, t, i) { var n = i('6d8b'); var a = i('625e'); var r = a.parseClassType; var o = 0; function s (e) { return [e || '', o++, Math.random().toFixed(5)].join('_') } function l (e) { var t = {}; return e.registerSubTypeDefaulter = function (e, i) { e = r(e), t[e.main] = i }, e.determineSubType = function (i, n) { var a = n.type; if (!a) { var o = r(i).main; e.hasSubTypes(i) && t[o] && (a = t[o](n)) } return a }, e } function u (e, t) { function i (e) { var i = {}; var o = []; return n.each(e, function (s) { var l = a(i, s); var u = l.originalDeps = t(s); var c = r(u, e); l.entryCount = c.length, l.entryCount === 0 && o.push(s), n.each(c, function (e) { n.indexOf(l.predecessor, e) < 0 && l.predecessor.push(e); var t = a(i, e); n.indexOf(t.successor, e) < 0 && t.successor.push(s) }) }), { graph: i, noEntryList: o } } function a (e, t) { return e[t] || (e[t] = { predecessor: [], successor: [] }), e[t] } function r (e, t) { var i = []; return n.each(e, function (e) { n.indexOf(t, e) >= 0 && i.push(e) }), i }e.topologicalTravel = function (e, t, a, r) { if (e.length) { var o = i(t); var s = o.graph; var l = o.noEntryList; var u = {}; n.each(e, function (e) { u[e] = !0 }); while (l.length) { var c = l.pop(); var h = s[c]; var d = !!u[c]; d && (a.call(r, c, h.originalDeps.slice()), delete u[c]), n.each(h.successor, d ? p : f) }n.each(u, function () { throw new Error('Circle dependency may exists') }) } function f (e) { s[e].entryCount--, s[e].entryCount === 0 && l.push(e) } function p (e) { u[e] = !0, f(e) } } }t.getUID = s, t.enableSubTypeDefaulter = l, t.enableTopologicalTravel = u }, 8971: function (e, t) { var i = ''; typeof navigator !== 'undefined' && (i = navigator.platform || ''); var n = { color: ['#c23531', '#2f4554', '#61a0a8', '#d48265', '#91c7ae', '#749f83', '#ca8622', '#bda29a', '#6e7074', '#546570', '#c4ccd3'], gradientColor: ['#f6efa6', '#d88273', '#bf444c'], textStyle: { fontFamily: i.match(/^Win/) ? 'Microsoft YaHei' : 'sans-serif', fontSize: 12, fontStyle: 'normal', fontWeight: 'normal' }, blendMode: null, animation: 'auto', animationDuration: 1e3, animationDurationUpdate: 300, animationEasing: 'exponentialOut', animationEasingUpdate: 'cubicOut', animationThreshold: 2e3, progressiveThreshold: 3e3, progressive: 400, hoverLayerThreshold: 3e3, useUTC: !1 }; e.exports = n }, '897a': function (e, t, i) { var n = i('22d1'); var a = [['shadowBlur', 0], ['shadowColor', '#000'], ['shadowOffsetX', 0], ['shadowOffsetY', 0]]; function r (e) { return n.browser.ie && n.browser.version >= 11 ? function () { var t; var i = this.__clipPaths; var n = this.style; if (i) for (var r = 0; r < i.length; r++) { var o = i[r]; var s = o && o.shape; var l = o && o.type; if (s && (l === 'sector' && s.startAngle === s.endAngle || l === 'rect' && (!s.width || !s.height))) { for (var u = 0; u < a.length; u++)a[u][2] = n[a[u][0]], n[a[u][0]] = a[u][1]; t = !0; break } } if (e.apply(this, arguments), t) for (u = 0; u < a.length; u++)n[a[u][0]] = a[u][2] } : e }e.exports = r }, '89e3': function (e, t, i) { var n = i('3842'); var a = i('eda2'); var r = i('e0d8'); var o = i('944e'); var s = n.round; var l = r.extend({ type: 'interval', _interval: 0, _intervalPrecision: 2, setExtent: function (e, t) { var i = this._extent; isNaN(e) || (i[0] = parseFloat(e)), isNaN(t) || (i[1] = parseFloat(t)) }, unionExtent: function (e) { var t = this._extent; e[0] < t[0] && (t[0] = e[0]), e[1] > t[1] && (t[1] = e[1]), l.prototype.setExtent.call(this, t[0], t[1]) }, getInterval: function () { return this._interval }, setInterval: function (e) { this._interval = e, this._niceExtent = this._extent.slice(), this._intervalPrecision = o.getIntervalPrecision(e) }, getTicks: function (e) { var t = this._interval; var i = this._extent; var n = this._niceExtent; var a = this._intervalPrecision; var r = []; if (!t) return r; var o = 1e4; i[0] < n[0] && (e ? r.push(s(n[0] - t, a)) : r.push(i[0])); var l = n[0]; while (l <= n[1]) { if (r.push(l), l = s(l + t, a), l === r[r.length - 1]) break; if (r.length > o) return [] } var u = r.length ? r[r.length - 1] : n[1]; return i[1] > u && (e ? r.push(s(u + t, a)) : r.push(i[1])), r }, getMinorTicks: function (e) { for (var t = this.getTicks(!0), i = [], a = this.getExtent(), r = 1; r < t.length; r++) { var o = t[r]; var s = t[r - 1]; var l = 0; var u = []; var c = o - s; var h = c / e; while (l < e - 1) { var d = n.round(s + (l + 1) * h); d > a[0] && d < a[1] && u.push(d), l++ }i.push(u) } return i }, getLabel: function (e, t) { if (e == null) return ''; var i = t && t.precision; return i == null ? i = n.getPrecisionSafe(e) || 0 : i === 'auto' && (i = this._intervalPrecision), e = s(e, i, !0), a.addCommas(e) }, niceTicks: function (e, t, i) { e = e || 5; var n = this._extent; var a = n[1] - n[0]; if (isFinite(a)) { a < 0 && (a = -a, n.reverse()); var r = o.intervalScaleNiceTicks(n, e, t, i); this._intervalPrecision = r.intervalPrecision, this._interval = r.interval, this._niceExtent = r.niceTickExtent } }, niceExtent: function (e) { var t = this._extent; if (t[0] === t[1]) if (t[0] !== 0) { var i = t[0]; e.fixMax || (t[1] += i / 2), t[0] -= i / 2 } else t[1] = 1; var n = t[1] - t[0]; isFinite(n) || (t[0] = 0, t[1] = 1), this.niceTicks(e.splitNumber, e.minInterval, e.maxInterval); var a = this._interval; e.fixMin || (t[0] = s(Math.floor(t[0] / a) * a)), e.fixMax || (t[1] = s(Math.ceil(t[1] / a) * a)) } }); l.create = function () { return new l() }; var u = l; e.exports = u }, '8aa5': function (e, t, i) { 'use strict'; var n = i('6547').charAt; e.exports = function (e, t, i) { return t + (i ? n(e, t).length : 1) } }, '8b7f': function (e, t, i) { var n = i('4e08'); var a = (n.__DEV__, i('6d8b')); var r = a.createHashMap; var o = (a.retrieve, a.each); function s (e) { this.coordSysName = e, this.coordSysDims = [], this.axisMap = r(), this.categoryAxisMap = r(), this.firstCategoryDimIndex = null } function l (e) { var t = e.get('coordinateSystem'); var i = new s(t); var n = u[t]; if (n) return n(e, i, i.axisMap, i.categoryAxisMap), i } var u = { cartesian2d: function (e, t, i, n) { var a = e.getReferringComponents('xAxis')[0]; var r = e.getReferringComponents('yAxis')[0]; t.coordSysDims = ['x', 'y'], i.set('x', a), i.set('y', r), c(a) && (n.set('x', a), t.firstCategoryDimIndex = 0), c(r) && (n.set('y', r), t.firstCategoryDimIndex, t.firstCategoryDimIndex = 1) }, singleAxis: function (e, t, i, n) { var a = e.getReferringComponents('singleAxis')[0]; t.coordSysDims = ['single'], i.set('single', a), c(a) && (n.set('single', a), t.firstCategoryDimIndex = 0) }, polar: function (e, t, i, n) { var a = e.getReferringComponents('polar')[0]; var r = a.findAxisModel('radiusAxis'); var o = a.findAxisModel('angleAxis'); t.coordSysDims = ['radius', 'angle'], i.set('radius', r), i.set('angle', o), c(r) && (n.set('radius', r), t.firstCategoryDimIndex = 0), c(o) && (n.set('angle', o), t.firstCategoryDimIndex == null && (t.firstCategoryDimIndex = 1)) }, geo: function (e, t, i, n) { t.coordSysDims = ['lng', 'lat'] }, parallel: function (e, t, i, n) { var a = e.ecModel; var r = a.getComponent('parallel', e.get('parallelIndex')); var s = t.coordSysDims = r.dimensions.slice(); o(r.parallelAxisIndex, function (e, r) { var o = a.getComponent('parallelAxis', e); var l = s[r]; i.set(l, o), c(o) && t.firstCategoryDimIndex == null && (n.set(l, o), t.firstCategoryDimIndex = r) }) } }; function c (e) { return e.get('type') === 'category' }t.getCoordSysInfoBySeries = l }, '8c2a': function (e, t, i) { var n = i('6d8b'); var a = i('e0d8'); var r = i('3842'); var o = i('89e3'); var s = a.prototype; var l = o.prototype; var u = r.getPrecisionSafe; var c = r.round; var h = Math.floor; var d = Math.ceil; var f = Math.pow; var p = Math.log; var g = a.extend({ type: 'log', base: 10, $constructor: function () { a.apply(this, arguments), this._originalScale = new o() }, getTicks: function (e) { var t = this._originalScale; var i = this._extent; var a = t.getExtent(); return n.map(l.getTicks.call(this, e), function (e) { var n = r.round(f(this.base, e)); return n = e === i[0] && t.__fixMin ? m(n, a[0]) : n, n = e === i[1] && t.__fixMax ? m(n, a[1]) : n, n }, this) }, getMinorTicks: l.getMinorTicks, getLabel: l.getLabel, scale: function (e) { return e = s.scale.call(this, e), f(this.base, e) }, setExtent: function (e, t) { var i = this.base; e = p(e) / p(i), t = p(t) / p(i), l.setExtent.call(this, e, t) }, getExtent: function () { var e = this.base; var t = s.getExtent.call(this); t[0] = f(e, t[0]), t[1] = f(e, t[1]); var i = this._originalScale; var n = i.getExtent(); return i.__fixMin && (t[0] = m(t[0], n[0])), i.__fixMax && (t[1] = m(t[1], n[1])), t }, unionExtent: function (e) { this._originalScale.unionExtent(e); var t = this.base; e[0] = p(e[0]) / p(t), e[1] = p(e[1]) / p(t), s.unionExtent.call(this, e) }, unionExtentFromData: function (e, t) { this.unionExtent(e.getApproximateExtent(t)) }, niceTicks: function (e) { e = e || 10; var t = this._extent; var i = t[1] - t[0]; if (!(i === 1 / 0 || i <= 0)) { var n = r.quantity(i); var a = e / i * n; a <= 0.5 && (n *= 10); while (!isNaN(n) && Math.abs(n) < 1 && Math.abs(n) > 0)n *= 10; var o = [r.round(d(t[0] / n) * n), r.round(h(t[1] / n) * n)]; this._interval = n, this._niceExtent = o } }, niceExtent: function (e) { l.niceExtent.call(this, e); var t = this._originalScale; t.__fixMin = e.fixMin, t.__fixMax = e.fixMax } }); function m (e, t) { return c(e, u(t)) }n.each(['contain', 'normalize'], function (e) { g.prototype[e] = function (t) { return t = p(t) / p(this.base), s[e].call(this, t) } }), g.create = function () { return new g() }; var v = g; e.exports = v }, '8d32': function (e, t, i) { var n = i('cbe5'); var a = n.extend({ type: 'arc', shape: { cx: 0, cy: 0, r: 0, startAngle: 0, endAngle: 2 * Math.PI, clockwise: !0 }, style: { stroke: '#000', fill: null }, buildPath: function (e, t) { var i = t.cx; var n = t.cy; var a = Math.max(t.r, 0); var r = t.startAngle; var o = t.endAngle; var s = t.clockwise; var l = Math.cos(r); var u = Math.sin(r); e.moveTo(l * a + i, u * a + n), e.arc(i, n, a, r, o, !s) } }); e.exports = a }, '8deb': function (e, t, i) { var n = i('3eba'); i('5522'), i('a016'), i('1466'); var a = i('98e7'); var r = i('7f96'); var o = i('870e'); var s = i('d3f4'); var l = i('7891'); n.registerVisual(a('radar')), n.registerVisual(r('radar', 'circle')), n.registerLayout(o), n.registerProcessor(s('radar')), n.registerPreprocessor(l) }, '8e43': function (e, t, i) { var n = i('6d8b'); var a = n.createHashMap; var r = n.isObject; var o = n.map; function s (e) { this.categories = e.categories || [], this._needCollect = e.needCollect, this._deduplication = e.deduplication, this._map }s.createByAxisModel = function (e) { var t = e.option; var i = t.data; var n = i && o(i, c); return new s({ categories: n, needCollect: !n, deduplication: !1 !== t.dedplication }) }; var l = s.prototype; function u (e) { return e._map || (e._map = a(e.categories)) } function c (e) { return r(e) && e.value != null ? e.value : e + '' }l.getOrdinal = function (e) { return u(this).get(e) }, l.parseAndCollect = function (e) { var t; var i = this._needCollect; if (typeof e !== 'string' && !i) return e; if (i && !this._deduplication) return t = this.categories.length, this.categories[t] = e, t; var n = u(this); return t = n.get(e), t == null && (i ? (t = this.categories.length, this.categories[t] = e, n.set(e, t)) : t = NaN), t }; var h = s; e.exports = h }, '8e77': function (e, t, i) { var n = i('6d8b'); var a = i('41ef'); var r = i('6179'); var o = i('3842'); var s = i('2306'); var l = i('923d'); var u = i('88f0'); var c = function (e, t, i, a) { var r = l.dataTransform(e, a[0]); var o = l.dataTransform(e, a[1]); var s = n.retrieve; var u = r.coord; var c = o.coord; u[0] = s(u[0], -1 / 0), u[1] = s(u[1], -1 / 0), c[0] = s(c[0], 1 / 0), c[1] = s(c[1], 1 / 0); var h = n.mergeAll([{}, r, o]); return h.coord = [r.coord, o.coord], h.x0 = r.x, h.y0 = r.y, h.x1 = o.x, h.y1 = o.y, h }; function h (e) { return !isNaN(e) && !isFinite(e) } function d (e, t, i, n) { var a = 1 - e; return h(t[a]) && h(i[a]) } function f (e, t) { var i = t.coord[0]; var n = t.coord[1]; return !(e.type !== 'cartesian2d' || !i || !n || !d(1, i, n, e) && !d(0, i, n, e)) || (l.dataFilter(e, { coord: i, x: t.x0, y: t.y0 }) || l.dataFilter(e, { coord: n, x: t.x1, y: t.y1 })) } function p (e, t, i, n, a) { var r; var s = n.coordinateSystem; var l = e.getItemModel(t); var u = o.parsePercent(l.get(i[0]), a.getWidth()); var c = o.parsePercent(l.get(i[1]), a.getHeight()); if (isNaN(u) || isNaN(c)) { if (n.getMarkerPosition)r = n.getMarkerPosition(e.getValues(i, t)); else { var d = e.get(i[0], t); var f = e.get(i[1], t); var p = [d, f]; s.clampData && s.clampData(p, p), r = s.dataToPoint(p, !0) } if (s.type === 'cartesian2d') { var g = s.getAxis('x'); var m = s.getAxis('y'); d = e.get(i[0], t), f = e.get(i[1], t); h(d) ? r[0] = g.toGlobalCoord(g.getExtent()[i[0] === 'x0' ? 0 : 1]) : h(f) && (r[1] = m.toGlobalCoord(m.getExtent()[i[1] === 'y0' ? 0 : 1])) }isNaN(u) || (r[0] = u), isNaN(c) || (r[1] = c) } else r = [u, c]; return r } var g = [['x0', 'y0'], ['x1', 'y0'], ['x1', 'y1'], ['x0', 'y1']]; function m (e, t, i) { var a; var o; var s = ['x0', 'y0', 'x1', 'y1']; e ? (a = n.map(e && e.dimensions, function (e) { var i = t.getData(); var a = i.getDimensionInfo(i.mapDimension(e)) || {}; return n.defaults({ name: e }, a) }), o = new r(n.map(s, function (e, t) { return { name: e, type: a[t % 2].type } }), i)) : (a = [{ name: 'value', type: 'float' }], o = new r(a, i)); var l = n.map(i.get('data'), n.curry(c, t, e, i)); e && (l = n.filter(l, n.curry(f, e))); var u = e ? function (e, t, i, n) { return e.coord[Math.floor(n / 2)][n % 2] } : function (e) { return e.value }; return o.initData(l, null, u), o.hasItemOption = !0, o }u.extend({ type: 'markArea', updateTransform: function (e, t, i) { t.eachSeries(function (e) { var t = e.markAreaModel; if (t) { var a = t.getData(); a.each(function (t) { var r = n.map(g, function (n) { return p(a, t, n, e, i) }); a.setItemLayout(t, r); var o = a.getItemGraphicEl(t); o.setShape('points', r) }) } }, this) }, renderSeries: function (e, t, i, r) { var o = e.coordinateSystem; var l = e.id; var u = e.getData(); var c = this.markerGroupMap; var d = c.get(l) || c.set(l, { group: new s.Group() }); this.group.add(d.group), d.__keep = !0; var f = m(o, e, t); t.setData(f), f.each(function (t) { var i = n.map(g, function (i) { return p(f, t, i, e, r) }); var a = !0; n.each(g, function (e) { if (a) { var i = f.get(e[0], t); var n = f.get(e[1], t); (h(i) || o.getAxis('x').containData(i)) && (h(n) || o.getAxis('y').containData(n)) && (a = !1) } }), f.setItemLayout(t, { points: i, allClipped: a }), f.setItemVisual(t, { color: u.getVisual('color') }) }), f.diff(d.__data).add(function (e) { var t = f.getItemLayout(e); if (!t.allClipped) { var i = new s.Polygon({ shape: { points: t.points } }); f.setItemGraphicEl(e, i), d.group.add(i) } }).update(function (e, i) { var n = d.__data.getItemGraphicEl(i); var a = f.getItemLayout(e); a.allClipped ? n && d.group.remove(n) : (n ? s.updateProps(n, { shape: { points: a.points } }, t, e) : n = new s.Polygon({ shape: { points: a.points } }), f.setItemGraphicEl(e, n), d.group.add(n)) }).remove(function (e) { var t = d.__data.getItemGraphicEl(e); d.group.remove(t) }).execute(), f.eachItemGraphicEl(function (e, i) { var r = f.getItemModel(i); var o = r.getModel('label'); var l = r.getModel('emphasis.label'); var u = f.getItemVisual(i, 'color'); e.useStyle(n.defaults(r.getModel('itemStyle').getItemStyle(), { fill: a.modifyAlpha(u, 0.4), stroke: u })), e.hoverStyle = r.getModel('emphasis.itemStyle').getItemStyle(), s.setLabelStyle(e.style, e.hoverStyle, o, l, { labelFetcher: t, labelDataIndex: i, defaultText: f.getName(i) || '', isRectText: !0, autoColor: u }), s.setHoverStyle(e, {}), e.dataModel = t }), d.__data = f, d.group.silent = t.get('silent') || e.get('silent') } }) }, '8ec5': function (e, t, i) { var n = i('3eba'); var a = i('6d8b'); var r = i('2145'); var o = n.extendComponentModel({ type: 'toolbox', layoutMode: { type: 'box', ignoreSize: !0 }, optionUpdated: function () { o.superApply(this, 'optionUpdated', arguments), a.each(this.option.feature, function (e, t) { var i = r.get(t); i && a.merge(e, i.defaultOption) }) }, defaultOption: { show: !0, z: 6, zlevel: 0, orient: 'horizontal', left: 'right', top: 'top', backgroundColor: 'transparent', borderColor: '#ccc', borderRadius: 0, borderWidth: 0, padding: 5, itemSize: 15, itemGap: 8, showTitle: !0, iconStyle: { borderColor: '#666', color: 'none' }, emphasis: { iconStyle: { borderColor: '#3E98C5' } }, tooltip: { show: !1 } } }); var s = o; e.exports = s }, '8ed2': function (e, t, i) { i('48c7'); var n = i('6cb7'); var a = n.extend({ type: 'grid', dependencies: ['xAxis', 'yAxis'], layoutMode: 'box', coordinateSystem: null, defaultOption: { show: !1, zlevel: 0, z: 0, left: '10%', top: 60, right: '10%', bottom: 60, containLabel: !1, backgroundColor: 'rgba(0,0,0,0)', borderWidth: 1, borderColor: '#ccc' } }); e.exports = a }, '8ee0': function (e, t, i) { i('3f8e'); var n = i('697e7'); var a = n.registerPainter; var r = i('dc20'); a('svg', r) }, '903c': function (e, t) { function i (e) { var t = e.findComponents({ mainType: 'legend' }); t && t.length && e.filterSeries(function (e) { for (var i = 0; i < t.length; i++) if (!t[i].isSelected(e.name)) return !1; return !0 }) }e.exports = i }, '90c2': function (e, t, i) { var n = i('5f14'); var a = i('41ef'); var r = i('6d8b'); var o = r.isArray; var s = 'itemStyle'; var l = { seriesType: 'treemap', reset: function (e, t, i, n) { var a = e.getData().tree; var r = a.root; r.isRemoved() || u(r, {}, e.getViewRoot().getAncestors(), e) } }; function u (e, t, i, n) { var a = e.getModel(); var o = e.getLayout(); if (o && !o.invisible && o.isInView) { var l; var f = e.getModel(s); var g = c(f, t, n); var v = f.get('borderColor'); var y = f.get('borderColorSaturation'); y != null && (l = h(g, e), v = d(y, l)), e.setVisual('borderColor', v); var x = e.viewChildren; if (x && x.length) { var _ = p(e, a, o, f, g, x); r.each(x, function (e, t) { if (e.depth >= i.length || e === i[e.depth]) { var r = m(a, g, e, t, _, n); u(e, r, i, n) } }) } else l = h(g, e), e.setVisual('color', l) } } function c (e, t, i) { var n = r.extend({}, t); var a = i.designatedVisualItemStyle; return r.each(['color', 'colorAlpha', 'colorSaturation'], function (i) { a[i] = t[i]; var r = e.get(i); a[i] = null, r != null && (n[i] = r) }), n } function h (e) { var t = f(e, 'color'); if (t) { var i = f(e, 'colorAlpha'); var n = f(e, 'colorSaturation'); return n && (t = a.modifyHSL(t, null, null, n)), i && (t = a.modifyAlpha(t, i)), t } } function d (e, t) { return t != null ? a.modifyHSL(t, null, null, e) : null } function f (e, t) { var i = e[t]; if (i != null && i !== 'none') return i } function p (e, t, i, a, r, o) { if (o && o.length) { var s = g(t, 'color') || r.color != null && r.color !== 'none' && (g(t, 'colorAlpha') || g(t, 'colorSaturation')); if (s) { var l = t.get('visualMin'); var u = t.get('visualMax'); var c = i.dataExtent.slice(); l != null && l < c[0] && (c[0] = l), u != null && u > c[1] && (c[1] = u); var h = t.get('colorMappingBy'); var d = { type: s.name, dataExtent: c, visual: s.range }; d.type !== 'color' || h !== 'index' && h !== 'id' ? d.mappingMethod = 'linear' : (d.mappingMethod = 'category', d.loop = !0); var f = new n(d); return f.__drColorMappingBy = h, f } } } function g (e, t) { var i = e.get(t); return o(i) && i.length ? { name: t, range: i } : null } function m (e, t, i, n, a, o) { var s = r.extend({}, t); if (a) { var l = a.type; var u = l === 'color' && a.__drColorMappingBy; var c = u === 'index' ? n : u === 'id' ? o.mapIdToIndex(i.getId()) : i.getValue(e.get('visualDimension')); s[l] = a.mapValueToVisual(c) } return s }e.exports = l }, '923d': function (e, t, i) { var n = i('6d8b'); var a = i('3842'); var r = i('ee1a'); var o = r.isDimensionStacked; var s = n.indexOf; function l (e) { return !(isNaN(parseFloat(e.x)) && isNaN(parseFloat(e.y))) } function u (e) { return !isNaN(parseFloat(e.x)) && !isNaN(parseFloat(e.y)) } function c (e, t, i, n, r, s) { var l = []; var u = o(t, n); var c = u ? t.getCalculationInfo('stackResultDimension') : n; var h = y(t, c, e); var d = t.indicesOfNearest(c, h)[0]; l[r] = t.get(i, d), l[s] = t.get(c, d); var f = t.get(n, d); var p = a.getPrecision(t.get(n, d)); return p = Math.min(p, 20), p >= 0 && (l[s] = +l[s].toFixed(p)), [l, f] } var h = n.curry; var d = { min: h(c, 'min'), max: h(c, 'max'), average: h(c, 'average') }; function f (e, t) { var i = e.getData(); var a = e.coordinateSystem; if (t && !u(t) && !n.isArray(t.coord) && a) { var r = a.dimensions; var o = p(t, i, a, e); if (t = n.clone(t), t.type && d[t.type] && o.baseAxis && o.valueAxis) { var l = s(r, o.baseAxis.dim); var c = s(r, o.valueAxis.dim); var h = d[t.type](i, o.baseDataDim, o.valueDataDim, l, c); t.coord = h[0], t.value = h[1] } else { for (var f = [t.xAxis != null ? t.xAxis : t.radiusAxis, t.yAxis != null ? t.yAxis : t.angleAxis], g = 0; g < 2; g++)d[f[g]] && (f[g] = y(i, i.mapDimension(r[g]), f[g])); t.coord = f } } return t } function p (e, t, i, n) { var a = {}; return e.valueIndex != null || e.valueDim != null ? (a.valueDataDim = e.valueIndex != null ? t.getDimension(e.valueIndex) : e.valueDim, a.valueAxis = i.getAxis(g(n, a.valueDataDim)), a.baseAxis = i.getOtherAxis(a.valueAxis), a.baseDataDim = t.mapDimension(a.baseAxis.dim)) : (a.baseAxis = n.getBaseAxis(), a.valueAxis = i.getOtherAxis(a.baseAxis), a.baseDataDim = t.mapDimension(a.baseAxis.dim), a.valueDataDim = t.mapDimension(a.valueAxis.dim)), a } function g (e, t) { var i = e.getData(); var n = i.dimensions; t = i.getDimension(t); for (var a = 0; a < n.length; a++) { var r = i.getDimensionInfo(n[a]); if (r.name === t) return r.coordDim } } function m (e, t) { return !(e && e.containData && t.coord && !l(t)) || e.containData(t.coord) } function v (e, t, i, n) { return n < 2 ? e.coord && e.coord[n] : e.value } function y (e, t, i) { if (i === 'average') { var n = 0; var a = 0; return e.each(t, function (e, t) { isNaN(e) || (n += e, a++) }), n / a } return i === 'median' ? e.getMedian(t) : e.getDataExtent(t, !0)[i === 'max' ? 1 : 0] }t.dataTransform = f, t.getAxisInfo = p, t.dataFilter = m, t.dimValueGetter = v, t.numCalculate = y }, 9263: function (e, t, i) { 'use strict'; var n = i('ad6d'); var a = i('9f7f'); var r = RegExp.prototype.exec; var o = String.prototype.replace; var s = r; var l = (function () { var e = /a/; var t = /b*/g; return r.call(e, 'a'), r.call(t, 'a'), e.lastIndex !== 0 || t.lastIndex !== 0 }()); var u = a.UNSUPPORTED_Y || a.BROKEN_CARET; var c = void 0 !== /()??/.exec('')[1]; var h = l || c || u; h && (s = function (e) { var t; var i; var a; var s; var h = this; var d = u && h.sticky; var f = n.call(h); var p = h.source; var g = 0; var m = e; return d && (f = f.replace('y', ''), f.indexOf('g') === -1 && (f += 'g'), m = String(e).slice(h.lastIndex), h.lastIndex > 0 && (!h.multiline || h.multiline && e[h.lastIndex - 1] !== '\n') && (p = '(?: ' + p + ')', m = ' ' + m, g++), i = new RegExp('^(?:' + p + ')', f)), c && (i = new RegExp('^' + p + '$(?!\\s)', f)), l && (t = h.lastIndex), a = r.call(d ? i : h, m), d ? a ? (a.input = a.input.slice(g), a[0] = a[0].slice(g), a.index = h.lastIndex, h.lastIndex += a[0].length) : h.lastIndex = 0 : l && a && (h.lastIndex = h.global ? a.index + a[0].length : t), c && a && a.length > 1 && o.call(a[0], i, function () { for (s = 1; s < arguments.length - 2; s++) void 0 === arguments[s] && (a[s] = void 0) }), a }), e.exports = s }, 9273: function (e, t, i) { var n = i('6d8b'); var a = i('84ce'); function r (e, t) { a.call(this, 'radius', e, t), this.type = 'category' }r.prototype = { constructor: r, pointToData: function (e, t) { return this.polar.pointToData(e, t)[this.dim === 'radius' ? 0 : 1] }, dataToRadius: a.prototype.dataToCoord, radiusToData: a.prototype.coordToData }, n.inherits(r, a); var o = r; e.exports = o }, '928d': function (e, t, i) { var n = i('6d8b'); var a = i('4f85'); var r = i('06c7'); var o = i('4319'); var s = i('eda2'); var l = s.encodeHTML; var u = s.addCommas; var c = i('55ac'); var h = c.wrapTreePathInfo; var d = a.extend({ type: 'series.treemap', layoutMode: 'box', dependencies: ['grid', 'polar'], preventUsingHoverLayer: !0, _viewRoot: null, defaultOption: { progressive: 0, left: 'center', top: 'middle', right: null, bottom: null, width: '80%', height: '80%', sort: !0, clipWindow: 'origin', squareRatio: 0.5 * (1 + Math.sqrt(5)), leafDepth: null, drillDownIcon: '▶', zoomToNodeRatio: 0.1024, roam: !0, nodeClick: 'zoomToNode', animation: !0, animationDurationUpdate: 900, animationEasing: 'quinticInOut', breadcrumb: { show: !0, height: 22, left: 'center', top: 'bottom', emptyItemWidth: 25, itemStyle: { color: 'rgba(0,0,0,0.7)', borderColor: 'rgba(255,255,255,0.7)', borderWidth: 1, shadowColor: 'rgba(150,150,150,1)', shadowBlur: 3, shadowOffsetX: 0, shadowOffsetY: 0, textStyle: { color: '#fff' } }, emphasis: { textStyle: {} } }, label: { show: !0, distance: 0, padding: 5, position: 'inside', color: '#fff', ellipsis: !0 }, upperLabel: { show: !1, position: [0, '50%'], height: 20, color: '#fff', ellipsis: !0, verticalAlign: 'middle' }, itemStyle: { color: null, colorAlpha: null, colorSaturation: null, borderWidth: 0, gapWidth: 0, borderColor: '#fff', borderColorSaturation: null }, emphasis: { upperLabel: { show: !0, position: [0, '50%'], color: '#fff', ellipsis: !0, verticalAlign: 'middle' } }, visualDimension: 0, visualMin: null, visualMax: null, color: [], colorAlpha: null, colorSaturation: null, colorMappingBy: 'index', visibleMin: 10, childrenVisibleMin: null, levels: [] }, getInitialData: function (e, t) { var i = { name: e.name, children: e.data }; f(i); var a = e.levels || []; var s = this.designatedVisualItemStyle = {}; var l = new o({ itemStyle: s }, this, t); a = e.levels = p(a, t); var u = n.map(a || [], function (e) { return new o(e, l, t) }, this); var c = r.createTree(i, this, h); function h (e) { e.wrapMethod('getItemModel', function (e, t) { var i = c.getNodeByDataIndex(t); var n = u[i.depth]; return e.parentModel = n || l, e }) } return c.data }, optionUpdated: function () { this.resetViewRoot() }, formatTooltip: function (e) { var t = this.getData(); var i = this.getRawValue(e); var a = n.isArray(i) ? u(i[0]) : u(i); var r = t.getName(e); return l(r + ': ' + a) }, getDataParams: function (e) { var t = a.prototype.getDataParams.apply(this, arguments); var i = this.getData().tree.getNodeByDataIndex(e); return t.treePathInfo = h(i, this), t }, setLayoutInfo: function (e) { this.layoutInfo = this.layoutInfo || {}, n.extend(this.layoutInfo, e) }, mapIdToIndex: function (e) { var t = this._idIndexMap; t || (t = this._idIndexMap = n.createHashMap(), this._idIndexMapCount = 0); var i = t.get(e); return i == null && t.set(e, i = this._idIndexMapCount++), i }, getViewRoot: function () { return this._viewRoot }, resetViewRoot: function (e) { e ? this._viewRoot = e : e = this._viewRoot; var t = this.getRawData().tree.root; e && (e === t || t.contains(e)) || (this._viewRoot = t) } }); function f (e) { var t = 0; n.each(e.children, function (e) { f(e); var i = e.value; n.isArray(i) && (i = i[0]), t += i }); var i = e.value; n.isArray(i) && (i = i[0]), (i == null || isNaN(i)) && (i = t), i < 0 && (i = 0), n.isArray(e.value) ? e.value[0] = i : e.value = i } function p (e, t) { var i = t.get('color'); if (i) { var a; if (e = e || [], n.each(e, function (e) { var t = new o(e); var i = t.get('color'); (t.get('itemStyle.color') || i && i !== 'none') && (a = !0) }), !a) { var r = e[0] || (e[0] = {}); r.color = i.slice() } return e } }e.exports = d }, '933b': function (e, t, i) { var n = i('b12f'); var a = n.extend({ type: 'timeline' }); e.exports = a }, 9390: function (e, t, i) { i('d090'), i('83ba'), i('ee66') }, '93d0': function (e, t) { var i = 'original'; var n = 'arrayRows'; var a = 'objectRows'; var r = 'keyedColumns'; var o = 'unknown'; var s = 'typedArray'; var l = 'column'; var u = 'row'; t.SOURCE_FORMAT_ORIGINAL = i, t.SOURCE_FORMAT_ARRAY_ROWS = n, t.SOURCE_FORMAT_OBJECT_ROWS = a, t.SOURCE_FORMAT_KEYED_COLUMNS = r, t.SOURCE_FORMAT_UNKNOWN = o, t.SOURCE_FORMAT_TYPED_ARRAY = s, t.SERIES_LAYOUT_BY_COLUMN = l, t.SERIES_LAYOUT_BY_ROW = u }, 9442: function (e, t, i) { var n = i('6d8b'); function a (e) { var t = []; n.each(e.series, function (e) { e && e.type === 'map' && (t.push(e), e.map = e.map || e.mapType, n.defaults(e, e.mapLocation)) }) }e.exports = a }, '944e': function (e, t, i) { var n = i('3842'); var a = n.round; function r (e, t, i, r) { var s = {}; var u = e[1] - e[0]; var c = s.interval = n.nice(u / t, !0); i != null && c < i && (c = s.interval = i), r != null && c > r && (c = s.interval = r); var h = s.intervalPrecision = o(c); var d = s.niceTickExtent = [a(Math.ceil(e[0] / c) * c, h), a(Math.floor(e[1] / c) * c, h)]; return l(d, e), s } function o (e) { return n.getPrecisionSafe(e) + 2 } function s (e, t, i) { e[t] = Math.max(Math.min(e[t], i[1]), i[0]) } function l (e, t) { !isFinite(e[0]) && (e[0] = t[0]), !isFinite(e[1]) && (e[1] = t[1]), s(e, 0, t), s(e, 1, t), e[0] > e[1] && (e[0] = e[1]) }t.intervalScaleNiceTicks = r, t.getIntervalPrecision = o, t.fixExtent = l }, '94b1': function (e, t, i) { var n = i('3eba'); var a = i('6d8b'); var r = i('9d57'); var o = r.layout; var s = r.largeLayout; i('5aa9'), i('17b8'), i('67cc'), i('01ed'), n.registerLayout(n.PRIORITY.VISUAL.LAYOUT, a.curry(o, 'bar')), n.registerLayout(n.PRIORITY.VISUAL.PROGRESSIVE_LAYOUT, s), n.registerVisual({ seriesType: 'bar', reset: function (e) { e.getData().setVisual('legendSymbol', 'roundRect') } }) }, '94e4': function (e, t, i) { var n = i('401b'); var a = i('53f3'); var r = a.getSymbolSize; var o = a.getNodeGlobalScale; var s = i('6d8b'); var l = i('0c37'); var u = l.getCurvenessForEdge; var c = Math.PI; var h = []; function d (e, t) { var i = e.coordinateSystem; if (!i || i.type === 'view') { var a = i.getBoundingRect(); var r = e.getData(); var o = r.graph; var l = a.width / 2 + a.x; var c = a.height / 2 + a.y; var h = Math.min(a.width, a.height) / 2; var d = r.count(); r.setLayout({ cx: l, cy: c }), d && (f[t](e, i, o, r, h, l, c, d), o.eachEdge(function (t, i) { var a; var r = s.retrieve3(t.getModel().get('lineStyle.curveness'), u(t, e, i), 0); var o = n.clone(t.node1.getLayout()); var h = n.clone(t.node2.getLayout()); var d = (o[0] + h[0]) / 2; var f = (o[1] + h[1]) / 2; +r && (r *= 3, a = [l * r + d * (1 - r), c * r + f * (1 - r)]), t.setLayout([o, h, a]) })) } } var f = { value: function (e, t, i, n, a, r, o, s) { var l = 0; var u = n.getSum('value'); var c = 2 * Math.PI / (u || s); i.eachNode(function (e) { var t = e.getValue('value'); var i = c * (u ? t : 1) / 2; l += i, e.setLayout([a * Math.cos(l) + r, a * Math.sin(l) + o]), l += i }) }, symbolSize: function (e, t, i, n, a, s, l, u) { var d = 0; h.length = u; var f = o(e); i.eachNode(function (e) { var t = r(e); isNaN(t) && (t = 2), t < 0 && (t = 0), t *= f; var i = Math.asin(t / 2 / a); isNaN(i) && (i = c / 2), h[e.dataIndex] = i, d += 2 * i }); var p = (2 * c - d) / u / 2; var g = 0; i.eachNode(function (e) { var t = p + h[e.dataIndex]; g += t, e.setLayout([a * Math.cos(g) + s, a * Math.sin(g) + l]), g += t }) } }; t.circularLayout = d }, '95a8': function (e, t, i) { var n = i('3eba'); i('1953'), i('307d'), n.registerPreprocessor(function (e) { e.markLine = e.markLine || {} }) }, 9680: function (e, t) { function i (e, t, i, n, a, r, o) { if (a === 0) return !1; var s = a; var l = 0; var u = e; if (o > t + s && o > n + s || o < t - s && o < n - s || r > e + s && r > i + s || r < e - s && r < i - s) return !1; if (e === i) return Math.abs(r - e) <= s / 2; l = (t - n) / (e - i), u = (e * n - i * t) / (e - i); var c = l * r - o + u; var h = c * c / (l * l + 1); return h <= s / 2 * s / 2 }t.containStroke = i }, 9704: function (e, t, i) { var n = i('3eba'); var a = i('6d8b'); var r = i('f706'); var o = i('73ca'); var s = i('4a01'); var l = i('01ef'); var u = i('c526'); var c = u.onIrrelevantElement; var h = i('2306'); var d = i('480f'); var f = i('53f3'); var p = f.getNodeGlobalScale; var g = '__focusNodeAdjacency'; var m = '__unfocusNodeAdjacency'; var v = ['itemStyle', 'opacity']; var y = ['lineStyle', 'opacity']; function x (e, t) { var i = e.getVisual('opacity'); return i != null ? i : e.getModel().get(t) } function _ (e, t, i) { var n = e.getGraphicEl(); var a = x(e, t); i != null && (a == null && (a = 1), a *= i), n.downplay && n.downplay(), n.traverse(function (e) { if (!e.isGroup) { var t = e.lineLabelOriginalOpacity; t != null && i == null || (t = a), e.setStyle('opacity', t) } }) } function b (e, t) { var i = x(e, t); var n = e.getGraphicEl(); n.traverse(function (e) { !e.isGroup && e.setStyle('opacity', i) }), n.highlight && n.highlight() } var w = n.extendChartView({ type: 'graph', init: function (e, t) { var i = new r(); var n = new o(); var a = this.group; this._controller = new s(t.getZr()), this._controllerHost = { target: a }, a.add(i.group), a.add(n.group), this._symbolDraw = i, this._lineDraw = n, this._firstRender = !0 }, render: function (e, t, i) { var n = this; var a = e.coordinateSystem; this._model = e; var r = this._symbolDraw; var o = this._lineDraw; var s = this.group; if (a.type === 'view') { var l = { position: a.position, scale: a.scale }; this._firstRender ? s.attr(l) : h.updateProps(s, l, e) }d(e.getGraph(), p(e)); var u = e.getData(); r.updateData(u); var c = e.getEdgeData(); o.updateData(c), this._updateNodeAndLinkScale(), this._updateController(e, t, i), clearTimeout(this._layoutTimeout); var f = e.forceLayout; var v = e.get('force.layoutAnimation'); f && this._startForceLayoutIteration(f, v), u.eachItemGraphicEl(function (t, a) { var r = u.getItemModel(a); t.off('drag').off('dragend'); var o = r.get('draggable'); o && t.on('drag', function () { f && (f.warmUp(), !this._layouting && this._startForceLayoutIteration(f, v), f.setFixed(a), u.setItemLayout(a, t.position)) }, this).on('dragend', function () { f && f.setUnfixed(a) }, this), t.setDraggable(o && f), t[g] && t.off('mouseover', t[g]), t[m] && t.off('mouseout', t[m]), r.get('focusNodeAdjacency') && (t.on('mouseover', t[g] = function () { n._clearTimer(), i.dispatchAction({ type: 'focusNodeAdjacency', seriesId: e.id, dataIndex: t.dataIndex }) }), t.on('mouseout', t[m] = function () { n._dispatchUnfocus(i) })) }, this), u.graph.eachEdge(function (t) { var a = t.getGraphicEl(); a[g] && a.off('mouseover', a[g]), a[m] && a.off('mouseout', a[m]), t.getModel().get('focusNodeAdjacency') && (a.on('mouseover', a[g] = function () { n._clearTimer(), i.dispatchAction({ type: 'focusNodeAdjacency', seriesId: e.id, edgeDataIndex: t.dataIndex }) }), a.on('mouseout', a[m] = function () { n._dispatchUnfocus(i) })) }); var y = e.get('layout') === 'circular' && e.get('circular.rotateLabel'); var x = u.getLayout('cx'); var _ = u.getLayout('cy'); u.eachItemGraphicEl(function (e, t) { var i = u.getItemModel(t); var n = i.get('label.rotate') || 0; var a = e.getSymbolPath(); if (y) { var r = u.getItemLayout(t); var o = Math.atan2(r[1] - _, r[0] - x); o < 0 && (o = 2 * Math.PI + o); var s = r[0] < x; s && (o -= Math.PI); var l = s ? 'left' : 'right'; h.modifyLabelStyle(a, { textRotation: -o, textPosition: l, textOrigin: 'center' }, { textPosition: l }) } else h.modifyLabelStyle(a, { textRotation: n *= Math.PI / 180 }) }), this._firstRender = !1 }, dispose: function () { this._controller && this._controller.dispose(), this._controllerHost = {}, this._clearTimer() }, _dispatchUnfocus: function (e, t) { var i = this; this._clearTimer(), this._unfocusDelayTimer = setTimeout(function () { i._unfocusDelayTimer = null, e.dispatchAction({ type: 'unfocusNodeAdjacency', seriesId: i._model.id }) }, 500) }, _clearTimer: function () { this._unfocusDelayTimer && (clearTimeout(this._unfocusDelayTimer), this._unfocusDelayTimer = null) }, focusNodeAdjacency: function (e, t, i, n) { var r = e.getData(); var o = r.graph; var s = n.dataIndex; var l = n.edgeDataIndex; var u = o.getNodeByIndex(s); var c = o.getEdgeByIndex(l); (u || c) && (o.eachNode(function (e) { _(e, v, 0.1) }), o.eachEdge(function (e) { _(e, y, 0.1) }), u && (b(u, v), a.each(u.edges, function (e) { e.dataIndex < 0 || (b(e, y), b(e.node1, v), b(e.node2, v)) })), c && (b(c, y), b(c.node1, v), b(c.node2, v))) }, unfocusNodeAdjacency: function (e, t, i, n) { var a = e.getData().graph; a.eachNode(function (e) { _(e, v) }), a.eachEdge(function (e) { _(e, y) }) }, _startForceLayoutIteration: function (e, t) { var i = this; (function n () { e.step(function (e) { i.updateLayout(i._model), (i._layouting = !e) && (t ? i._layoutTimeout = setTimeout(n, 16) : n()) }) })() }, _updateController: function (e, t, i) { var n = this._controller; var a = this._controllerHost; var r = this.group; n.setPointerChecker(function (t, n, a) { var o = r.getBoundingRect(); return o.applyTransform(r.transform), o.contain(n, a) && !c(t, i, e) }), e.coordinateSystem.type === 'view' ? (n.enable(e.get('roam')), a.zoomLimit = e.get('scaleLimit'), a.zoom = e.coordinateSystem.getZoom(), n.off('pan').off('zoom').on('pan', function (t) { l.updateViewOnPan(a, t.dx, t.dy), i.dispatchAction({ seriesId: e.id, type: 'graphRoam', dx: t.dx, dy: t.dy }) }).on('zoom', function (t) { l.updateViewOnZoom(a, t.scale, t.originX, t.originY), i.dispatchAction({ seriesId: e.id, type: 'graphRoam', zoom: t.scale, originX: t.originX, originY: t.originY }), this._updateNodeAndLinkScale(), d(e.getGraph(), p(e)), this._lineDraw.updateLayout() }, this)) : n.disable() }, _updateNodeAndLinkScale: function () { var e = this._model; var t = e.getData(); var i = p(e); var n = [i, i]; t.eachItemGraphicEl(function (e, t) { e.attr('scale', n) }) }, updateLayout: function (e) { d(e.getGraph(), p(e)), this._symbolDraw.updateLayout(), this._lineDraw.updateLayout() }, remove: function (e, t) { this._symbolDraw && this._symbolDraw.remove(), this._lineDraw && this._lineDraw.remove() } }); e.exports = w }, 9850: function (e, t, i) { var n = i('401b'); var a = i('1687'); var r = n.applyTransform; var o = Math.min; var s = Math.max; function l (e, t, i, n) { i < 0 && (e += i, i = -i), n < 0 && (t += n, n = -n), this.x = e, this.y = t, this.width = i, this.height = n }l.prototype = { constructor: l, union: function (e) { var t = o(e.x, this.x); var i = o(e.y, this.y); this.width = s(e.x + e.width, this.x + this.width) - t, this.height = s(e.y + e.height, this.y + this.height) - i, this.x = t, this.y = i }, applyTransform: (function () { var e = []; var t = []; var i = []; var n = []; return function (a) { if (a) { e[0] = i[0] = this.x, e[1] = n[1] = this.y, t[0] = n[0] = this.x + this.width, t[1] = i[1] = this.y + this.height, r(e, e, a), r(t, t, a), r(i, i, a), r(n, n, a), this.x = o(e[0], t[0], i[0], n[0]), this.y = o(e[1], t[1], i[1], n[1]); var l = s(e[0], t[0], i[0], n[0]); var u = s(e[1], t[1], i[1], n[1]); this.width = l - this.x, this.height = u - this.y } } }()), calculateTransform: function (e) { var t = this; var i = e.width / t.width; var n = e.height / t.height; var r = a.create(); return a.translate(r, r, [-t.x, -t.y]), a.scale(r, r, [i, n]), a.translate(r, r, [e.x, e.y]), r }, intersect: function (e) { if (!e) return !1; e instanceof l || (e = l.create(e)); var t = this; var i = t.x; var n = t.x + t.width; var a = t.y; var r = t.y + t.height; var o = e.x; var s = e.x + e.width; var u = e.y; var c = e.y + e.height; return !(n < o || s < i || r < u || c < a) }, contain: function (e, t) { var i = this; return e >= i.x && e <= i.x + i.width && t >= i.y && t <= i.y + i.height }, clone: function () { return new l(this.x, this.y, this.width, this.height) }, copy: function (e) { this.x = e.x, this.y = e.y, this.width = e.width, this.height = e.height }, plain: function () { return { x: this.x, y: this.y, width: this.width, height: this.height } } }, l.create = function (e) { return new l(e.x, e.y, e.width, e.height) }; var u = l; e.exports = u }, '98b7': function (e, t) { var i = typeof window !== 'undefined' && (window.requestAnimationFrame && window.requestAnimationFrame.bind(window) || window.msRequestAnimationFrame && window.msRequestAnimationFrame.bind(window) || window.mozRequestAnimationFrame || window.webkitRequestAnimationFrame) || function (e) { setTimeout(e, 16) }; e.exports = i }, '98e7': function (e, t, i) { var n = i('6d8b'); var a = n.createHashMap; function r (e) { return { getTargetSeries: function (t) { var i = {}; var n = a(); return t.eachSeriesByType(e, function (e) { e.__paletteScope = i, n.set(e.uid, e) }), n }, reset: function (e, t) { var i = e.getRawData(); var n = {}; var a = e.getData(); a.each(function (e) { var t = a.getRawIndex(e); n[t] = e }), i.each(function (t) { var r; var o = n[t]; var s = o != null && a.getItemVisual(o, 'color', !0); var l = o != null && a.getItemVisual(o, 'borderColor', !0); if (s && l || (r = i.getItemModel(t)), !s) { var u = r.get('itemStyle.color') || e.getColorFromPalette(i.getName(t) || t + '', e.__paletteScope, i.count()); o != null && a.setItemVisual(o, 'color', u) } if (!l) { var c = r.get('itemStyle.borderColor'); o != null && a.setItemVisual(o, 'borderColor', c) } }) } } }e.exports = r }, '998c': function (e, t, i) { var n = i('6d8b'); var a = i('2306'); var r = i('e86a'); var o = Math.PI; function s (e, t) { t = t || {}, n.defaults(t, { text: 'loading', textColor: '#000', fontSize: '12px', maskColor: 'rgba(255, 255, 255, 0.8)', showSpinner: !0, color: '#c23531', spinnerRadius: 10, lineWidth: 5, zlevel: 0 }); var i = new a.Group(); var s = new a.Rect({ style: { fill: t.maskColor }, zlevel: t.zlevel, z: 1e4 }); i.add(s); var l = t.fontSize + ' sans-serif'; var u = new a.Rect({ style: { fill: 'none', text: t.text, font: l, textPosition: 'right', textDistance: 10, textFill: t.textColor }, zlevel: t.zlevel, z: 10001 }); if (i.add(u), t.showSpinner) { var c = new a.Arc({ shape: { startAngle: -o / 2, endAngle: -o / 2 + 0.1, r: t.spinnerRadius }, style: { stroke: t.color, lineCap: 'round', lineWidth: t.lineWidth }, zlevel: t.zlevel, z: 10001 }); c.animateShape(!0).when(1e3, { endAngle: 3 * o / 2 }).start('circularInOut'), c.animateShape(!0).when(1e3, { startAngle: 3 * o / 2 }).delay(300).start('circularInOut'), i.add(c) } return i.resize = function () { var i = r.getWidth(t.text, l); var n = t.showSpinner ? t.spinnerRadius : 0; var a = (e.getWidth() - 2 * n - (t.showSpinner && i ? 10 : 0) - i) / 2 - (t.showSpinner ? 0 : i / 2); var o = e.getHeight() / 2; t.showSpinner && c.setShape({ cx: a, cy: o }), u.setShape({ x: a - n, y: o - n, width: 2 * n, height: 2 * n }), s.setShape({ x: 0, y: 0, width: e.getWidth(), height: e.getHeight() }) }, i.resize(), i }e.exports = s }, '9bdb': function (e, t, i) { var n = i('282b'); var a = n([['fill', 'color'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['opacity'], ['shadowColor']]); var r = { getAreaStyle: function (e, t) { return a(this, e, t) } }; e.exports = r }, '9c2c': function (e, t, i) { var n = i('401b'); var a = n.min; var r = n.max; var o = n.scale; var s = n.distance; var l = n.add; var u = n.clone; var c = n.sub; function h (e, t, i, n) { var h; var d; var f; var p; var g = []; var m = []; var v = []; var y = []; if (n) { f = [1 / 0, 1 / 0], p = [-1 / 0, -1 / 0]; for (var x = 0, _ = e.length; x < _; x++)a(f, f, e[x]), r(p, p, e[x]); a(f, f, n[0]), r(p, p, n[1]) } for (x = 0, _ = e.length; x < _; x++) { var b = e[x]; if (i)h = e[x ? x - 1 : _ - 1], d = e[(x + 1) % _]; else { if (x === 0 || x === _ - 1) { g.push(u(e[x])); continue }h = e[x - 1], d = e[x + 1] }c(m, d, h), o(m, m, t); var w = s(b, h); var S = s(b, d); var M = w + S; M !== 0 && (w /= M, S /= M), o(v, m, -w), o(y, m, S); var I = l([], b, v); var A = l([], b, y); n && (r(I, I, f), a(I, I, p), r(A, A, f), a(A, A, p)), g.push(I), g.push(A) } return i && g.push(g.shift()), g }e.exports = h }, '9ca8': function (e, t, i) { var n = i('6d8b'); var a = i('9850'); var r = i('3842'); var o = r.parsePercent; var s = r.MAX_SAFE_INTEGER; var l = i('f934'); var u = i('55ac'); var c = Math.max; var h = Math.min; var d = n.retrieve; var f = n.each; var p = ['itemStyle', 'borderWidth']; var g = ['itemStyle', 'gapWidth']; var m = ['upperLabel', 'show']; var v = ['upperLabel', 'height']; var y = { seriesType: 'treemap', reset: function (e, t, i, r) { var s = i.getWidth(); var c = i.getHeight(); var h = e.option; var p = l.getLayoutRect(e.getBoxLayoutParams(), { width: i.getWidth(), height: i.getHeight() }); var g = h.size || []; var m = o(d(p.width, g[0]), s); var v = o(d(p.height, g[1]), c); var y = r && r.type; var _ = ['treemapZoomToNode', 'treemapRootToNode']; var b = u.retrieveTargetInfo(r, _, e); var w = y === 'treemapRender' || y === 'treemapMove' ? r.rootRect : null; var S = e.getViewRoot(); var M = u.getPathToRoot(S); if (y !== 'treemapMove') { var I = y === 'treemapZoomToNode' ? A(e, b, S, m, v) : w ? [w.width, w.height] : [m, v]; var D = h.sort; D && D !== 'asc' && D !== 'desc' && (D = 'desc'); var L = { squareRatio: h.squareRatio, sort: D, leafDepth: h.leafDepth }; S.hostTree.clearLayouts(); var P = { x: 0, y: 0, width: I[0], height: I[1], area: I[0] * I[1] }; S.setLayout(P), x(S, L, !1, 0); P = S.getLayout(); f(M, function (e, t) { var i = (M[t + 1] || S).getValue(); e.setLayout(n.extend({ dataExtent: [i, i], borderWidth: 0, upperHeight: 0 }, P)) }) } var k = e.getData().tree.root; k.setLayout(T(p, w, b), !0), e.setLayoutInfo(p), C(k, new a(-p.x, -p.y, s, c), M, S, 0) } }; function x (e, t, i, n) { var a, r; if (!e.isRemoved()) { var o = e.getLayout(); a = o.width, r = o.height; var s = e.getModel(); var l = s.get(p); var u = s.get(g) / 2; var d = D(s); var f = Math.max(l, d); var m = l - u; var v = f - u; s = e.getModel(); e.setLayout({ borderWidth: l, upperHeight: f, upperLabelHeight: d }, !0), a = c(a - 2 * m, 0), r = c(r - m - v, 0); var y = a * r; var b = _(e, s, y, t, i, n); if (b.length) { var w = { x: m, y: v, width: a, height: r }; var S = h(a, r); var A = 1 / 0; var T = []; T.area = 0; for (var C = 0, L = b.length; C < L;) { var P = b[C]; T.push(P), T.area += P.getLayout().area; var k = M(T, S, t.squareRatio); k <= A ? (C++, A = k) : (T.area -= T.pop().getLayout().area, I(T, S, w, u, !1), S = h(w.width, w.height), T.length = T.area = 0, A = 1 / 0) } if (T.length && I(T, S, w, u, !0), !i) { var O = s.get('childrenVisibleMin'); O != null && y < O && (i = !0) } for (C = 0, L = b.length; C < L; C++)x(b[C], t, i, n + 1) } } } function _ (e, t, i, a, r, o) { var s = e.children || []; var l = a.sort; l !== 'asc' && l !== 'desc' && (l = null); var u = a.leafDepth != null && a.leafDepth <= o; if (r && !u) return e.viewChildren = []; s = n.filter(s, function (e) { return !e.isRemoved() }), w(s, l); var c = S(t, s, l); if (c.sum === 0) return e.viewChildren = []; if (c.sum = b(t, i, c.sum, l, s), c.sum === 0) return e.viewChildren = []; for (var h = 0, d = s.length; h < d; h++) { var f = s[h].getValue() / c.sum * i; s[h].setLayout({ area: f }) } return u && (s.length && e.setLayout({ isLeafRoot: !0 }, !0), s.length = 0), e.viewChildren = s, e.setLayout({ dataExtent: c.dataExtent }, !0), s } function b (e, t, i, n, a) { if (!n) return i; for (var r = e.get('visibleMin'), o = a.length, s = o, l = o - 1; l >= 0; l--) { var u = a[n === 'asc' ? o - l - 1 : l].getValue(); u / i * t < r && (s = l, i -= u) } return n === 'asc' ? a.splice(0, o - s) : a.splice(s, o - s), i } function w (e, t) { return t && e.sort(function (e, i) { var n = t === 'asc' ? e.getValue() - i.getValue() : i.getValue() - e.getValue(); return n === 0 ? t === 'asc' ? e.dataIndex - i.dataIndex : i.dataIndex - e.dataIndex : n }), e } function S (e, t, i) { for (var n = 0, a = 0, r = t.length; a < r; a++)n += t[a].getValue(); var o = e.get('visualDimension'); if (t && t.length) if (o === 'value' && i)s = [t[t.length - 1].getValue(), t[0].getValue()], i === 'asc' && s.reverse(); else { var s = [1 / 0, -1 / 0]; f(t, function (e) { var t = e.getValue(o); t < s[0] && (s[0] = t), t > s[1] && (s[1] = t) }) } else s = [NaN, NaN]; return { sum: n, dataExtent: s } } function M (e, t, i) { for (var n, a = 0, r = 1 / 0, o = 0, s = e.length; o < s; o++)n = e[o].getLayout().area, n && (n < r && (r = n), n > a && (a = n)); var l = e.area * e.area; var u = t * t * i; return l ? c(u * a / l, l / (u * r)) : 1 / 0 } function I (e, t, i, n, a) { var r = t === i.width ? 0 : 1; var o = 1 - r; var s = ['x', 'y']; var l = ['width', 'height']; var u = i[s[r]]; var d = t ? e.area / t : 0; (a || d > i[l[o]]) && (d = i[l[o]]); for (var f = 0, p = e.length; f < p; f++) { var g = e[f]; var m = {}; var v = d ? g.getLayout().area / d : 0; var y = m[l[o]] = c(d - 2 * n, 0); var x = i[s[r]] + i[l[r]] - u; var _ = f === p - 1 || x < v ? x : v; var b = m[l[r]] = c(_ - 2 * n, 0); m[s[o]] = i[s[o]] + h(n, y / 2), m[s[r]] = u + h(n, b / 2), u += _, g.setLayout(m, !0) }i[s[o]] += d, i[l[o]] -= d } function A (e, t, i, n, a) { var r; var o = (t || {}).node; var l = [n, a]; if (!o || o === i) return l; var u = n * a; var c = u * e.option.zoomToNodeRatio; while (r = o.parentNode) { for (var h = 0, d = r.children, f = 0, g = d.length; f < g; f++)h += d[f].getValue(); var m = o.getValue(); if (m === 0) return l; c *= h / m; var v = r.getModel(); var y = v.get(p); var x = Math.max(y, D(v, y)); c += 4 * y * y + (3 * y + x) * Math.pow(c, 0.5), c > s && (c = s), o = r }c < u && (c = u); var _ = Math.pow(c / u, 0.5); return [n * _, a * _] } function T (e, t, i) { if (t) return { x: t.x, y: t.y }; var n = { x: 0, y: 0 }; if (!i) return n; var a = i.node; var r = a.getLayout(); if (!r) return n; var o = [r.width / 2, r.height / 2]; var s = a; while (s) { var l = s.getLayout(); o[0] += l.x, o[1] += l.y, s = s.parentNode } return { x: e.width / 2 - o[0], y: e.height / 2 - o[1] } } function C (e, t, i, n, r) { var o = e.getLayout(); var s = i[r]; var l = s && s === e; if (!(s && !l || r === i.length && e !== n)) { e.setLayout({ isInView: !0, invisible: !l && !t.intersect(o), isAboveViewRoot: l }, !0); var u = new a(t.x - o.x, t.y - o.y, t.width, t.height); f(e.viewChildren || [], function (e) { C(e, u, i, n, r + 1) }) } } function D (e) { return e.get(m) ? e.get(v) : 0 }e.exports = y }, '9cf9': function (e, t) { var i = Math.round; function n (e, t, n) { if (t) { var a = t.x1; var o = t.x2; var s = t.y1; var l = t.y2; e.x1 = a, e.x2 = o, e.y1 = s, e.y2 = l; var u = n && n.lineWidth; u && (i(2 * a) === i(2 * o) && (e.x1 = e.x2 = r(a, u, !0)), i(2 * s) === i(2 * l) && (e.y1 = e.y2 = r(s, u, !0))) } } function a (e, t, i) { if (t) { var n = t.x; var a = t.y; var o = t.width; var s = t.height; e.x = n, e.y = a, e.width = o, e.height = s; var l = i && i.lineWidth; l && (e.x = r(n, l, !0), e.y = r(a, l, !0), e.width = Math.max(r(n + o, l, !1) - e.x, o === 0 ? 0 : 1), e.height = Math.max(r(a + s, l, !1) - e.y, s === 0 ? 0 : 1)) } } function r (e, t, n) { if (!t) return e; var a = i(2 * e); return (a + i(t)) % 2 === 0 ? a / 2 : (a + (n ? 1 : -1)) / 2 }t.subPixelOptimizeLine = n, t.subPixelOptimizeRect = a, t.subPixelOptimize = r }, '9d57': function (e, t, i) { var n = i('6d8b'); var a = i('3842'); var r = a.parsePercent; var o = i('ee1a'); var s = o.isDimensionStacked; var l = i('cccd'); var u = '__ec_stack_'; var c = 0.5; var h = typeof Float32Array !== 'undefined' ? Float32Array : Array; function d (e) { return e.get('stack') || u + e.seriesIndex } function f (e) { return e.dim + e.index } function p (e) { var t = []; var i = e.axis; var a = 'axis0'; if (i.type === 'category') { for (var r = i.getBandWidth(), o = 0; o < e.count; o++)t.push(n.defaults({ bandWidth: r, axisKey: a, stackId: u + o }, e)); var s = y(t); var l = []; for (o = 0; o < e.count; o++) { var c = s[a][u + o]; c.offsetCenter = c.offset + c.width / 2, l.push(c) } return l } } function g (e, t) { var i = []; return t.eachSeriesByType(e, function (e) { w(e) && !S(e) && i.push(e) }), i } function m (e) { var t = {}; n.each(e, function (e) { var i = e.coordinateSystem; var n = i.getBaseAxis(); if (n.type === 'time' || n.type === 'value') for (var a = e.getData(), r = n.dim + '_' + n.index, o = a.mapDimension(n.dim), s = 0, l = a.count(); s < l; ++s) { var u = a.get(o, s); t[r] ? t[r].push(u) : t[r] = [u] } }); var i = []; for (var a in t) if (t.hasOwnProperty(a)) { var r = t[a]; if (r) { r.sort(function (e, t) { return e - t }); for (var o = null, s = 1; s < r.length; ++s) { var l = r[s] - r[s - 1]; l > 0 && (o = o === null ? l : Math.min(o, l)) }i[a] = o } } return i } function v (e) { var t = m(e); var i = []; return n.each(e, function (e) { var n; var a = e.coordinateSystem; var o = a.getBaseAxis(); var s = o.getExtent(); if (o.type === 'category')n = o.getBandWidth(); else if (o.type === 'value' || o.type === 'time') { var l = o.dim + '_' + o.index; var u = t[l]; var c = Math.abs(s[1] - s[0]); var h = o.scale.getExtent(); var p = Math.abs(h[1] - h[0]); n = u ? c / p * u : c } else { var g = e.getData(); n = Math.abs(s[1] - s[0]) / g.count() } var m = r(e.get('barWidth'), n); var v = r(e.get('barMaxWidth'), n); var y = r(e.get('barMinWidth') || 1, n); var x = e.get('barGap'); var _ = e.get('barCategoryGap'); i.push({ bandWidth: n, barWidth: m, barMaxWidth: v, barMinWidth: y, barGap: x, barCategoryGap: _, axisKey: f(o), stackId: d(e) }) }), y(i) } function y (e) { var t = {}; n.each(e, function (e, i) { var n = e.axisKey; var a = e.bandWidth; var r = t[n] || { bandWidth: a, remainedWidth: a, autoWidthCount: 0, categoryGap: '20%', gap: '30%', stacks: {} }; var o = r.stacks; t[n] = r; var s = e.stackId; o[s] || r.autoWidthCount++, o[s] = o[s] || { width: 0, maxWidth: 0 }; var l = e.barWidth; l && !o[s].width && (o[s].width = l, l = Math.min(r.remainedWidth, l), r.remainedWidth -= l); var u = e.barMaxWidth; u && (o[s].maxWidth = u); var c = e.barMinWidth; c && (o[s].minWidth = c); var h = e.barGap; h != null && (r.gap = h); var d = e.barCategoryGap; d != null && (r.categoryGap = d) }); var i = {}; return n.each(t, function (e, t) { i[t] = {}; var a = e.stacks; var o = e.bandWidth; var s = r(e.categoryGap, o); var l = r(e.gap, 1); var u = e.remainedWidth; var c = e.autoWidthCount; var h = (u - s) / (c + (c - 1) * l); h = Math.max(h, 0), n.each(a, function (e) { var t = e.maxWidth; var i = e.minWidth; if (e.width) { n = e.width; t && (n = Math.min(n, t)), i && (n = Math.max(n, i)), e.width = n, u -= n + l * n, c-- } else { var n = h; t && t < n && (n = Math.min(t, u)), i && i > n && (n = i), n !== h && (e.width = n, u -= n + l * n, c--) } }), h = (u - s) / (c + (c - 1) * l), h = Math.max(h, 0); var d; var f = 0; n.each(a, function (e, t) { e.width || (e.width = h), d = e, f += e.width * (1 + l) }), d && (f -= d.width * l); var p = -f / 2; n.each(a, function (e, n) { i[t][n] = i[t][n] || { bandWidth: o, offset: p, width: e.width }, p += e.width * (1 + l) }) }), i } function x (e, t, i) { if (e && t) { var n = e[f(t)]; return n != null && i != null && (n = n[d(i)]), n } } function _ (e, t) { var i = g(e, t); var a = v(i); var r = {}; var o = {}; n.each(i, function (e) { var t = e.getData(); var i = e.coordinateSystem; var n = i.getBaseAxis(); var l = d(e); var u = a[f(n)][l]; var c = u.offset; var h = u.width; var p = i.getOtherAxis(n); var g = e.get('barMinHeight') || 0; r[l] = r[l] || [], o[l] = o[l] || [], t.setLayout({ bandWidth: u.bandWidth, offset: c, size: h }); for (var m = t.mapDimension(p.dim), v = t.mapDimension(n.dim), y = s(t, m), x = p.isHorizontal(), _ = M(n, p, y), b = 0, w = t.count(); b < w; b++) { var S; var I; var A; var T; var C = t.get(m, b); var D = t.get(v, b); var L = C >= 0 ? 'p' : 'n'; var P = _; if (y && (r[l][D] || (r[l][D] = { p: _, n: _ }), P = r[l][D][L]), x) { var k = i.dataToPoint([C, D]); S = P, I = k[1] + c, A = k[0] - _, T = h, Math.abs(A) < g && (A = (A < 0 ? -1 : 1) * g), isNaN(A) || y && (r[l][D][L] += A) } else { k = i.dataToPoint([D, C]); S = k[0] + c, I = P, A = h, T = k[1] - _, Math.abs(T) < g && (T = (T <= 0 ? -1 : 1) * g), isNaN(T) || y && (r[l][D][L] += T) }t.setItemLayout(b, { x: S, y: I, width: A, height: T }) } }, this) } var b = { seriesType: 'bar', plan: l(), reset: function (e) { if (w(e) && S(e)) { var t = e.getData(); var i = e.coordinateSystem; var n = i.grid.getRect(); var a = i.getBaseAxis(); var r = i.getOtherAxis(a); var o = t.mapDimension(r.dim); var s = t.mapDimension(a.dim); var l = r.isHorizontal(); var u = l ? 0 : 1; var d = x(v([e]), a, e).width; return d > c || (d = c), { progress: f } } function f (e, t) { var c; var f = e.count; var p = new h(2 * f); var g = new h(2 * f); var m = new h(f); var v = []; var y = []; var x = 0; var _ = 0; while ((c = e.next()) != null)y[u] = t.get(o, c), y[1 - u] = t.get(s, c), v = i.dataToPoint(y, null, v), g[x] = l ? n.x + n.width : v[0], p[x++] = v[0], g[x] = l ? v[1] : n.y + n.height, p[x++] = v[1], m[_++] = c; t.setLayout({ largePoints: p, largeDataIndices: m, largeBackgroundPoints: g, barWidth: d, valueAxisStart: M(a, r, !1), backgroundStart: l ? n.x : n.y, valueAxisHorizontal: l }) } } }; function w (e) { return e.coordinateSystem && e.coordinateSystem.type === 'cartesian2d' } function S (e) { return e.pipelineContext && e.pipelineContext.large } function M (e, t, i) { return t.toGlobalCoord(t.dataToCoord(t.type === 'log' ? 1 : 0)) }t.getLayoutOnAxis = p, t.prepareLayoutBarSeries = g, t.makeColumnLayout = v, t.retrieveColumnLayout = x, t.layout = _, t.largeLayout = b }, '9e2e': function (e, t, i) { var n = i('a73c'); var a = i('9850'); var r = i('82eb'); var o = r.WILL_BE_RESTORED; var s = new a(); var l = function () {}; l.prototype = { constructor: l, drawRectText: function (e, t) { var i = this.style; t = i.textRect || t, this.__dirty && n.normalizeTextStyle(i, !0); var a = i.text; if (a != null && (a += ''), n.needDrawText(a, i)) { e.save(); var r = this.transform; i.transformText ? this.setTransform(e) : r && (s.copy(t), s.applyTransform(r), t = s), n.renderText(this, e, a, i, t, o), e.restore() } } }; var u = l; e.exports = u }, '9e47': function (e, t, i) { var n = i('6d8b'); var a = i('71ad'); var r = i('6cb7'); var o = i('f934'); var s = o.getLayoutParams; var l = o.mergeLayoutParam; var u = i('8e43'); var c = ['value', 'category', 'time', 'log']; function h (e, t, i, o) { n.each(c, function (r) { t.extend({ type: e + 'Axis.' + r, mergeDefaultAndTheme: function (t, a) { var o = this.layoutMode; var u = o ? s(t) : {}; var c = a.getTheme(); n.merge(t, c.get(r + 'Axis')), n.merge(t, this.getDefaultOption()), t.type = i(e, t), o && l(t, u, o) }, optionUpdated: function () { var e = this.option; e.type === 'category' && (this.__ordinalMeta = u.createByAxisModel(this)) }, getCategories: function (e) { var t = this.option; if (t.type === 'category') return e ? t.data : this.__ordinalMeta.categories }, getOrdinalMeta: function () { return this.__ordinalMeta }, defaultOption: n.mergeAll([{}, a[r + 'Axis'], o], !0) }) }), r.registerSubTypeDefaulter(e + 'Axis', n.curry(i, e)) }e.exports = h }, '9e87': function (e, t, i) { var n = i('3eba'); var a = i('6d8b'); var r = i('50e5'); n.registerAction('dataZoom', function (e, t) { var i = r.createLinkedNodesFinder(a.bind(t.eachComponent, t, 'dataZoom'), r.eachAxisDim, function (e, t) { return e.get(t.axisIndex) }); var n = []; t.eachComponent({ mainType: 'dataZoom', query: e }, function (e, t) { n.push.apply(n, i(e).nodes) }), a.each(n, function (t, i) { t.setRawRange({ start: e.start, end: e.end, startValue: e.startValue, endValue: e.endValue }) }) }) }, '9f51': function (e, t, i) { var n = i('857d'); var a = n.normalizeRadian; var r = 2 * Math.PI; function o (e, t, i, n, o, s, l, u, c) { if (l === 0) return !1; var h = l; u -= e, c -= t; var d = Math.sqrt(u * u + c * c); if (d - h > i || d + h < i) return !1; if (Math.abs(n - o) % r < 1e-4) return !0; if (s) { var f = n; n = a(o), o = a(f) } else n = a(n), o = a(o); n > o && (o += r); var p = Math.atan2(c, u); return p < 0 && (p += r), p >= n && p <= o || p + r >= n && p + r <= o }t.containStroke = o }, '9f7f': function (e, t, i) { 'use strict'; var n = i('d039'); function a (e, t) { return RegExp(e, t) }t.UNSUPPORTED_Y = n(function () { var e = a('a', 'y'); return e.lastIndex = 2, e.exec('abcd') != null }), t.BROKEN_CARET = n(function () { var e = a('^r', 'gy'); return e.lastIndex = 2, e.exec('str') != null }) }, '9f82': function (e, t, i) { var n = i('ee1a'); var a = n.isDimensionStacked; var r = i('6d8b'); var o = r.map; function s (e, t, i) { var n; var r = e.getBaseAxis(); var s = e.getOtherAxis(r); var u = l(s, i); var c = r.dim; var h = s.dim; var d = t.mapDimension(h); var f = t.mapDimension(c); var p = h === 'x' || h === 'radius' ? 1 : 0; var g = o(e.dimensions, function (e) { return t.mapDimension(e) }); var m = t.getCalculationInfo('stackResultDimension'); return (n |= a(t, g[0])) && (g[0] = m), (n |= a(t, g[1])) && (g[1] = m), { dataDimsForPoint: g, valueStart: u, valueAxisDim: h, baseAxisDim: c, stacked: !!n, valueDim: d, baseDim: f, baseDataOffset: p, stackedOverDimension: t.getCalculationInfo('stackedOverDimension') } } function l (e, t) { var i = 0; var n = e.scale.getExtent(); return t === 'start' ? i = n[0] : t === 'end' ? i = n[1] : n[0] > 0 ? i = n[0] : n[1] < 0 && (i = n[1]), i } function u (e, t, i, n) { var a = NaN; e.stacked && (a = i.get(i.getCalculationInfo('stackedOverDimension'), n)), isNaN(a) && (a = e.valueStart); var r = e.baseDataOffset; var o = []; return o[r] = i.get(e.baseDim, n), o[1 - r] = a, t.dataToPoint(o) }t.prepareDataCoordInfo = s, t.getStackedOnPoint = u }, '9fa3': function (e, t, i) { var n = i('4ab1'); var a = i('6d8b'); var r = i('1687'); function o (e, t) { n.call(this, e, t, 'clipPath', '__clippath_in_use__') }a.inherits(o, n), o.prototype.update = function (e) { var t = this.getSvgElement(e); t && this.updateDom(t, e.__clipPaths, !1); var i = this.getTextSvgElement(e); i && this.updateDom(i, e.__clipPaths, !0), this.markUsed(e) }, o.prototype.updateDom = function (e, t, i) { if (t && t.length > 0) { var n; var a; var o = this.getDefs(!0); var s = t[0]; var l = i ? '_textDom' : '_dom'; s[l] ? (a = s[l].getAttribute('id'), n = s[l], o.contains(n) || o.appendChild(n)) : (a = 'zr' + this._zrId + '-clip-' + this.nextId, ++this.nextId, n = this.createElement('clipPath'), n.setAttribute('id', a), o.appendChild(n), s[l] = n); var u = this.getSvgProxy(s); if (s.transform && s.parent.invTransform && !i) { var c = Array.prototype.slice.call(s.transform); r.mul(s.transform, s.parent.invTransform, s.transform), u.brush(s), s.transform = c } else u.brush(s); var h = this.getSvgElement(s); n.innerHTML = '', n.appendChild(h.cloneNode()), e.setAttribute('clip-path', 'url(#' + a + ')'), t.length > 1 && this.updateDom(n, t.slice(1), i) } else e && e.setAttribute('clip-path', 'none') }, o.prototype.markUsed = function (e) { var t = this; e.__clipPaths && a.each(e.__clipPaths, function (e) { e._dom && n.prototype.markUsed.call(t, e._dom), e._textDom && n.prototype.markUsed.call(t, e._textDom) }) }; var s = o; e.exports = s }, a016: function (e, t, i) { var n = i('4f85'); var a = i('e46b'); var r = i('6d8b'); var o = i('eda2'); var s = o.encodeHTML; var l = i('c4a3'); var u = n.extend({ type: 'series.radar', dependencies: ['radar'], init: function (e) { u.superApply(this, 'init', arguments), this.legendVisualProvider = new l(r.bind(this.getData, this), r.bind(this.getRawData, this)) }, getInitialData: function (e, t) { return a(this, { generateCoord: 'indicator_', generateCoordCount: 1 / 0 }) }, formatTooltip: function (e, t, i, n) { var a = this.getData(); var o = this.coordinateSystem; var l = o.getIndicatorAxes(); var u = this.getData().getName(e); var c = n === 'html' ? '<br/>' : '\n'; return s(u === '' ? this.name : u) + c + r.map(l, function (t, i) { var n = a.get(a.mapDimension(t.dim), e); return s(t.name + ' : ' + n) }).join(c) }, getTooltipPosition: function (e) { if (e != null) for (var t = this.getData(), i = this.coordinateSystem, n = t.getValues(r.map(i.dimensions, function (e) { return t.mapDimension(e) }), e, !0), a = 0, o = n.length; a < o; a++) if (!isNaN(n[a])) { var s = i.getIndicatorAxes(); return i.coordToPoint(s[a].dataToCoord(n[a]), a) } }, defaultOption: { zlevel: 0, z: 2, coordinateSystem: 'radar', legendHoverLink: !0, radarIndex: 0, lineStyle: { width: 2, type: 'solid' }, label: { position: 'top' }, symbol: 'emptyCircle', symbolSize: 4 } }); var c = u; e.exports = c }, a04e: function (e, t, i) { var n = i('6cb7'); n.registerSubTypeDefaulter('timeline', function () { return 'slider' }) }, a15a: function (e, t, i) { var n = i('6d8b'); var a = i('2306'); var r = i('9850'); var o = i('e86a'); var s = o.calculateTextPosition; var l = a.extendShape({ type: 'triangle', shape: { cx: 0, cy: 0, width: 0, height: 0 }, buildPath: function (e, t) { var i = t.cx; var n = t.cy; var a = t.width / 2; var r = t.height / 2; e.moveTo(i, n - r), e.lineTo(i + a, n + r), e.lineTo(i - a, n + r), e.closePath() } }); var u = a.extendShape({ type: 'diamond', shape: { cx: 0, cy: 0, width: 0, height: 0 }, buildPath: function (e, t) { var i = t.cx; var n = t.cy; var a = t.width / 2; var r = t.height / 2; e.moveTo(i, n - r), e.lineTo(i + a, n), e.lineTo(i, n + r), e.lineTo(i - a, n), e.closePath() } }); var c = a.extendShape({ type: 'pin', shape: { x: 0, y: 0, width: 0, height: 0 }, buildPath: function (e, t) { var i = t.x; var n = t.y; var a = t.width / 5 * 3; var r = Math.max(a, t.height); var o = a / 2; var s = o * o / (r - o); var l = n - r + o + s; var u = Math.asin(s / o); var c = Math.cos(u) * o; var h = Math.sin(u); var d = Math.cos(u); var f = 0.6 * o; var p = 0.7 * o; e.moveTo(i - c, l + s), e.arc(i, l, o, Math.PI - u, 2 * Math.PI + u), e.bezierCurveTo(i + c - h * f, l + s + d * f, i, n - p, i, n), e.bezierCurveTo(i, n - p, i - c + h * f, l + s + d * f, i - c, l + s), e.closePath() } }); var h = a.extendShape({ type: 'arrow', shape: { x: 0, y: 0, width: 0, height: 0 }, buildPath: function (e, t) { var i = t.height; var n = t.width; var a = t.x; var r = t.y; var o = n / 3 * 2; e.moveTo(a, r), e.lineTo(a + o, r + i), e.lineTo(a, r + i / 4 * 3), e.lineTo(a - o, r + i), e.lineTo(a, r), e.closePath() } }); var d = { line: a.Line, rect: a.Rect, roundRect: a.Rect, square: a.Rect, circle: a.Circle, diamond: u, pin: c, arrow: h, triangle: l }; var f = { line: function (e, t, i, n, a) { a.x1 = e, a.y1 = t + n / 2, a.x2 = e + i, a.y2 = t + n / 2 }, rect: function (e, t, i, n, a) { a.x = e, a.y = t, a.width = i, a.height = n }, roundRect: function (e, t, i, n, a) { a.x = e, a.y = t, a.width = i, a.height = n, a.r = Math.min(i, n) / 4 }, square: function (e, t, i, n, a) { var r = Math.min(i, n); a.x = e, a.y = t, a.width = r, a.height = r }, circle: function (e, t, i, n, a) { a.cx = e + i / 2, a.cy = t + n / 2, a.r = Math.min(i, n) / 2 }, diamond: function (e, t, i, n, a) { a.cx = e + i / 2, a.cy = t + n / 2, a.width = i, a.height = n }, pin: function (e, t, i, n, a) { a.x = e + i / 2, a.y = t + n / 2, a.width = i, a.height = n }, arrow: function (e, t, i, n, a) { a.x = e + i / 2, a.y = t + n / 2, a.width = i, a.height = n }, triangle: function (e, t, i, n, a) { a.cx = e + i / 2, a.cy = t + n / 2, a.width = i, a.height = n } }; var p = {}; n.each(d, function (e, t) { p[t] = new e() }); var g = a.extendShape({ type: 'symbol', shape: { symbolType: '', x: 0, y: 0, width: 0, height: 0 }, calculateTextPosition: function (e, t, i) { var n = s(e, t, i); var a = this.shape; return a && a.symbolType === 'pin' && t.textPosition === 'inside' && (n.y = i.y + 0.4 * i.height), n }, buildPath: function (e, t, i) { var n = t.symbolType; if (n !== 'none') { var a = p[n]; a || (n = 'rect', a = p[n]), f[n](t.x, t.y, t.width, t.height, a.shape), a.buildPath(e, a.shape, i) } } }); function m (e, t) { if (this.type !== 'image') { var i = this.style; var n = this.shape; n && n.symbolType === 'line' ? i.stroke = e : this.__isEmptyBrush ? (i.stroke = e, i.fill = t || '#fff') : (i.fill && (i.fill = e), i.stroke && (i.stroke = e)), this.dirty(!1) } } function v (e, t, i, n, o, s, l) { var u; var c = e.indexOf('empty') === 0; return c && (e = e.substr(5, 1).toLowerCase() + e.substr(6)), u = e.indexOf('image://') === 0 ? a.makeImage(e.slice(8), new r(t, i, n, o), l ? 'center' : 'cover') : e.indexOf('path://') === 0 ? a.makePath(e.slice(7), {}, new r(t, i, n, o), l ? 'center' : 'cover') : new g({ shape: { symbolType: e, x: t, y: i, width: n, height: o } }), u.__isEmptyBrush = c, u.setColor = m, u.setColor(s), u }t.createSymbol = v }, a18f: function (e, t, i) { var n = i('3a56'); var a = n.extend({ type: 'dataZoom.inside', defaultOption: { disabled: !1, zoomLock: !1, zoomOnMouseWheel: !0, moveOnMouseMove: !0, moveOnMouseWheel: !1, preventDefaultMouseMove: !0 } }); e.exports = a }, a38d: function (e, t, i) { var n = i('2306'); var a = i('392f'); var r = i('9680'); var o = i('68ab'); var s = n.extendShape({ shape: { polyline: !1, curveness: 0, segs: [] }, buildPath: function (e, t) { var i = t.segs; var n = t.curveness; if (t.polyline) for (var a = 0; a < i.length;) { var r = i[a++]; if (r > 0) { e.moveTo(i[a++], i[a++]); for (var o = 1; o < r; o++)e.lineTo(i[a++], i[a++]) } } else for (a = 0; a < i.length;) { var s = i[a++]; var l = i[a++]; var u = i[a++]; var c = i[a++]; if (e.moveTo(s, l), n > 0) { var h = (s + u) / 2 - (l - c) * n; var d = (l + c) / 2 - (u - s) * n; e.quadraticCurveTo(h, d, u, c) } else e.lineTo(u, c) } }, findDataIndex: function (e, t) { var i = this.shape; var n = i.segs; var a = i.curveness; if (i.polyline) for (var s = 0, l = 0; l < n.length;) { var u = n[l++]; if (u > 0) for (var c = n[l++], h = n[l++], d = 1; d < u; d++) { var f = n[l++]; var p = n[l++]; if (r.containStroke(c, h, f, p)) return s }s++ } else for (s = 0, l = 0; l < n.length;) { c = n[l++], h = n[l++], f = n[l++], p = n[l++]; if (a > 0) { var g = (c + f) / 2 - (h - p) * a; var m = (h + p) / 2 - (f - c) * a; if (o.containStroke(c, h, g, m, f, p)) return s } else if (r.containStroke(c, h, f, p)) return s; s++ } return -1 } }); function l () { this.group = new n.Group() } var u = l.prototype; u.isPersistent = function () { return !this._incremental }, u.updateData = function (e) { this.group.removeAll(); var t = new s({ rectHover: !0, cursor: 'default' }); t.setShape({ segs: e.getLayout('linesPoints') }), this._setCommon(t, e), this.group.add(t), this._incremental = null }, u.incrementalPrepareUpdate = function (e) { this.group.removeAll(), this._clearIncremental(), e.count() > 5e5 ? (this._incremental || (this._incremental = new a({ silent: !0 })), this.group.add(this._incremental)) : this._incremental = null }, u.incrementalUpdate = function (e, t) { var i = new s(); i.setShape({ segs: t.getLayout('linesPoints') }), this._setCommon(i, t, !!this._incremental), this._incremental ? this._incremental.addDisplayable(i, !0) : (i.rectHover = !0, i.cursor = 'default', i.__startIndex = e.start, this.group.add(i)) }, u.remove = function () { this._clearIncremental(), this._incremental = null, this.group.removeAll() }, u._setCommon = function (e, t, i) { var n = t.hostModel; e.setShape({ polyline: n.get('polyline'), curveness: n.get('lineStyle.curveness') }), e.useStyle(n.getModel('lineStyle').getLineStyle()), e.style.strokeNoScale = !0; var a = t.getVisual('color'); a && e.setStyle('stroke', a), e.setStyle('fill'), i || (e.seriesIndex = n.seriesIndex, e.on('mousemove', function (t) { e.dataIndex = null; var i = e.findDataIndex(t.offsetX, t.offsetY); i > 0 && (e.dataIndex = i + e.__startIndex) })) }, u._clearIncremental = function () { var e = this._incremental; e && e.clearDisplaybles() }; var c = l; e.exports = c }, a4b1: function (e, t, i) { var n = i('3eba'); i('00ba'), i('4d62'); var a = i('98e7'); var r = i('24b9'); var o = i('d3f4'); n.registerVisual(a('funnel')), n.registerLayout(r), n.registerProcessor(o('funnel')) }, a4fe: function (e, t, i) { var n = i('3eba'); var a = '\0_ec_interaction_mutex'; function r (e, t, i) { var n = l(e); n[t] = i } function o (e, t, i) { var n = l(e); var a = n[t]; a === i && (n[t] = null) } function s (e, t) { return !!l(e)[t] } function l (e) { return e[a] || (e[a] = {}) }n.registerAction({ type: 'takeGlobalCursor', event: 'globalCursorTaken', update: 'update' }, function () {}), t.take = r, t.release = o, t.isTaken = s }, a666: function (e, t, i) { var n = i('3eba'); var a = i('6d8b'); var r = i('2306'); var o = i('0c41'); var s = '__seriesMapHighDown'; var l = '__seriesMapCallKey'; var u = n.extendChartView({ type: 'map', render: function (e, t, i, n) { if (!n || n.type !== 'mapToggleSelect' || n.from !== this.uid) { var a = this.group; if (a.removeAll(), !e.getHostGeoModel()) { if (n && n.type === 'geoRoam' && n.componentType === 'series' && n.seriesId === e.id) { r = this._mapDraw; r && a.add(r.group) } else if (e.needsDrawMap) { var r = this._mapDraw || new o(i, !0); a.add(r.group), r.draw(e, t, i, this, n), this._mapDraw = r } else this._mapDraw && this._mapDraw.remove(), this._mapDraw = null; e.get('showLegendSymbol') && t.getComponent('legend') && this._renderSymbols(e, t, i) } } }, remove: function () { this._mapDraw && this._mapDraw.remove(), this._mapDraw = null, this.group.removeAll() }, dispose: function () { this._mapDraw && this._mapDraw.remove(), this._mapDraw = null }, _renderSymbols: function (e, t, i) { var n = e.originalData; var o = this.group; n.each(n.mapDimension('value'), function (t, i) { if (!isNaN(t)) { var u = n.getItemLayout(i); if (u && u.point) { var d = u.point; var f = u.offset; var p = new r.Circle({ style: { fill: e.getData().getVisual('color') }, shape: { cx: d[0] + 9 * f, cy: d[1], r: 3 }, silent: !0, z2: 8 + (f ? 0 : r.Z2_EMPHASIS_LIFT + 1) }); if (!f) { var g = e.mainSeries.getData(); var m = n.getName(i); var v = g.indexOfName(m); var y = n.getItemModel(i); var x = y.getModel('label'); var _ = y.getModel('emphasis.label'); var b = g.getItemGraphicEl(v); var w = a.retrieve2(e.getFormattedLabel(v, 'normal'), m); var S = a.retrieve2(e.getFormattedLabel(v, 'emphasis'), w); var M = b[s]; var I = Math.random(); if (!M) { M = b[s] = {}; var A = a.curry(c, !0); var T = a.curry(c, !1); b.on('mouseover', A).on('mouseout', T).on('emphasis', A).on('normal', T) }b[l] = I, a.extend(M, { recordVersion: I, circle: p, labelModel: x, hoverLabelModel: _, emphasisText: S, normalText: w }), h(M, !1) }o.add(p) } } }) } }); function c (e) { var t = this[s]; t && t.recordVersion === this[l] && h(t, e) } function h (e, t) { var i = e.circle; var n = e.labelModel; var a = e.hoverLabelModel; var o = e.emphasisText; var s = e.normalText; t ? (i.style.extendFrom(r.setTextStyle({}, a, { text: a.get('show') ? o : null }, { isRectText: !0, useInsideStyle: !1 }, !0)), i.__mapOriginalZ2 = i.z2, i.z2 += r.Z2_EMPHASIS_LIFT) : (r.setTextStyle(i.style, n, { text: n.get('show') ? s : null, textPosition: n.getShallow('position') || 'bottom' }, { isRectText: !0, useInsideStyle: !1 }), i.dirty(!1), i.__mapOriginalZ2 != null && (i.z2 = i.__mapOriginalZ2, i.__mapOriginalZ2 = null)) }e.exports = u }, a73c: function (e, t, i) { var n = i('6d8b'); var a = n.retrieve2; var r = n.retrieve3; var o = n.each; var s = n.normalizeCssArray; var l = n.isString; var u = n.isObject; var c = i('e86a'); var h = i('5693'); var d = i('5e76'); var f = i('7d6d'); var p = i('82eb'); var g = p.ContextCachedBy; var m = p.WILL_BE_RESTORED; var v = c.DEFAULT_FONT; var y = { left: 1, right: 1, center: 1 }; var x = { top: 1, bottom: 1, middle: 1 }; var _ = [['textShadowBlur', 'shadowBlur', 0], ['textShadowOffsetX', 'shadowOffsetX', 0], ['textShadowOffsetY', 'shadowOffsetY', 0], ['textShadowColor', 'shadowColor', 'transparent']]; var b = {}; var w = {}; function S (e) { return M(e), o(e.rich, M), e } function M (e) { if (e) { e.font = c.makeFont(e); var t = e.textAlign; t === 'middle' && (t = 'center'), e.textAlign = t == null || y[t] ? t : 'left'; var i = e.textVerticalAlign || e.textBaseline; i === 'center' && (i = 'middle'), e.textVerticalAlign = i == null || x[i] ? i : 'top'; var n = e.textPadding; n && (e.textPadding = s(e.textPadding)) } } function I (e, t, i, n, a, r) { n.rich ? T(e, t, i, n, a, r) : A(e, t, i, n, a, r) } function A (e, t, i, n, a, r) { 'use strict'; var o; var s = P(n); var l = !1; var u = t.__attrCachedBy === g.PLAIN_TEXT; r !== m ? (r && (o = r.style, l = !s && u && o), t.__attrCachedBy = s ? g.NONE : g.PLAIN_TEXT) : u && (t.__attrCachedBy = g.NONE); var h = n.font || v; l && h === (o.font || v) || (t.font = h); var d = e.__computedFont; e.__styleFont !== h && (e.__styleFont = h, d = e.__computedFont = t.font); var p = n.textPadding; var y = n.textLineHeight; var x = e.__textCotentBlock; x && !e.__dirtyText || (x = e.__textCotentBlock = c.parsePlainText(i, d, p, y, n.truncate)); var b = x.outerHeight; var S = x.lines; var M = x.lineHeight; var I = R(w, e, n, a); var A = I.baseX; var T = I.baseY; var C = I.textAlign || 'left'; var L = I.textVerticalAlign; D(t, n, a, A, T); var O = c.adjustTextY(T, b, L); var E = A; var B = O; if (s || p) { var G = c.getWidth(i, d); var F = G; p && (F += p[1] + p[3]); var H = c.adjustTextX(A, F, C); s && k(e, t, n, H, O, F, b), p && (E = V(A, C, p), B += p[0]) }t.textAlign = C, t.textBaseline = 'middle', t.globalAlpha = n.opacity || 1; for (var W = 0; W < _.length; W++) { var U = _[W]; var Z = U[0]; var Y = U[1]; var j = n[Z]; l && j === o[Z] || (t[Y] = f(t, Y, j || U[2])) }B += M / 2; var X = n.textStrokeWidth; var q = l ? o.textStrokeWidth : null; var $ = !l || X !== q; var K = !l || $ || n.textStroke !== o.textStroke; var J = N(n.textStroke, X); var Q = z(n.textFill); if (J && ($ && (t.lineWidth = X), K && (t.strokeStyle = J)), Q && (l && n.textFill === o.textFill || (t.fillStyle = Q)), S.length === 1)J && t.strokeText(S[0], E, B), Q && t.fillText(S[0], E, B); else for (W = 0; W < S.length; W++)J && t.strokeText(S[W], E, B), Q && t.fillText(S[W], E, B), B += M } function T (e, t, i, n, a, r) { r !== m && (t.__attrCachedBy = g.NONE); var o = e.__textCotentBlock; o && !e.__dirtyText || (o = e.__textCotentBlock = c.parseRichText(i, n)), C(e, t, o, n, a) } function C (e, t, i, n, a) { var r = i.width; var o = i.outerWidth; var s = i.outerHeight; var l = n.textPadding; var u = R(w, e, n, a); var h = u.baseX; var d = u.baseY; var f = u.textAlign; var p = u.textVerticalAlign; D(t, n, a, h, d); var g = c.adjustTextX(h, o, f); var m = c.adjustTextY(d, s, p); var v = g; var y = m; l && (v += l[3], y += l[0]); var x = v + r; P(n) && k(e, t, n, g, m, o, s); for (var _ = 0; _ < i.lines.length; _++) { var b; var S = i.lines[_]; var M = S.tokens; var I = M.length; var A = S.lineHeight; var T = S.width; var C = 0; var O = v; var E = x; var N = I - 1; while (C < I && (b = M[C], !b.textAlign || b.textAlign === 'left'))L(e, t, b, n, A, y, O, 'left'), T -= b.width, O += b.width, C++; while (N >= 0 && (b = M[N], b.textAlign === 'right'))L(e, t, b, n, A, y, E, 'right'), T -= b.width, E -= b.width, N--; O += (r - (O - v) - (x - E) - T) / 2; while (C <= N)b = M[C], L(e, t, b, n, A, y, O + b.width / 2, 'center'), O += b.width, C++; y += A } } function D (e, t, i, n, a) { if (i && t.textRotation) { var r = t.textOrigin; r === 'center' ? (n = i.width / 2 + i.x, a = i.height / 2 + i.y) : r && (n = r[0] + i.x, a = r[1] + i.y), e.translate(n, a), e.rotate(-t.textRotation), e.translate(-n, -a) } } function L (e, t, i, n, o, s, l, u) { var c = n.rich[i.styleName] || {}; c.text = i.text; var h = i.textVerticalAlign; var d = s + o / 2; h === 'top' ? d = s + i.height / 2 : h === 'bottom' && (d = s + o - i.height / 2), !i.isLineHolder && P(c) && k(e, t, c, u === 'right' ? l - i.width : u === 'center' ? l - i.width / 2 : l, d - i.height / 2, i.width, i.height); var f = i.textPadding; f && (l = V(l, u, f), d -= i.height / 2 - f[2] - i.textHeight / 2), E(t, 'shadowBlur', r(c.textShadowBlur, n.textShadowBlur, 0)), E(t, 'shadowColor', c.textShadowColor || n.textShadowColor || 'transparent'), E(t, 'shadowOffsetX', r(c.textShadowOffsetX, n.textShadowOffsetX, 0)), E(t, 'shadowOffsetY', r(c.textShadowOffsetY, n.textShadowOffsetY, 0)), E(t, 'textAlign', u), E(t, 'textBaseline', 'middle'), E(t, 'font', i.font || v); var p = N(c.textStroke || n.textStroke, m); var g = z(c.textFill || n.textFill); var m = a(c.textStrokeWidth, n.textStrokeWidth); p && (E(t, 'lineWidth', m), E(t, 'strokeStyle', p), t.strokeText(i.text, l, d)), g && (E(t, 'fillStyle', g), t.fillText(i.text, l, d)) } function P (e) { return !!(e.textBackgroundColor || e.textBorderWidth && e.textBorderColor) } function k (e, t, i, n, a, r, o) { var s = i.textBackgroundColor; var c = i.textBorderWidth; var f = i.textBorderColor; var p = l(s); if (E(t, 'shadowBlur', i.textBoxShadowBlur || 0), E(t, 'shadowColor', i.textBoxShadowColor || 'transparent'), E(t, 'shadowOffsetX', i.textBoxShadowOffsetX || 0), E(t, 'shadowOffsetY', i.textBoxShadowOffsetY || 0), p || c && f) { t.beginPath(); var g = i.textBorderRadius; g ? h.buildPath(t, { x: n, y: a, width: r, height: o, r: g }) : t.rect(n, a, r, o), t.closePath() } if (p) if (E(t, 'fillStyle', s), i.fillOpacity != null) { var m = t.globalAlpha; t.globalAlpha = i.fillOpacity * i.opacity, t.fill(), t.globalAlpha = m } else t.fill(); else if (u(s)) { var v = s.image; v = d.createOrUpdateImage(v, null, e, O, s), v && d.isImageReady(v) && t.drawImage(v, n, a, r, o) } if (c && f) if (E(t, 'lineWidth', c), E(t, 'strokeStyle', f), i.strokeOpacity != null) { m = t.globalAlpha; t.globalAlpha = i.strokeOpacity * i.opacity, t.stroke(), t.globalAlpha = m } else t.stroke() } function O (e, t) { t.image = e } function R (e, t, i, n) { var a = i.x || 0; var r = i.y || 0; var o = i.textAlign; var s = i.textVerticalAlign; if (n) { var l = i.textPosition; if (l instanceof Array)a = n.x + B(l[0], n.width), r = n.y + B(l[1], n.height); else { var u = t && t.calculateTextPosition ? t.calculateTextPosition(b, i, n) : c.calculateTextPosition(b, i, n); a = u.x, r = u.y, o = o || u.textAlign, s = s || u.textVerticalAlign } var h = i.textOffset; h && (a += h[0], r += h[1]) } return e = e || {}, e.baseX = a, e.baseY = r, e.textAlign = o, e.textVerticalAlign = s, e } function E (e, t, i) { return e[t] = f(e, t, i), e[t] } function N (e, t) { return e == null || t <= 0 || e === 'transparent' || e === 'none' ? null : e.image || e.colorStops ? '#000' : e } function z (e) { return e == null || e === 'none' ? null : e.image || e.colorStops ? '#000' : e } function B (e, t) { return typeof e === 'string' ? e.lastIndexOf('%') >= 0 ? parseFloat(e) / 100 * t : parseFloat(e) : e } function V (e, t, i) { return t === 'right' ? e - i[1] : t === 'center' ? e + i[3] / 2 - i[1] / 2 : e + i[3] } function G (e, t) { return e != null && (e || t.textBackgroundColor || t.textBorderWidth && t.textBorderColor || t.textPadding) }t.normalizeTextStyle = S, t.renderText = I, t.getBoxPosition = R, t.getStroke = N, t.getFill = z, t.parsePercent = B, t.needDrawText = G }, a7531: function (e, t, i) { var n = i('1f0e'); var a = i('2306'); var r = i('e887'); var o = i('3842'); var s = o.parsePercent; var l = o.round; var u = o.linearMap; function c (e, t) { var i = e.get('center'); var n = t.getWidth(); var a = t.getHeight(); var r = Math.min(n, a); var o = s(i[0], t.getWidth()); var l = s(i[1], t.getHeight()); var u = s(e.get('radius'), r / 2); return { cx: o, cy: l, r: u } } function h (e, t) { return t && (typeof t === 'string' ? e = t.replace('{value}', e != null ? e : '') : typeof t === 'function' && (e = t(e))), e } var d = 2 * Math.PI; var f = r.extend({ type: 'gauge', render: function (e, t, i) { this.group.removeAll(); var n = e.get('axisLine.lineStyle.color'); var a = c(e, i); this._renderMain(e, t, i, n, a) }, dispose: function () {}, _renderMain: function (e, t, i, n, r) { for (var o = this.group, s = e.getModel('axisLine'), l = s.getModel('lineStyle'), u = e.get('clockwise'), c = -e.get('startAngle') / 180 * Math.PI, h = -e.get('endAngle') / 180 * Math.PI, f = (h - c) % d, p = c, g = l.get('width'), m = s.get('show'), v = 0; m && v < n.length; v++) { var y = Math.min(Math.max(n[v][0], 0), 1); var x = (h = c + f * y, new a.Sector({ shape: { startAngle: p, endAngle: h, cx: r.cx, cy: r.cy, clockwise: u, r0: r.r - g, r: r.r }, silent: !0 })); x.setStyle({ fill: n[v][1] }), x.setStyle(l.getLineStyle(['color', 'borderWidth', 'borderColor'])), o.add(x), p = h } var _ = function (e) { if (e <= 0) return n[0][1]; for (var t = 0; t < n.length; t++) if (n[t][0] >= e && (t === 0 ? 0 : n[t - 1][0]) < e) return n[t][1]; return n[t - 1][1] }; if (!u) { var b = c; c = h, h = b } this._renderTicks(e, t, i, _, r, c, h, u), this._renderPointer(e, t, i, _, r, c, h, u), this._renderTitle(e, t, i, _, r), this._renderDetail(e, t, i, _, r) }, _renderTicks: function (e, t, i, n, r, o, u, c) { for (var d = this.group, f = r.cx, p = r.cy, g = r.r, m = +e.get('min'), v = +e.get('max'), y = e.getModel('splitLine'), x = e.getModel('axisTick'), _ = e.getModel('axisLabel'), b = e.get('splitNumber'), w = x.get('splitNumber'), S = s(y.get('length'), g), M = s(x.get('length'), g), I = o, A = (u - o) / b, T = A / w, C = y.getModel('lineStyle').getLineStyle(), D = x.getModel('lineStyle').getLineStyle(), L = 0; L <= b; L++) { var P = Math.cos(I); var k = Math.sin(I); if (y.get('show')) { var O = new a.Line({ shape: { x1: P * g + f, y1: k * g + p, x2: P * (g - S) + f, y2: k * (g - S) + p }, style: C, silent: !0 }); C.stroke === 'auto' && O.setStyle({ stroke: n(L / b) }), d.add(O) } if (_.get('show')) { var R = h(l(L / b * (v - m) + m), _.get('formatter')); var E = _.get('distance'); var N = n(L / b); d.add(new a.Text({ style: a.setTextStyle({}, _, { text: R, x: P * (g - S - E) + f, y: k * (g - S - E) + p, textVerticalAlign: k < -0.4 ? 'top' : k > 0.4 ? 'bottom' : 'middle', textAlign: P < -0.4 ? 'left' : P > 0.4 ? 'right' : 'center' }, { autoColor: N }), silent: !0 })) } if (x.get('show') && L !== b) { for (var z = 0; z <= w; z++) { P = Math.cos(I), k = Math.sin(I); var B = new a.Line({ shape: { x1: P * g + f, y1: k * g + p, x2: P * (g - M) + f, y2: k * (g - M) + p }, silent: !0, style: D }); D.stroke === 'auto' && B.setStyle({ stroke: n((L + z / w) / b) }), d.add(B), I += T }I -= T } else I += A } }, _renderPointer: function (e, t, i, r, o, l, c, h) { var d = this.group; var f = this._data; if (e.get('pointer.show')) { var p = [+e.get('min'), +e.get('max')]; var g = [l, c]; var m = e.getData(); var v = m.mapDimension('value'); m.diff(f).add(function (t) { var i = new n({ shape: { angle: l } }); a.initProps(i, { shape: { angle: u(m.get(v, t), p, g, !0) } }, e), d.add(i), m.setItemGraphicEl(t, i) }).update(function (t, i) { var n = f.getItemGraphicEl(i); a.updateProps(n, { shape: { angle: u(m.get(v, t), p, g, !0) } }, e), d.add(n), m.setItemGraphicEl(t, n) }).remove(function (e) { var t = f.getItemGraphicEl(e); d.remove(t) }).execute(), m.eachItemGraphicEl(function (e, t) { var i = m.getItemModel(t); var n = i.getModel('pointer'); e.setShape({ x: o.cx, y: o.cy, width: s(n.get('width'), o.r), r: s(n.get('length'), o.r) }), e.useStyle(i.getModel('itemStyle').getItemStyle()), e.style.fill === 'auto' && e.setStyle('fill', r(u(m.get(v, t), p, [0, 1], !0))), a.setHoverStyle(e, i.getModel('emphasis.itemStyle').getItemStyle()) }), this._data = m } else f && f.eachItemGraphicEl(function (e) { d.remove(e) }) }, _renderTitle: function (e, t, i, n, r) { var o = e.getData(); var l = o.mapDimension('value'); var c = e.getModel('title'); if (c.get('show')) { var h = c.get('offsetCenter'); var d = r.cx + s(h[0], r.r); var f = r.cy + s(h[1], r.r); var p = +e.get('min'); var g = +e.get('max'); var m = e.getData().get(l, 0); var v = n(u(m, [p, g], [0, 1], !0)); this.group.add(new a.Text({ silent: !0, style: a.setTextStyle({}, c, { x: d, y: f, text: o.getName(0), textAlign: 'center', textVerticalAlign: 'middle' }, { autoColor: v, forceRich: !0 }) })) } }, _renderDetail: function (e, t, i, n, r) { var o = e.getModel('detail'); var l = +e.get('min'); var c = +e.get('max'); if (o.get('show')) { var d = o.get('offsetCenter'); var f = r.cx + s(d[0], r.r); var p = r.cy + s(d[1], r.r); var g = s(o.get('width'), r.r); var m = s(o.get('height'), r.r); var v = e.getData(); var y = v.get(v.mapDimension('value'), 0); var x = n(u(y, [l, c], [0, 1], !0)); this.group.add(new a.Text({ silent: !0, style: a.setTextStyle({}, o, { x: f, y: p, text: h(y, o.get('formatter')), textWidth: isNaN(g) ? null : g, textHeight: isNaN(m) ? null : m, textAlign: 'center', textVerticalAlign: 'middle' }, { autoColor: x, forceRich: !0 }) })) } } }); var p = f; e.exports = p }, a7e2: function (e, t, i) { var n = i('3eba'); i('7293'), i('ae46'); var a = i('6582'); var r = i('ee98'); n.registerLayout(a), n.registerVisual(r) }, a7f2: function (e, t) { var i = [[[123.45165252685547, 25.73527164402261], [123.49731445312499, 25.73527164402261], [123.49731445312499, 25.750734064600884], [123.45165252685547, 25.750734064600884], [123.45165252685547, 25.73527164402261]]]; function n (e, t) { e === 'china' && t.name === '台湾' && t.geometries.push({ type: 'polygon', exterior: i[0] }) }e.exports = n }, a87d: function (e, t, i) { var n = i('22d1'); var a = i('401b'); var r = a.applyTransform; var o = i('9850'); var s = i('41ef'); var l = i('e86a'); var u = i('a73c'); var c = i('9e2e'); var h = i('19eb'); var d = i('0da8'); var f = i('76a5'); var p = i('cbe5'); var g = i('20c8'); var m = i('42e5'); var v = i('d3a4'); var y = g.CMD; var x = Math.round; var _ = Math.sqrt; var b = Math.abs; var w = Math.cos; var S = Math.sin; var M = Math.max; if (!n.canvasSupported) { var I = ','; var A = 'progid:DXImageTransform.Microsoft'; var T = 21600; var C = T / 2; var D = 1e5; var L = 1e3; var P = function (e) { e.style.cssText = 'position:absolute;left:0;top:0;width:1px;height:1px;', e.coordsize = T + ',' + T, e.coordorigin = '0,0' }; var k = function (e) { return String(e).replace(/&/g, '&amp;').replace(/"/g, '&quot;') }; var O = function (e, t, i) { return 'rgb(' + [e, t, i].join(',') + ')' }; var R = function (e, t) { t && e && t.parentNode !== e && e.appendChild(t) }; var E = function (e, t) { t && e && t.parentNode === e && e.removeChild(t) }; var N = function (e, t, i) { return (parseFloat(e) || 0) * D + (parseFloat(t) || 0) * L + i }; var z = u.parsePercent; var B = function (e, t, i) { var n = s.parse(t); i = +i, isNaN(i) && (i = 1), n && (e.color = O(n[0], n[1], n[2]), e.opacity = i * n[3]) }; var V = function (e) { var t = s.parse(e); return [O(t[0], t[1], t[2]), t[3]] }; var G = function (e, t, i) { var n = t.fill; if (n != null) if (n instanceof m) { var a; var o = 0; var s = [0, 0]; var l = 0; var u = 1; var c = i.getBoundingRect(); var h = c.width; var d = c.height; if (n.type === 'linear') { a = 'gradient'; var f = i.transform; var p = [n.x * h, n.y * d]; var g = [n.x2 * h, n.y2 * d]; f && (r(p, p, f), r(g, g, f)); var v = g[0] - p[0]; var y = g[1] - p[1]; o = 180 * Math.atan2(v, y) / Math.PI, o < 0 && (o += 360), o < 1e-6 && (o = 0) } else { a = 'gradientradial'; p = [n.x * h, n.y * d], f = i.transform; var x = i.scale; var _ = h; var b = d; s = [(p[0] - c.x) / _, (p[1] - c.y) / b], f && r(p, p, f), _ /= x[0] * T, b /= x[1] * T; var w = M(_, b); l = 0 / w, u = 2 * n.r / w - l } var S = n.colorStops.slice(); S.sort(function (e, t) { return e.offset - t.offset }); for (var I = S.length, A = [], C = [], D = 0; D < I; D++) { var L = S[D]; var P = V(L.color); C.push(L.offset * u + l + ' ' + P[0]), D !== 0 && D !== I - 1 || A.push(P) } if (I >= 2) { var k = A[0][0]; var O = A[1][0]; var R = A[0][1] * t.opacity; var E = A[1][1] * t.opacity; e.type = a, e.method = 'none', e.focus = '100%', e.angle = o, e.color = k, e.color2 = O, e.colors = C.join(','), e.opacity = E, e.opacity2 = R }a === 'radial' && (e.focusposition = s.join(',')) } else B(e, n, t.opacity) }; var F = function (e, t) { t.lineDash && (e.dashstyle = t.lineDash.join(' ')), t.stroke == null || t.stroke instanceof m || B(e, t.stroke, t.opacity) }; var H = function (e, t, i, n) { var a = t === 'fill'; var r = e.getElementsByTagName(t)[0]; i[t] != null && i[t] !== 'none' && (a || !a && i.lineWidth) ? (e[a ? 'filled' : 'stroked'] = 'true', i[t] instanceof m && E(e, r), r || (r = v.createNode(t)), a ? G(r, i, n) : F(r, i), R(e, r)) : (e[a ? 'filled' : 'stroked'] = 'false', E(e, r)) }; var W = [[], [], []]; var U = function (e, t) { var i; var n; var a; var o; var s; var l; var u = y.M; var c = y.C; var h = y.L; var d = y.A; var f = y.Q; var p = []; var g = e.data; var m = e.len(); for (o = 0; o < m;) { switch (a = g[o++], n = '', i = 0, a) { case u:n = ' m ', i = 1, s = g[o++], l = g[o++], W[0][0] = s, W[0][1] = l; break; case h:n = ' l ', i = 1, s = g[o++], l = g[o++], W[0][0] = s, W[0][1] = l; break; case f:case c:n = ' c ', i = 3; var v; var b; var M = g[o++]; var A = g[o++]; var D = g[o++]; var L = g[o++]; a === f ? (v = D, b = L, D = (D + 2 * M) / 3, L = (L + 2 * A) / 3, M = (s + 2 * M) / 3, A = (l + 2 * A) / 3) : (v = g[o++], b = g[o++]), W[0][0] = M, W[0][1] = A, W[1][0] = D, W[1][1] = L, W[2][0] = v, W[2][1] = b, s = v, l = b; break; case d:var P = 0; var k = 0; var O = 1; var R = 1; var E = 0; t && (P = t[4], k = t[5], O = _(t[0] * t[0] + t[1] * t[1]), R = _(t[2] * t[2] + t[3] * t[3]), E = Math.atan2(-t[1] / R, t[0] / O)); var N = g[o++]; var z = g[o++]; var B = g[o++]; var V = g[o++]; var G = g[o++] + E; var F = g[o++] + G + E; o++; var H = g[o++]; var U = N + w(G) * B; var Z = z + S(G) * V; var Y = (M = N + w(F) * B, A = z + S(F) * V, H ? ' wa ' : ' at '); Math.abs(U - M) < 1e-4 && (Math.abs(F - G) > 0.01 ? H && (U += 270 / T) : Math.abs(Z - z) < 1e-4 ? H && U < N || !H && U > N ? A -= 270 / T : A += 270 / T : H && Z < z || !H && Z > z ? M += 270 / T : M -= 270 / T), p.push(Y, x(((N - B) * O + P) * T - C), I, x(((z - V) * R + k) * T - C), I, x(((N + B) * O + P) * T - C), I, x(((z + V) * R + k) * T - C), I, x((U * O + P) * T - C), I, x((Z * R + k) * T - C), I, x((M * O + P) * T - C), I, x((A * R + k) * T - C)), s = M, l = A; break; case y.R:var j = W[0]; var X = W[1]; j[0] = g[o++], j[1] = g[o++], X[0] = j[0] + g[o++], X[1] = j[1] + g[o++], t && (r(j, j, t), r(X, X, t)), j[0] = x(j[0] * T - C), X[0] = x(X[0] * T - C), j[1] = x(j[1] * T - C), X[1] = x(X[1] * T - C), p.push(' m ', j[0], I, j[1], ' l ', X[0], I, j[1], ' l ', X[0], I, X[1], ' l ', j[0], I, X[1]); break; case y.Z:p.push(' x ') } if (i > 0) { p.push(n); for (var q = 0; q < i; q++) { var $ = W[q]; t && r($, $, t), p.push(x($[0] * T - C), I, x($[1] * T - C), q < i - 1 ? I : '') } } } return p.join('') }; p.prototype.brushVML = function (e) { var t = this.style; var i = this._vmlEl; i || (i = v.createNode('shape'), P(i), this._vmlEl = i), H(i, 'fill', t, this), H(i, 'stroke', t, this); var n = this.transform; var a = n != null; var r = i.getElementsByTagName('stroke')[0]; if (r) { var o = t.lineWidth; if (a && !t.strokeNoScale) { var s = n[0] * n[3] - n[1] * n[2]; o *= _(b(s)) }r.weight = o + 'px' } var l = this.path || (this.path = new g()); this.__dirtyPath && (l.beginPath(), l.subPixelOptimize = !1, this.buildPath(l, this.shape), l.toStatic(), this.__dirtyPath = !1), i.path = U(l, this.transform), i.style.zIndex = N(this.zlevel, this.z, this.z2), R(e, i), t.text != null ? this.drawRectText(e, this.getBoundingRect()) : this.removeRectText(e) }, p.prototype.onRemove = function (e) { E(e, this._vmlEl), this.removeRectText(e) }, p.prototype.onAdd = function (e) { R(e, this._vmlEl), this.appendRectText(e) }; var Z = function (e) { return typeof e === 'object' && e.tagName && e.tagName.toUpperCase() === 'IMG' }; d.prototype.brushVML = function (e) { var t; var i; var n = this.style; var a = n.image; if (Z(a)) { var o = a.src; if (o === this._imageSrc)t = this._imageWidth, i = this._imageHeight; else { var s = a.runtimeStyle; var l = s.width; var u = s.height; s.width = 'auto', s.height = 'auto', t = a.width, i = a.height, s.width = l, s.height = u, this._imageSrc = o, this._imageWidth = t, this._imageHeight = i }a = o } else a === this._imageSrc && (t = this._imageWidth, i = this._imageHeight); if (a) { var c = n.x || 0; var h = n.y || 0; var d = n.width; var f = n.height; var p = n.sWidth; var g = n.sHeight; var m = n.sx || 0; var y = n.sy || 0; var b = p && g; var w = this._vmlEl; w || (w = v.doc.createElement('div'), P(w), this._vmlEl = w); var S; var T = w.style; var C = !1; var D = 1; var L = 1; if (this.transform && (S = this.transform, D = _(S[0] * S[0] + S[1] * S[1]), L = _(S[2] * S[2] + S[3] * S[3]), C = S[1] || S[2]), C) { var k = [c, h]; var O = [c + d, h]; var E = [c, h + f]; var z = [c + d, h + f]; r(k, k, S), r(O, O, S), r(E, E, S), r(z, z, S); var B = M(k[0], O[0], E[0], z[0]); var V = M(k[1], O[1], E[1], z[1]); var G = []; G.push('M11=', S[0] / D, I, 'M12=', S[2] / L, I, 'M21=', S[1] / D, I, 'M22=', S[3] / L, I, 'Dx=', x(c * D + S[4]), I, 'Dy=', x(h * L + S[5])), T.padding = '0 ' + x(B) + 'px ' + x(V) + 'px 0', T.filter = A + '.Matrix(' + G.join('') + ', SizingMethod=clip)' } else S && (c = c * D + S[4], h = h * L + S[5]), T.filter = '', T.left = x(c) + 'px', T.top = x(h) + 'px'; var F = this._imageEl; var H = this._cropEl; F || (F = v.doc.createElement('div'), this._imageEl = F); var W = F.style; if (b) { if (t && i)W.width = x(D * t * d / p) + 'px', W.height = x(L * i * f / g) + 'px'; else { var U = new Image(); var Y = this; U.onload = function () { U.onload = null, t = U.width, i = U.height, W.width = x(D * t * d / p) + 'px', W.height = x(L * i * f / g) + 'px', Y._imageWidth = t, Y._imageHeight = i, Y._imageSrc = a }, U.src = a }H || (H = v.doc.createElement('div'), H.style.overflow = 'hidden', this._cropEl = H); var j = H.style; j.width = x((d + m * d / p) * D), j.height = x((f + y * f / g) * L), j.filter = A + '.Matrix(Dx=' + -m * d / p * D + ',Dy=' + -y * f / g * L + ')', H.parentNode || w.appendChild(H), F.parentNode !== H && H.appendChild(F) } else W.width = x(D * d) + 'px', W.height = x(L * f) + 'px', w.appendChild(F), H && H.parentNode && (w.removeChild(H), this._cropEl = null); var X = ''; var q = n.opacity; q < 1 && (X += '.Alpha(opacity=' + x(100 * q) + ') '), X += A + '.AlphaImageLoader(src=' + a + ', SizingMethod=scale)', W.filter = X, w.style.zIndex = N(this.zlevel, this.z, this.z2), R(e, w), n.text != null && this.drawRectText(e, this.getBoundingRect()) } }, d.prototype.onRemove = function (e) { E(e, this._vmlEl), this._vmlEl = null, this._cropEl = null, this._imageEl = null, this.removeRectText(e) }, d.prototype.onAdd = function (e) { R(e, this._vmlEl), this.appendRectText(e) }; var Y; var j = 'normal'; var X = {}; var q = 0; var $ = 100; var K = document.createElement('div'); var J = function (e) { var t = X[e]; if (!t) { q > $ && (q = 0, X = {}); var i; var n = K.style; try { n.font = e, i = n.fontFamily.split(',')[0] } catch (a) {}t = { style: n.fontStyle || j, variant: n.fontVariant || j, weight: n.fontWeight || j, size: 0 | parseFloat(n.fontSize || 12), family: i || 'Microsoft YaHei' }, X[e] = t, q++ } return t }; l.$override('measureText', function (e, t) { var i = v.doc; Y || (Y = i.createElement('div'), Y.style.cssText = 'position:absolute;top:-20000px;left:0;padding:0;margin:0;border:none;white-space:pre;', v.doc.body.appendChild(Y)); try { Y.style.font = t } catch (n) {} return Y.innerHTML = '', Y.appendChild(i.createTextNode(e)), { width: Y.offsetWidth } }); for (var Q = new o(), ee = function (e, t, i, n) { var a = this.style; this.__dirty && u.normalizeTextStyle(a, !0); var o = a.text; if (o != null && (o += ''), o) { if (a.rich) { var s = l.parseRichText(o, a); o = []; for (var c = 0; c < s.lines.length; c++) { for (var h = s.lines[c].tokens, d = [], f = 0; f < h.length; f++)d.push(h[f].text); o.push(d.join('')) }o = o.join('\n') } var p; var g; var m = a.textAlign; var y = a.textVerticalAlign; var _ = J(a.font); var b = _.style + ' ' + _.variant + ' ' + _.weight + ' ' + _.size + 'px "' + _.family + '"'; i = i || l.getBoundingRect(o, b, m, y, a.textPadding, a.textLineHeight); var w = this.transform; if (w && !n && (Q.copy(t), Q.applyTransform(w), t = Q), n)p = t.x, g = t.y; else { var S = a.textPosition; if (S instanceof Array)p = t.x + z(S[0], t.width), g = t.y + z(S[1], t.height), m = m || 'left'; else { var M = this.calculateTextPosition ? this.calculateTextPosition({}, a, t) : l.calculateTextPosition({}, a, t); p = M.x, g = M.y, m = m || M.textAlign, y = y || M.textVerticalAlign } }p = l.adjustTextX(p, i.width, m), g = l.adjustTextY(g, i.height, y), g += i.height / 2; var A; var T; var C; var D = v.createNode; var L = this._textVmlEl; L ? (C = L.firstChild, A = C.nextSibling, T = A.nextSibling) : (L = D('line'), A = D('path'), T = D('textpath'), C = D('skew'), T.style['v-text-align'] = 'left', P(L), A.textpathok = !0, T.on = !0, L.from = '0 0', L.to = '1000 0.05', R(L, C), R(L, A), R(L, T), this._textVmlEl = L); var O = [p, g]; var E = L.style; w && n ? (r(O, O, w), C.on = !0, C.matrix = w[0].toFixed(3) + I + w[2].toFixed(3) + I + w[1].toFixed(3) + I + w[3].toFixed(3) + ',0,0', C.offset = (x(O[0]) || 0) + ',' + (x(O[1]) || 0), C.origin = '0 0', E.left = '0px', E.top = '0px') : (C.on = !1, E.left = x(p) + 'px', E.top = x(g) + 'px'), T.string = k(o); try { T.style.font = b } catch (B) {}H(L, 'fill', { fill: a.textFill, opacity: a.opacity }, this), H(L, 'stroke', { stroke: a.textStroke, opacity: a.opacity, lineDash: a.lineDash || null }, this), L.style.zIndex = N(this.zlevel, this.z, this.z2), R(e, L) } }, te = function (e) { E(e, this._textVmlEl), this._textVmlEl = null }, ie = function (e) { R(e, this._textVmlEl) }, ne = [c, h, d, p, f], ae = 0; ae < ne.length; ae++) { var re = ne[ae].prototype; re.drawRectText = ee, re.removeRectText = te, re.appendRectText = ie }f.prototype.brushVML = function (e) { var t = this.style; t.text != null ? this.drawRectText(e, { x: t.x || 0, y: t.y || 0, width: 0, height: 0 }, this.getBoundingRect(), !0) : this.removeRectText(e) }, f.prototype.onRemove = function (e) { this.removeRectText(e) }, f.prototype.onAdd = function (e) { this.appendRectText(e) } } }, a890: function (e, t, i) { var n = i('0655'); var a = i('9850'); var r = i('2306'); var o = r.linePolygonIntersect; var s = { lineX: l(0), lineY: l(1), rect: { point: function (e, t, i) { return e && i.boundingRect.contain(e[0], e[1]) }, rect: function (e, t, i) { return e && i.boundingRect.intersect(e) } }, polygon: { point: function (e, t, i) { return e && i.boundingRect.contain(e[0], e[1]) && n.contain(i.range, e[0], e[1]) }, rect: function (e, t, i) { var r = i.range; if (!e || r.length <= 1) return !1; var s = e.x; var l = e.y; var u = e.width; var c = e.height; var h = r[0]; return !!(n.contain(r, s, l) || n.contain(r, s + u, l) || n.contain(r, s, l + c) || n.contain(r, s + u, l + c) || a.create(e).contain(h[0], h[1]) || o(s, l, s + u, l, r) || o(s, l, s, l + c, r) || o(s + u, l, s + u, l + c, r) || o(s, l + c, s + u, l + c, r)) || void 0 } } }; function l (e) { var t = ['x', 'y']; var i = ['width', 'height']; return { point: function (t, i, n) { if (t) { var a = n.range; var r = t[e]; return u(r, a) } }, rect: function (n, a, r) { if (n) { var o = r.range; var s = [n[t[e]], n[t[e]] + n[i[e]]]; return s[1] < s[0] && s.reverse(), u(s[0], o) || u(s[1], o) || u(o[0], s) || u(o[1], s) } } } } function u (e, t) { return t[0] <= e && e <= t[1] } var c = s; e.exports = c }, a8c6: function (e, t, i) { var n = i('2449'); var a = n.extend({ type: 'markPoint', defaultOption: { zlevel: 0, z: 5, symbol: 'pin', symbolSize: 50, tooltip: { trigger: 'item' }, label: { show: !0, position: 'inside' }, itemStyle: { borderWidth: 2 }, emphasis: { label: { show: !0 } } } }); e.exports = a }, a96b: function (e, t, i) { var n = i('3eba'); var a = n.extendComponentModel({ type: 'tooltip', dependencies: ['axisPointer'], defaultOption: { zlevel: 0, z: 60, show: !0, showContent: !0, trigger: 'item', triggerOn: 'mousemove|click', alwaysShowContent: !1, displayMode: 'single', renderMode: 'auto', confine: !1, showDelay: 0, hideDelay: 100, transitionDuration: 0.4, enterable: !1, backgroundColor: 'rgba(50,50,50,0.7)', borderColor: '#333', borderRadius: 4, borderWidth: 0, padding: 5, extraCssText: '', axisPointer: { type: 'line', axis: 'auto', animation: 'auto', animationDurationUpdate: 200, animationEasingUpdate: 'exponentialOut', crossStyle: { color: '#999', width: 1, type: 'dashed', textStyle: {} } }, textStyle: { color: '#fff', fontSize: 14 } } }); e.exports = a }, a991: function (e, t, i) { var n = i('6d8b'); var a = i('e86a'); var r = i('84ce'); var o = i('e0d3'); var s = o.makeInner; var l = s(); function u (e, t) { t = t || [0, 360], r.call(this, 'angle', e, t), this.type = 'category' }u.prototype = { constructor: u, pointToData: function (e, t) { return this.polar.pointToData(e, t)[this.dim === 'radius' ? 0 : 1] }, dataToAngle: r.prototype.dataToCoord, angleToData: r.prototype.coordToData, calculateCategoryInterval: function () { var e = this; var t = e.getLabelModel(); var i = e.scale; var n = i.getExtent(); var r = i.count(); if (n[1] - n[0] < 1) return 0; var o = n[0]; var s = e.dataToCoord(o + 1) - e.dataToCoord(o); var u = Math.abs(s); var c = a.getBoundingRect(o, t.getFont(), 'center', 'top'); var h = Math.max(c.height, 7); var d = h / u; isNaN(d) && (d = 1 / 0); var f = Math.max(0, Math.floor(d)); var p = l(e.model); var g = p.lastAutoInterval; var m = p.lastTickCount; return g != null && m != null && Math.abs(g - f) <= 1 && Math.abs(m - r) <= 1 && g > f ? f = g : (p.lastTickCount = r, p.lastAutoInterval = f), f } }, n.inherits(u, r); var c = u; e.exports = c }, aa01: function (e, t, i) { var n = i('6d8b'); var a = i('4f85'); var r = i('06c7'); var o = i('4319'); var s = i('55ac'); var l = s.wrapTreePathInfo; var u = a.extend({ type: 'series.sunburst', _viewRoot: null, getInitialData: function (e, t) { var i = { name: e.name, children: e.data }; c(i); var a = n.map(e.levels || [], function (e) { return new o(e, this, t) }, this); var s = r.createTree(i, this, l); function l (e) { e.wrapMethod('getItemModel', function (e, t) { var i = s.getNodeByDataIndex(t); var n = a[i.depth]; return n && (e.parentModel = n), e }) } return s.data }, optionUpdated: function () { this.resetViewRoot() }, getDataParams: function (e) { var t = a.prototype.getDataParams.apply(this, arguments); var i = this.getData().tree.getNodeByDataIndex(e); return t.treePathInfo = l(i, this), t }, defaultOption: { zlevel: 0, z: 2, center: ['50%', '50%'], radius: [0, '75%'], clockwise: !0, startAngle: 90, minAngle: 0, percentPrecision: 2, stillShowZeroSum: !0, highlightPolicy: 'descendant', nodeClick: 'rootToNode', renderLabelForZeroData: !1, label: { rotate: 'radial', show: !0, opacity: 1, align: 'center', position: 'inside', distance: 5, silent: !0 }, itemStyle: { borderWidth: 1, borderColor: 'white', borderType: 'solid', shadowBlur: 0, shadowColor: 'rgba(0, 0, 0, 0.2)', shadowOffsetX: 0, shadowOffsetY: 0, opacity: 1 }, highlight: { itemStyle: { opacity: 1 } }, downplay: { itemStyle: { opacity: 0.5 }, label: { opacity: 0.6 } }, animationType: 'expansion', animationDuration: 1e3, animationDurationUpdate: 500, animationEasing: 'cubicOut', data: [], levels: [], sort: 'desc' }, getViewRoot: function () { return this._viewRoot }, resetViewRoot: function (e) { e ? this._viewRoot = e : e = this._viewRoot; var t = this.getRawData().tree.root; e && (e === t || t.contains(e)) || (this._viewRoot = t) } }); function c (e) { var t = 0; n.each(e.children, function (e) { c(e); var i = e.value; n.isArray(i) && (i = i[0]), t += i }); var i = e.value; n.isArray(i) && (i = i[0]), (i == null || isNaN(i)) && (i = t), i < 0 && (i = 0), n.isArray(e.value) ? e.value[0] = i : e.value = i }e.exports = u }, aa3e: function (e, t, i) { var n = i('6d8b'); function a (e, t) { return t = t || [0, 0], n.map(['x', 'y'], function (i, n) { var a = this.getAxis(i); var r = t[n]; var o = e[n] / 2; return a.type === 'category' ? a.getBandWidth() : Math.abs(a.dataToCoord(r - o) - a.dataToCoord(r + o)) }, this) } function r (e) { var t = e.grid.getRect(); return { coordSys: { type: 'cartesian2d', x: t.x, y: t.y, width: t.width, height: t.height }, api: { coord: function (t) { return e.dataToPoint(t) }, size: n.bind(a, e) } } }e.exports = r }, aadf: function (e, t, i) { var n = i('3eba'); var a = i('6d8b'); i('5aa9'), i('d6d9'), i('3329'); var r = i('9d57'); var o = r.layout; var s = i('7f96'); i('01ed'), n.registerLayout(a.curry(o, 'pictorialBar')), n.registerVisual(s('pictorialBar', 'roundRect')) }, ab05: function (e, t, i) { var n = i('3eba'); var a = i('6d8b'); var r = i('2b8c'); var o = i('5f14'); var s = n.PRIORITY.VISUAL.COMPONENT; function l (e, t, i, n) { for (var a = t.targetVisuals[n], r = o.prepareVisualTypes(a), s = { color: e.getData().getVisual('color') }, l = 0, u = r.length; l < u; l++) { var c = r[l]; var h = a[c === 'opacity' ? '__alphaForOpacity' : c]; h && h.applyVisual(i, d, f) } return s.color; function d (e) { return s[e] } function f (e, t) { s[e] = t } }n.registerVisual(s, { createOnAllSeries: !0, reset: function (e, t) { var i = []; return t.eachComponent('visualMap', function (t) { var n = e.pipelineContext; !t.isTargetSeries(e) || n && n.large || i.push(r.incrementalApplyVisual(t.stateList, t.targetVisuals, a.bind(t.getValueState, t), t.getDataDimension(e.getData()))) }), i } }), n.registerVisual(s, { createOnAllSeries: !0, reset: function (e, t) { var i = e.getData(); var n = []; t.eachComponent('visualMap', function (t) { if (t.isTargetSeries(e)) { var r = t.getVisualMeta(a.bind(l, null, e, t)) || { stops: [], outerColors: [] }; var o = t.getDataDimension(i); var s = i.getDimensionInfo(o); s != null && (r.dimension = s.index, n.push(r)) } }), e.getData().setVisual('visualMeta', n) } }) }, ab71: function (e, t) { var i = ['lineStyle', 'normal', 'opacity']; var n = { seriesType: 'parallel', reset: function (e, t, n) { var a = e.getModel('itemStyle'); var r = e.getModel('lineStyle'); var o = t.get('color'); var s = r.get('color') || a.get('color') || o[e.seriesIndex % o.length]; var l = e.get('inactiveOpacity'); var u = e.get('activeOpacity'); var c = e.getModel('lineStyle').getLineStyle(); var h = e.coordinateSystem; var d = e.getData(); var f = { normal: c.opacity, active: u, inactive: l }; function p (e, t) { h.eachActiveState(t, function (e, n) { var a = f[e]; if (e === 'normal' && t.hasItemOption) { var r = t.getItemModel(n).get(i, !0); r != null && (a = r) }t.setItemVisual(n, 'opacity', a) }, e.start, e.end) } return d.setVisual('color', s), { progress: p } } }; e.exports = n }, abff: function (e, t, i) { var n = i('3eba'); var a = i('f706'); var r = i('c965'); var o = i('87c3'); n.extendChartView({ type: 'scatter', render: function (e, t, i) { var n = e.getData(); var a = this._updateSymbolDraw(n, e); a.updateData(n, { clipShape: this._getClipShape(e) }), this._finished = !0 }, incrementalPrepareRender: function (e, t, i) { var n = e.getData(); var a = this._updateSymbolDraw(n, e); a.incrementalPrepareUpdate(n), this._finished = !1 }, incrementalRender: function (e, t, i) { this._symbolDraw.incrementalUpdate(e, t.getData(), { clipShape: this._getClipShape(t) }), this._finished = e.end === t.getData().count() }, updateTransform: function (e, t, i) { var n = e.getData(); if (this.group.dirty(), !this._finished || n.count() > 1e4 || !this._symbolDraw.isPersistent()) return { update: !0 }; var a = o().reset(e); a.progress && a.progress({ start: 0, end: n.count() }, n), this._symbolDraw.updateLayout(n) }, _getClipShape: function (e) { var t = e.coordinateSystem; var i = t && t.getArea && t.getArea(); return e.get('clip', !0) ? i : null }, _updateSymbolDraw: function (e, t) { var i = this._symbolDraw; var n = t.pipelineContext; var o = n.large; return i && o === this._isLargeDraw || (i && i.remove(), i = this._symbolDraw = o ? new r() : new a(), this._isLargeDraw = o, this.group.removeAll()), this.group.add(i.group), i }, remove: function (e, t) { this._symbolDraw && this._symbolDraw.remove(!0), this._symbolDraw = null }, dispose: function () {} }) }, ac0f: function (e, t, i) { var n = i('cbe5'); var a = i('401b'); var r = i('4a3f'); var o = r.quadraticSubdivide; var s = r.cubicSubdivide; var l = r.quadraticAt; var u = r.cubicAt; var c = r.quadraticDerivativeAt; var h = r.cubicDerivativeAt; var d = []; function f (e, t, i) { var n = e.cpx2; var a = e.cpy2; return n === null || a === null ? [(i ? h : u)(e.x1, e.cpx1, e.cpx2, e.x2, t), (i ? h : u)(e.y1, e.cpy1, e.cpy2, e.y2, t)] : [(i ? c : l)(e.x1, e.cpx1, e.x2, t), (i ? c : l)(e.y1, e.cpy1, e.y2, t)] } var p = n.extend({ type: 'bezier-curve', shape: { x1: 0, y1: 0, x2: 0, y2: 0, cpx1: 0, cpy1: 0, percent: 1 }, style: { stroke: '#000', fill: null }, buildPath: function (e, t) { var i = t.x1; var n = t.y1; var a = t.x2; var r = t.y2; var l = t.cpx1; var u = t.cpy1; var c = t.cpx2; var h = t.cpy2; var f = t.percent; f !== 0 && (e.moveTo(i, n), c == null || h == null ? (f < 1 && (o(i, l, a, f, d), l = d[1], a = d[2], o(n, u, r, f, d), u = d[1], r = d[2]), e.quadraticCurveTo(l, u, a, r)) : (f < 1 && (s(i, l, c, a, f, d), l = d[1], c = d[2], a = d[3], s(n, u, h, r, f, d), u = d[1], h = d[2], r = d[3]), e.bezierCurveTo(l, u, c, h, a, r))) }, pointAt: function (e) { return f(this.shape, e, !1) }, tangentAt: function (e) { var t = f(this.shape, e, !0); return a.normalize(t, t) } }); e.exports = p }, ac1f: function (e, t, i) { 'use strict'; var n = i('23e7'); var a = i('9263'); n({ target: 'RegExp', proto: !0, forced: /./.exec !== a }, { exec: a }) }, ad6d: function (e, t, i) { 'use strict'; var n = i('825a'); e.exports = function () { var e = n(this); var t = ''; return e.global && (t += 'g'), e.ignoreCase && (t += 'i'), e.multiline && (t += 'm'), e.dotAll && (t += 's'), e.unicode && (t += 'u'), e.sticky && (t += 'y'), t } }, adda: function (e, t, i) { var n = i('94e4'); var a = n.circularLayout; function r (e) { e.eachSeriesByType('graph', function (e) { e.get('layout') === 'circular' && a(e, 'symbolSize') }) }e.exports = r }, adf4: function (e, t, i) { var n = i('4f85'); var a = i('b1d4'); var r = i('2f45'); var o = r.getDimensionTypeByAxis; var s = i('6179'); var l = i('6d8b'); var u = i('e0d3'); var c = u.groupData; var h = i('eda2'); var d = h.encodeHTML; var f = i('c4a3'); var p = 2; var g = n.extend({ type: 'series.themeRiver', dependencies: ['singleAxis'], nameMap: null, init: function (e) { g.superApply(this, 'init', arguments), this.legendVisualProvider = new f(l.bind(this.getData, this), l.bind(this.getRawData, this)) }, fixData: function (e) { var t = e.length; var i = {}; var n = c(e, function (e) { return i.hasOwnProperty(e[0]) || (i[e[0]] = -1), e[2] }); var a = []; n.buckets.each(function (e, t) { a.push({ name: t, dataList: e }) }); for (var r = a.length, o = 0; o < r; ++o) { for (var s = a[o].name, l = 0; l < a[o].dataList.length; ++l) { var u = a[o].dataList[l][0]; i[u] = o } for (var u in i)i.hasOwnProperty(u) && i[u] !== o && (i[u] = o, e[t] = [], e[t][0] = u, e[t][1] = 0, e[t][2] = s, t++) } return e }, getInitialData: function (e, t) { for (var i = t.queryComponents({ mainType: 'singleAxis', index: this.get('singleAxisIndex'), id: this.get('singleAxisId') })[0], n = i.get('type'), r = l.filter(e.data, function (e) { return void 0 !== e[2] }), u = this.fixData(r || []), c = [], h = this.nameMap = l.createHashMap(), d = 0, f = 0; f < u.length; ++f)c.push(u[f][p]), h.get(u[f][p]) || (h.set(u[f][p], d), d++); var g = a(u, { coordDimensions: ['single'], dimensionsDefine: [{ name: 'time', type: o(n) }, { name: 'value', type: 'float' }, { name: 'name', type: 'ordinal' }], encodeDefine: { single: 0, value: 1, itemName: 2 } }); var m = new s(g, this); return m.initData(u), m }, getLayerSeries: function () { for (var e = this.getData(), t = e.count(), i = [], n = 0; n < t; ++n)i[n] = n; var a = e.mapDimension('single'); var r = c(i, function (t) { return e.get('name', t) }); var o = []; return r.buckets.each(function (t, i) { t.sort(function (t, i) { return e.get(a, t) - e.get(a, i) }), o.push({ name: i, indices: t }) }), o }, getAxisTooltipData: function (e, t, i) { l.isArray(e) || (e = e ? [e] : []); for (var n, a = this.getData(), r = this.getLayerSeries(), o = [], s = r.length, u = 0; u < s; ++u) { for (var c = Number.MAX_VALUE, h = -1, d = r[u].indices.length, f = 0; f < d; ++f) { var p = a.get(e[0], r[u].indices[f]); var g = Math.abs(p - t); g <= c && (n = p, c = g, h = r[u].indices[f]) }o.push(h) } return { dataIndices: o, nestestValue: n } }, formatTooltip: function (e) { var t = this.getData(); var i = t.getName(e); var n = t.get(t.mapDimension('value'), e); return (isNaN(n) || n == null) && (n = '-'), d(i + ' : ' + n) }, defaultOption: { zlevel: 0, z: 2, coordinateSystem: 'singleAxis', boundaryGap: ['10%', '10%'], singleAxisIndex: 0, animationEasing: 'linear', label: { margin: 4, show: !0, position: 'left', color: '#000', fontSize: 11 }, emphasis: { label: { show: !0 } } } }); var m = g; e.exports = m }, ae46: function (e, t, i) { var n = i('4e08'); var a = (n.__DEV__, i('3eba')); var r = i('73ca'); var o = i('0fd3'); var s = i('7e5b'); var l = i('4527'); var u = i('6a4c'); var c = i('a38d'); var h = i('6582'); var d = i('b0af'); var f = d.createClipPath; var p = a.extendChartView({ type: 'lines', init: function () {}, render: function (e, t, i) { var n = e.getData(); var a = this._updateLineDraw(n, e); var r = e.get('zlevel'); var o = e.get('effect.trailLength'); var s = i.getZr(); var l = s.painter.getType() === 'svg'; l || s.painter.getLayer(r).clear(!0), this._lastZlevel == null || l || s.configLayer(this._lastZlevel, { motionBlur: !1 }), this._showEffect(e) && o && (l || s.configLayer(r, { motionBlur: !0, lastFrameAlpha: Math.max(Math.min(o / 10 + 0.9, 1), 0) })), a.updateData(n); var u = e.get('clip', !0) && f(e.coordinateSystem, !1, e); u ? this.group.setClipPath(u) : this.group.removeClipPath(), this._lastZlevel = r, this._finished = !0 }, incrementalPrepareRender: function (e, t, i) { var n = e.getData(); var a = this._updateLineDraw(n, e); a.incrementalPrepareUpdate(n), this._clearLayer(i), this._finished = !1 }, incrementalRender: function (e, t, i) { this._lineDraw.incrementalUpdate(e, t.getData()), this._finished = e.end === t.getData().count() }, updateTransform: function (e, t, i) { var n = e.getData(); var a = e.pipelineContext; if (!this._finished || a.large || a.progressiveRender) return { update: !0 }; var r = h.reset(e); r.progress && r.progress({ start: 0, end: n.count() }, n), this._lineDraw.updateLayout(), this._clearLayer(i) }, _updateLineDraw: function (e, t) { var i = this._lineDraw; var n = this._showEffect(t); var a = !!t.get('polyline'); var h = t.pipelineContext; var d = h.large; return i && n === this._hasEffet && a === this._isPolyline && d === this._isLargeDraw || (i && i.remove(), i = this._lineDraw = d ? new c() : new r(a ? n ? u : l : n ? o : s), this._hasEffet = n, this._isPolyline = a, this._isLargeDraw = d, this.group.removeAll()), this.group.add(i.group), i }, _showEffect: function (e) { return !!e.get('effect.show') }, _clearLayer: function (e) { var t = e.getZr(); var i = t.painter.getType() === 'svg'; i || this._lastZlevel == null || t.painter.getLayer(this._lastZlevel).clear(!0) }, remove: function (e, t) { this._lineDraw && this._lineDraw.remove(), this._lineDraw = null, this._clearLayer(t) }, dispose: function () {} }); e.exports = p }, ae69: function (e, t, i) { var n = i('cbe5'); var a = n.extend({ type: 'ellipse', shape: { cx: 0, cy: 0, rx: 0, ry: 0 }, buildPath: function (e, t) { var i = 0.5522848; var n = t.cx; var a = t.cy; var r = t.rx; var o = t.ry; var s = r * i; var l = o * i; e.moveTo(n - r, a), e.bezierCurveTo(n - r, a - l, n - s, a - o, n, a - o), e.bezierCurveTo(n + s, a - o, n + r, a - l, n + r, a), e.bezierCurveTo(n + r, a + l, n + s, a + o, n, a + o), e.bezierCurveTo(n - s, a + o, n - r, a + l, n - r, a), e.closePath() } }); e.exports = a }, ae75: function (e, t, i) { var n = i('6d8b'); var a = ['rect', 'polygon', 'keep', 'clear']; function r (e, t) { var i = e && e.brush; if (n.isArray(i) || (i = i ? [i] : []), i.length) { var r = []; n.each(i, function (e) { var t = e.hasOwnProperty('toolbox') ? e.toolbox : []; t instanceof Array && (r = r.concat(t)) }); var s = e && e.toolbox; n.isArray(s) && (s = s[0]), s || (s = { feature: {} }, e.toolbox = [s]); var l = s.feature || (s.feature = {}); var u = l.brush || (l.brush = {}); var c = u.type || (u.type = []); c.push.apply(c, r), o(c), t && !c.length && c.push.apply(c, a) } } function o (e) { var t = {}; n.each(e, function (e) { t[e] = 1 }), e.length = 0, n.each(t, function (t, i) { e.push(i) }) }e.exports = r }, af24: function (e, t, i) { i('48c7'), i('f273') }, afa0: function (e, t, i) { var n = i('6d8b'); var a = i('22d1'); var r = i('e1fc'); var o = i('04f6'); function s (e, t) { return e.zlevel === t.zlevel ? e.z === t.z ? e.z2 - t.z2 : e.z - t.z : e.zlevel - t.zlevel } var l = function () { this._roots = [], this._displayList = [], this._displayListLen = 0 }; l.prototype = { constructor: l, traverse: function (e, t) { for (var i = 0; i < this._roots.length; i++) this._roots[i].traverse(e, t) }, getDisplayList: function (e, t) { return t = t || !1, e && this.updateDisplayList(t), this._displayList }, updateDisplayList: function (e) { this._displayListLen = 0; for (var t = this._roots, i = this._displayList, n = 0, r = t.length; n < r; n++) this._updateAndAddDisplayable(t[n], null, e); i.length = this._displayListLen, a.canvasSupported && o(i, s) }, _updateAndAddDisplayable: function (e, t, i) { if (!e.ignore || i) { e.beforeUpdate(), e.__dirty && e.update(), e.afterUpdate(); var n = e.clipPath; if (n) { t = t ? t.slice() : []; var a = n; var r = e; while (a)a.parent = r, a.updateTransform(), t.push(a), r = a, a = a.clipPath } if (e.isGroup) { for (var o = e._children, s = 0; s < o.length; s++) { var l = o[s]; e.__dirty && (l.__dirty = !0), this._updateAndAddDisplayable(l, t, i) }e.__dirty = !1 } else e.__clipPaths = t, this._displayList[this._displayListLen++] = e } }, addRoot: function (e) { e.__storage !== this && (e instanceof r && e.addChildrenToStorage(this), this.addToStorage(e), this._roots.push(e)) }, delRoot: function (e) { if (e == null) { for (var t = 0; t < this._roots.length; t++) { var i = this._roots[t]; i instanceof r && i.delChildrenFromStorage(this) } return this._roots = [], this._displayList = [], void (this._displayListLen = 0) } if (e instanceof Array) { t = 0; for (var a = e.length; t < a; t++) this.delRoot(e[t]) } else { var o = n.indexOf(this._roots, e); o >= 0 && (this.delFromStorage(e), this._roots.splice(o, 1), e instanceof r && e.delChildrenFromStorage(this)) } }, addToStorage: function (e) { return e && (e.__storage = this, e.dirty(!1)), this }, delFromStorage: function (e) { return e && (e.__storage = null), this }, dispose: function () { this._renderList = this._roots = null }, displayableSortFunc: s }; var u = l; e.exports = u }, afcd: function (e, t, i) { 'use strict'; i.r(t); var n = function () { var e = this; var t = e.$createElement; var i = e._self._c || t; return i('div', [i('el-card', [i('div', { staticClass: 'clearfix', attrs: { slot: 'header' }, slot: 'header' }, [i('my-breadcrumb', [e._v('粉丝管理')])], 1), i('el-tabs', { attrs: { type: 'card' }, on: { 'tab-click': e.hTabChange }, model: { value: e.activeName, callback: function (t) { e.activeName = t }, expression: 'activeName' } }, [i('el-tab-pane', { attrs: { label: '列表', name: 'list' } }, [i('div', { staticClass: 'fans_list' }, e._l(e.fans, function (t) { return i('div', { key: t.id.toString(), staticClass: 'fans_item' }, [i('el-avatar', { attrs: { size: 80, src: t.photo } }), i('p', [e._v(e._s(t.name))]), i('el-button', { attrs: { type: 'primary', plain: '', size: 'small' } }, [e._v('+关注')])], 1) }), 0), i('el-pagination', { staticStyle: { 'margin-top': '1em' }, attrs: { background: '', 'page-size': e.per_page, layout: 'prev, pager, next', total: e.total_count }, on: { 'current-change': e.hPageChange } })], 1), i('el-tab-pane', { attrs: { label: '画像', name: 'echart' } }, [i('div', [e._v('画像-echarts')]), i('div', { staticStyle: { width: '600px', height: '400px' }, attrs: { id: 'main' } })])], 1)], 1)], 1) }; var a = []; var r = (i('d81d'), i('b0c0'), i('b64b'), i('07ac'), i('ac1f'), i('5319'), i('96cf'), i('1da1')); var o = i('313e'); var s = i.n(o); var l = { name: 'my-fans', data: function () { return { per_page: 30, page: 1, total_count: 0, activeName: 'list', fans: [] } }, created: function () { this.loadFans() }, methods: { buildData: function (e) { var t = Object.keys(e).map(function (e) { return e.replace('gt', '大于').replace('le', '小于') }); var i = Object.values(e); return { xAxis: t, data: i } }, draw: function () { var e = this; return Object(r.a)(regeneratorRuntime.mark(function t () { var i, n, a, r; return regeneratorRuntime.wrap(function (t) { while (1) switch (t.prev = t.next) { case 0:return i = s.a.init(document.getElementById('main')), t.next = 3, e.$http({ url: '/mp/v1_0/statistics/followers', method: 'GET' }); case 3:n = t.sent, console.log('获取粉丝统计数据，age', n.data.data.age), a = e.buildData(n.data.data.age), r = { tooltip: {}, legend: { data: ['人数'] }, xAxis: { data: a.xAxis }, yAxis: {}, series: [{ name: '人数', type: 'line', data: a.data }] }, i.setOption(r); case 8:case 'end':return t.stop() } }, t) }))() }, hTabChange: function (e) { e.name === 'echart' && this.draw() }, hPageChange: function (e) { this.page = e, this.loadFans() }, loadFans: function () { var e = this; return Object(r.a)(regeneratorRuntime.mark(function t () { var i; return regeneratorRuntime.wrap(function (t) { while (1) switch (t.prev = t.next) { case 0:return t.next = 2, e.$http({ url: '/mp/v1_0/followers', method: 'GET', params: { page: e.page, per_page: e.per_page } }); case 2:i = t.sent, console.log('获取粉丝列表数据', i), e.fans = i.data.data.results, e.total_count = i.data.data.total_count; case 6:case 'end':return t.stop() } }, t) }))() } } }; var u = l; var c = (i('722f5'), i('2877')); var h = Object(c.a)(u, n, a, !1, null, '5552ac58', null); t.default = h.exports }, b006: function (e, t, i) { var n = i('3eba'); var a = i('6d8b'); var r = i('fab2'); var o = i('fc82'); var s = i('f4a2'); var l = i('2306'); var u = ['axisLine', 'axisTickLabel', 'axisName']; var c = n.extendComponentView({ type: 'parallelAxis', init: function (e, t) { c.superApply(this, 'init', arguments), (this._brushController = new o(t.getZr())).on('brush', a.bind(this._onBrush, this)) }, render: function (e, t, i, n) { if (!h(e, t, n)) { this.axisModel = e, this.api = i, this.group.removeAll(); var o = this._axisGroup; if (this._axisGroup = new l.Group(), this.group.add(this._axisGroup), e.get('show')) { var s = f(e, t); var c = s.coordinateSystem; var d = e.getAreaSelectStyle(); var p = d.width; var g = e.axis.dim; var m = c.getAxisLayout(g); var v = a.extend({ strokeContainThreshold: p }, m); var y = new r(e, v); a.each(u, y.add, y), this._axisGroup.add(y.getGroup()), this._refreshBrushController(v, d, e, s, p, i); var x = n && !1 === n.animation ? null : e; l.groupTransition(o, this._axisGroup, x) } } }, _refreshBrushController: function (e, t, i, n, a, r) { var o = i.axis.getExtent(); var u = o[1] - o[0]; var c = Math.min(30, 0.1 * Math.abs(u)); var h = l.BoundingRect.create({ x: o[0], y: -a / 2, width: u, height: a }); h.x -= c, h.width += 2 * c, this._brushController.mount({ enableGlobalPan: !0, rotation: e.rotation, position: e.position }).setPanels([{ panelId: 'pl', clipPath: s.makeRectPanelClipPath(h), isTargetByCursor: s.makeRectIsTargetByCursor(h, r, n), getLinearBrushOtherExtent: s.makeLinearBrushOtherExtent(h, 0) }]).enableBrush({ brushType: 'lineX', brushStyle: t, removeOnClick: !0 }).updateCovers(d(i)) }, _onBrush: function (e, t) { var i = this.axisModel; var n = i.axis; var r = a.map(e, function (e) { return [n.coordToData(e.range[0], !0), n.coordToData(e.range[1], !0)] }); (!i.option.realtime === t.isEnd || t.removeOnClick) && this.api.dispatchAction({ type: 'axisAreaSelect', parallelAxisId: i.id, intervals: r }) }, dispose: function () { this._brushController.dispose() } }); function h (e, t, i) { return i && i.type === 'axisAreaSelect' && t.findComponents({ mainType: 'parallelAxis', query: i })[0] === e } function d (e) { var t = e.axis; return a.map(e.activeIntervals, function (e) { return { brushType: 'lineX', panelId: 'pl', range: [t.dataToCoord(e[0], !0), t.dataToCoord(e[1], !0)] } }) } function f (e, t) { return t.getComponent('parallel', e.get('parallelIndex')) } var p = c; e.exports = p }, b0af: function (e, t, i) { var n = i('2306'); var a = i('3842'); var r = a.round; function o (e, t, i) { var a = e.getArea(); var r = e.getBaseAxis().isHorizontal(); var o = a.x; var s = a.y; var l = a.width; var u = a.height; var c = i.get('lineStyle.width') || 2; o -= c / 2, s -= c / 2, l += c, u += c, o = Math.floor(o), l = Math.round(l); var h = new n.Rect({ shape: { x: o, y: s, width: l, height: u } }); return t && (h.shape[r ? 'width' : 'height'] = 0, n.initProps(h, { shape: { width: l, height: u } }, i)), h } function s (e, t, i) { var a = e.getArea(); var o = new n.Sector({ shape: { cx: r(e.cx, 1), cy: r(e.cy, 1), r0: r(a.r0, 1), r: r(a.r, 1), startAngle: a.startAngle, endAngle: a.endAngle, clockwise: a.clockwise } }); return t && (o.shape.endAngle = a.startAngle, n.initProps(o, { shape: { endAngle: a.endAngle } }, i)), o } function l (e, t, i) { return e ? e.type === 'polar' ? s(e, t, i) : e.type === 'cartesian2d' ? o(e, t, i) : null : null }t.createGridClipPath = o, t.createPolarClipPath = s, t.createClipPath = l }, b0c0: function (e, t, i) { var n = i('83ab'); var a = i('9bf2').f; var r = Function.prototype; var o = r.toString; var s = /^\s*function ([^ (]*)/; var l = 'name'; n && !(l in r) && a(r, l, { configurable: !0, get: function () { try { return o.call(this).match(s)[1] } catch (e) { return '' } } }) }, b11c: function (e, t, i) { i('8ec5'), i('db9e'), i('4e9f'), i('d3a0'), i('767c'), i('7c4d'), i('df70') }, b12f: function (e, t, i) { var n = i('e1fc'); var a = i('8918'); var r = i('625e'); var o = function () { this.group = new n(), this.uid = a.getUID('viewComponent') }; o.prototype = { constructor: o, init: function (e, t) {}, render: function (e, t, i, n) {}, dispose: function () {}, filterForExposedEvent: null }; var s = o.prototype; s.updateView = s.updateLayout = s.updateVisual = function (e, t, i, n) {}, r.enableClassExtend(o), r.enableClassManagement(o, { registerWhenExtend: !0 }); var l = o; e.exports = l }, b16f: function (e, t, i) { var n = i('4ab1'); var a = i('6d8b'); var r = i('4942'); var o = i('41ef'); function s (e, t) { n.call(this, e, t, ['linearGradient', 'radialGradient'], '__gradient_in_use__') }a.inherits(s, n), s.prototype.addWithoutUpdate = function (e, t) { if (t && t.style) { var i = this; a.each(['fill', 'stroke'], function (n) { if (t.style[n] && (t.style[n].type === 'linear' || t.style[n].type === 'radial')) { var a; var r = t.style[n]; var o = i.getDefs(!0); r._dom ? (a = r._dom, o.contains(r._dom) || i.addDom(a)) : a = i.add(r), i.markUsed(t); var s = a.getAttribute('id'); e.setAttribute(n, 'url(#' + s + ')') } }) } }, s.prototype.add = function (e) { var t; if (e.type === 'linear')t = this.createElement('linearGradient'); else { if (e.type !== 'radial') return r('Illegal gradient type.'), null; t = this.createElement('radialGradient') } return e.id = e.id || this.nextId++, t.setAttribute('id', 'zr' + this._zrId + '-gradient-' + e.id), this.updateDom(e, t), this.addDom(t), t }, s.prototype.update = function (e) { var t = this; n.prototype.update.call(this, e, function () { var i = e.type; var n = e._dom.tagName; i === 'linear' && n === 'linearGradient' || i === 'radial' && n === 'radialGradient' ? t.updateDom(e, e._dom) : (t.removeDom(e), t.add(e)) }) }, s.prototype.updateDom = function (e, t) { if (e.type === 'linear')t.setAttribute('x1', e.x), t.setAttribute('y1', e.y), t.setAttribute('x2', e.x2), t.setAttribute('y2', e.y2); else { if (e.type !== 'radial') return void r('Illegal gradient type.'); t.setAttribute('cx', e.x), t.setAttribute('cy', e.y), t.setAttribute('r', e.r) }e.global ? t.setAttribute('gradientUnits', 'userSpaceOnUse') : t.setAttribute('gradientUnits', 'objectBoundingBox'), t.innerHTML = ''; for (var i = e.colorStops, n = 0, a = i.length; n < a; ++n) { var s = this.createElement('stop'); s.setAttribute('offset', 100 * i[n].offset + '%'); var l = i[n].color; if (l.indexOf('rgba') > -1) { var u = o.parse(l)[3]; var c = o.toHex(l); s.setAttribute('stop-color', '#' + c), s.setAttribute('stop-opacity', u) } else s.setAttribute('stop-color', i[n].color); t.appendChild(s) }e._dom = t }, s.prototype.markUsed = function (e) { if (e.style) { var t = e.style.fill; t && t._dom && n.prototype.markUsed.call(this, t._dom), t = e.style.stroke, t && t._dom && n.prototype.markUsed.call(this, t._dom) } }; var l = s; e.exports = l }, b1d4: function (e, t, i) { var n = i('862d'); function a (e, t) { return t = t || {}, n(t.coordDimensions || [], e, { dimsDef: t.dimensionsDefine || e.dimensionsDefine, encodeDef: t.encodeDefine || e.encodeDefine, dimCount: t.dimensionsCount, encodeDefaulter: t.encodeDefaulter, generateCoord: t.generateCoord, generateCoordCount: t.generateCoordCount }) }e.exports = a }, b336: function (e, t, i) { var n = i('6d8b'); var a = n.each; function r (e) { var t = e && e.visualMap; n.isArray(t) || (t = t ? [t] : []), a(t, function (e) { if (e) { o(e, 'splitList') && !o(e, 'pieces') && (e.pieces = e.splitList, delete e.splitList); var t = e.pieces; t && n.isArray(t) && a(t, function (e) { n.isObject(e) && (o(e, 'start') && !o(e, 'min') && (e.min = e.start), o(e, 'end') && !o(e, 'max') && (e.max = e.end)) }) } }) } function o (e, t) { return e && e.hasOwnProperty && e.hasOwnProperty(t) }e.exports = r }, b369: function (e, t, i) { var n = i('3eba'); var a = i('6d8b'); var r = i('2306'); var o = i('80f0'); var s = i('55ac'); var l = i('f610'); var u = i('4a01'); var c = i('9850'); var h = i('1687'); var d = i('e6cd'); var f = i('282b'); var p = i('eda2'); var g = p.windowOpen; var m = a.bind; var v = r.Group; var y = r.Rect; var x = a.each; var _ = 3; var b = ['label']; var w = ['emphasis', 'label']; var S = ['upperLabel']; var M = ['emphasis', 'upperLabel']; var I = 10; var A = 1; var T = 2; var C = f([['fill', 'color'], ['stroke', 'strokeColor'], ['lineWidth', 'strokeWidth'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor']]); var D = function (e) { var t = C(e); return t.stroke = t.fill = t.lineWidth = null, t }; var L = n.extendChartView({ type: 'treemap', init: function (e, t) { this._containerGroup, this._storage = P(), this._oldTree, this._breadcrumb, this._controller, this._state = 'ready' }, render: function (e, t, i, n) { var r = t.findComponents({ mainType: 'series', subType: 'treemap', query: n }); if (!(a.indexOf(r, e) < 0)) { this.seriesModel = e, this.api = i, this.ecModel = t; var o = ['treemapZoomToNode', 'treemapRootToNode']; var l = s.retrieveTargetInfo(n, o, e); var u = n && n.type; var c = e.layoutInfo; var h = !this._oldTree; var d = this._storage; var f = u === 'treemapRootToNode' && l && d ? { rootNodeGroup: d.nodeGroup[l.node.getRawIndex()], direction: n.direction } : null; var p = this._giveContainerGroup(c); var g = this._doRender(p, e, f); h || u && u !== 'treemapZoomToNode' && u !== 'treemapRootToNode' ? g.renderFinally() : this._doAnimation(p, g, e, f), this._resetController(i), this._renderBreadcrumb(e, i, l) } }, _giveContainerGroup: function (e) { var t = this._containerGroup; return t || (t = this._containerGroup = new v(), this._initEvents(t), this.group.add(t)), t.attr('position', [e.x, e.y]), t }, _doRender: function (e, t, i) { var n = t.getData().tree; var r = this._oldTree; var s = P(); var l = P(); var u = this._storage; var c = []; var h = a.curry(k, t, l, u, i, s, c); f(n.root ? [n.root] : [], r && r.root ? [r.root] : [], e, n === r || !r, 0); var d = p(u); return this._oldTree = n, this._storage = l, { lastsForAnimation: s, willDeleteEls: d, renderFinally: g }; function f (e, t, i, n, r) { function s (e) { return e.getId() } function l (a, o) { var s = a != null ? e[a] : null; var l = o != null ? t[o] : null; var u = h(s, l, i, r); u && f(s && s.viewChildren || [], l && l.viewChildren || [], u, n, r + 1) }n ? (t = e, x(e, function (e, t) { !e.isRemoved() && l(t, t) })) : new o(t, e, s, s).add(l).update(l).remove(a.curry(l, null)).execute() } function p (e) { var t = P(); return e && x(e, function (e, i) { var n = t[i]; x(e, function (e) { e && (n.push(e), e.__tmWillDelete = 1) }) }), t } function g () { x(d, function (e) { x(e, function (e) { e.parent && e.parent.remove(e) }) }), x(c, function (e) { e.invisible = !0, e.dirty() }) } }, _doAnimation: function (e, t, i, n) { if (i.get('animation')) { var r = i.get('animationDurationUpdate'); var o = i.get('animationEasing'); var s = d.createWrap(); x(t.willDeleteEls, function (e, t) { x(e, function (e, i) { if (!e.invisible) { var a; var l = e.parent; if (n && n.direction === 'drillDown')a = l === n.rootNodeGroup ? { shape: { x: 0, y: 0, width: l.__tmNodeWidth, height: l.__tmNodeHeight }, style: { opacity: 0 } } : { style: { opacity: 0 } }; else { var u = 0; var c = 0; l.__tmWillDelete || (u = l.__tmNodeWidth / 2, c = l.__tmNodeHeight / 2), a = t === 'nodeGroup' ? { position: [u, c], style: { opacity: 0 } } : { shape: { x: u, y: c, width: 0, height: 0 }, style: { opacity: 0 } } }a && s.add(e, a, r, o) } }) }), x(this._storage, function (e, i) { x(e, function (e, n) { var l = t.lastsForAnimation[i][n]; var u = {}; l && (i === 'nodeGroup' ? l.old && (u.position = e.position.slice(), e.attr('position', l.old)) : (l.old && (u.shape = a.extend({}, e.shape), e.setShape(l.old)), l.fadein ? (e.setStyle('opacity', 0), u.style = { opacity: 1 }) : e.style.opacity !== 1 && (u.style = { opacity: 1 })), s.add(e, u, r, o)) }) }, this), this._state = 'animating', s.done(m(function () { this._state = 'ready', t.renderFinally() }, this)).start() } }, _resetController: function (e) { var t = this._controller; t || (t = this._controller = new u(e.getZr()), t.enable(this.seriesModel.get('roam')), t.on('pan', m(this._onPan, this)), t.on('zoom', m(this._onZoom, this))); var i = new c(0, 0, e.getWidth(), e.getHeight()); t.setPointerChecker(function (e, t, n) { return i.contain(t, n) }) }, _clearController: function () { var e = this._controller; e && (e.dispose(), e = null) }, _onPan: function (e) { if (this._state !== 'animating' && (Math.abs(e.dx) > _ || Math.abs(e.dy) > _)) { var t = this.seriesModel.getData().tree.root; if (!t) return; var i = t.getLayout(); if (!i) return; this.api.dispatchAction({ type: 'treemapMove', from: this.uid, seriesId: this.seriesModel.id, rootRect: { x: i.x + e.dx, y: i.y + e.dy, width: i.width, height: i.height } }) } }, _onZoom: function (e) { var t = e.originX; var i = e.originY; if (this._state !== 'animating') { var n = this.seriesModel.getData().tree.root; if (!n) return; var a = n.getLayout(); if (!a) return; var r = new c(a.x, a.y, a.width, a.height); var o = this.seriesModel.layoutInfo; t -= o.x, i -= o.y; var s = h.create(); h.translate(s, s, [-t, -i]), h.scale(s, s, [e.scale, e.scale]), h.translate(s, s, [t, i]), r.applyTransform(s), this.api.dispatchAction({ type: 'treemapRender', from: this.uid, seriesId: this.seriesModel.id, rootRect: { x: r.x, y: r.y, width: r.width, height: r.height } }) } }, _initEvents: function (e) { e.on('click', function (e) { if (this._state === 'ready') { var t = this.seriesModel.get('nodeClick', !0); if (t) { var i = this.findTarget(e.offsetX, e.offsetY); if (i) { var n = i.node; if (n.getLayout().isLeafRoot) this._rootToNode(i); else if (t === 'zoomToNode') this._zoomToNode(i); else if (t === 'link') { var a = n.hostTree.data.getItemModel(n.dataIndex); var r = a.get('link', !0); var o = a.get('target', !0) || 'blank'; r && g(r, o) } } } } }, this) }, _renderBreadcrumb: function (e, t, i) { function n (t) { this._state !== 'animating' && (s.aboveViewRoot(e.getViewRoot(), t) ? this._rootToNode({ node: t }) : this._zoomToNode({ node: t })) }i || (i = e.get('leafDepth', !0) != null ? { node: e.getViewRoot() } : this.findTarget(t.getWidth() / 2, t.getHeight() / 2), i || (i = { node: e.getData().tree.root })), (this._breadcrumb || (this._breadcrumb = new l(this.group))).render(e, t, i.node, m(n, this)) }, remove: function () { this._clearController(), this._containerGroup && this._containerGroup.removeAll(), this._storage = P(), this._state = 'ready', this._breadcrumb && this._breadcrumb.remove() }, dispose: function () { this._clearController() }, _zoomToNode: function (e) { this.api.dispatchAction({ type: 'treemapZoomToNode', from: this.uid, seriesId: this.seriesModel.id, targetNode: e.node }) }, _rootToNode: function (e) { this.api.dispatchAction({ type: 'treemapRootToNode', from: this.uid, seriesId: this.seriesModel.id, targetNode: e.node }) }, findTarget: function (e, t) { var i; var n = this.seriesModel.getViewRoot(); return n.eachNode({ attr: 'viewChildren', order: 'preorder' }, function (n) { var a = this._storage.background[n.getRawIndex()]; if (a) { var r = a.transformCoordToLocal(e, t); var o = a.shape; if (!(o.x <= r[0] && r[0] <= o.x + o.width && o.y <= r[1] && r[1] <= o.y + o.height)) return !1; i = { node: n, offsetX: r[0], offsetY: r[1] } } }, this), i } }); function P () { return { nodeGroup: [], background: [], content: [] } } function k (e, t, i, n, o, s, l, u, c, h) { if (l) { var d = l.getLayout(); var f = e.getData(); if (f.setItemGraphicEl(l.dataIndex, null), d && d.isInView) { var p = d.width; var g = d.height; var m = d.borderWidth; var x = d.invisible; var _ = l.getRawIndex(); var I = u && u.getRawIndex(); var L = l.viewChildren; var P = d.upperHeight; var k = L && L.length; var R = l.getModel('itemStyle'); var E = l.getModel('emphasis.itemStyle'); var N = Z('nodeGroup', v); if (N) { if (c.add(N), N.attr('position', [d.x || 0, d.y || 0]), N.__tmNodeWidth = p, N.__tmNodeHeight = g, d.isAboveViewRoot) return N; var z = l.getModel(); var B = Z('background', y, h, A); if (B && G(N, B, k && d.upperLabelHeight), k)r.isHighDownDispatcher(N) && r.setAsHighDownDispatcher(N, !1), B && (r.setAsHighDownDispatcher(B, !0), f.setItemGraphicEl(l.dataIndex, B)); else { var V = Z('content', y, h, T); V && F(N, V), B && r.isHighDownDispatcher(B) && r.setAsHighDownDispatcher(B, !1), r.setAsHighDownDispatcher(N, !0), f.setItemGraphicEl(l.dataIndex, N) } return N } } } function G (t, i, n) { if (i.dataIndex = l.dataIndex, i.seriesIndex = e.seriesIndex, i.setShape({ x: 0, y: 0, width: p, height: g }), x)H(i); else { i.invisible = !1; var a = l.getVisual('borderColor', !0); var o = E.get('borderColor'); var s = D(R); s.fill = a; var u = C(E); if (u.fill = o, n) { var c = p - 2 * m; W(s, u, a, c, P, { x: m, y: 0, width: c, height: P }) } else s.text = u.text = null; i.setStyle(s), r.setElementHoverStyle(i, u) }t.add(i) } function F (t, i) { i.dataIndex = l.dataIndex, i.seriesIndex = e.seriesIndex; var n = Math.max(p - 2 * m, 0); var a = Math.max(g - 2 * m, 0); if (i.culling = !0, i.setShape({ x: m, y: m, width: n, height: a }), x)H(i); else { i.invisible = !1; var o = l.getVisual('color', !0); var s = D(R); s.fill = o; var u = C(E); W(s, u, o, n, a), i.setStyle(s), r.setElementHoverStyle(i, u) }t.add(i) } function H (e) { !e.invisible && s.push(e) } function W (t, i, n, o, s, u) { var c = z.get('name'); var h = z.getModel(u ? S : b); var f = z.getModel(u ? M : w); var p = h.getShallow('show'); r.setLabelStyle(t, i, h, f, { defaultText: p ? c : null, autoColor: n, isRectText: !0, labelFetcher: e, labelDataIndex: l.dataIndex, labelProp: u ? 'upperLabel' : 'label' }), U(t, u, d), U(i, u, d), u && (t.textRect = a.clone(u)), t.truncate = p && h.get('ellipsis') ? { outerWidth: o, outerHeight: s, minChar: 2 } : null } function U (t, i, n) { var a = t.text; if (!i && n.isLeafRoot && a != null) { var r = e.get('drillDownIcon', !0); t.text = r ? r + ' ' + a : a } } function Z (e, n, a, r) { var s = I != null && i[e][I]; var l = o[e]; return s ? (i[e][I] = null, Y(l, s, e)) : x || (s = new n({ z: O(a, r) }), s.__tmDepth = a, s.__tmStorageName = e, j(l, s, e)), t[e][_] = s } function Y (e, t, i) { var n = e[_] = {}; n.old = i === 'nodeGroup' ? t.position.slice() : a.extend({}, t.shape) } function j (e, t, i) { var a = e[_] = {}; var r = l.parentNode; if (r && (!n || n.direction === 'drillDown')) { var s = 0; var u = 0; var c = o.background[r.getRawIndex()]; !n && c && c.old && (s = c.old.width, u = c.old.height), a.old = i === 'nodeGroup' ? [0, u] : { x: s, y: u, width: 0, height: 0 } }a.fadein = i !== 'nodeGroup' } } function O (e, t) { var i = e * I + t; return (i - 1) / i }e.exports = L }, b419: function (e, t, i) { var n = i('6d8b'); var a = i('2306'); var r = i('4319'); var o = i('6679'); var s = i('fab2'); var l = ['axisLine', 'axisLabel', 'axisTick', 'minorTick', 'splitLine', 'minorSplitLine', 'splitArea']; function u (e, t, i) { t[1] > t[0] && (t = t.slice().reverse()); var n = e.coordToPoint([t[0], i]); var a = e.coordToPoint([t[1], i]); return { x1: n[0], y1: n[1], x2: a[0], y2: a[1] } } function c (e) { var t = e.getRadiusAxis(); return t.inverse ? 0 : 1 } function h (e) { var t = e[0]; var i = e[e.length - 1]; t && i && Math.abs(Math.abs(t.coord - i.coord) - 360) < 1e-4 && e.pop() } var d = o.extend({ type: 'angleAxis', axisPointerClass: 'PolarAxisPointer', render: function (e, t) { if (this.group.removeAll(), e.get('show')) { var i = e.axis; var a = i.polar; var r = a.getRadiusAxis().getExtent(); var o = i.getTicksCoords(); var s = i.getMinorTicksCoords(); var u = n.map(i.getViewLabels(), function (e) { e = n.clone(e); return e.coord = i.dataToCoord(e.tickValue), e }); h(u), h(o), n.each(l, function (t) { !e.get(t + '.show') || i.scale.isBlank() && t !== 'axisLine' || this['_' + t](e, a, o, s, r, u) }, this) } }, _axisLine: function (e, t, i, n, r) { var o; var s = e.getModel('axisLine.lineStyle'); var l = c(t); var u = l ? 0 : 1; o = r[u] === 0 ? new a.Circle({ shape: { cx: t.cx, cy: t.cy, r: r[l] }, style: s.getLineStyle(), z2: 1, silent: !0 }) : new a.Ring({ shape: { cx: t.cx, cy: t.cy, r: r[l], r0: r[u] }, style: s.getLineStyle(), z2: 1, silent: !0 }), o.style.fill = null, this.group.add(o) }, _axisTick: function (e, t, i, r, o) { var s = e.getModel('axisTick'); var l = (s.get('inside') ? -1 : 1) * s.get('length'); var h = o[c(t)]; var d = n.map(i, function (e) { return new a.Line({ shape: u(t, [h, h + l], e.coord) }) }); this.group.add(a.mergePath(d, { style: n.defaults(s.getModel('lineStyle').getLineStyle(), { stroke: e.get('axisLine.lineStyle.color') }) })) }, _minorTick: function (e, t, i, r, o) { if (r.length) { for (var s = e.getModel('axisTick'), l = e.getModel('minorTick'), h = (s.get('inside') ? -1 : 1) * l.get('length'), d = o[c(t)], f = [], p = 0; p < r.length; p++) for (var g = 0; g < r[p].length; g++)f.push(new a.Line({ shape: u(t, [d, d + h], r[p][g].coord) })); this.group.add(a.mergePath(f, { style: n.defaults(l.getModel('lineStyle').getLineStyle(), n.defaults(s.getLineStyle(), { stroke: e.get('axisLine.lineStyle.color') })) })) } }, _axisLabel: function (e, t, i, o, l, u) { var h = e.getCategories(!0); var d = e.getModel('axisLabel'); var f = d.get('margin'); var p = e.get('triggerEvent'); n.each(u, function (i, n) { var o = d; var u = i.tickValue; var g = l[c(t)]; var m = t.coordToPoint([g + f, i.coord]); var v = t.cx; var y = t.cy; var x = Math.abs(m[0] - v) / g < 0.3 ? 'center' : m[0] > v ? 'left' : 'right'; var _ = Math.abs(m[1] - y) / g < 0.3 ? 'middle' : m[1] > y ? 'top' : 'bottom'; h && h[u] && h[u].textStyle && (o = new r(h[u].textStyle, d, d.ecModel)); var b = new a.Text({ silent: s.isLabelSilent(e) }); this.group.add(b), a.setTextStyle(b.style, o, { x: m[0], y: m[1], textFill: o.getTextColor() || e.get('axisLine.lineStyle.color'), text: i.formattedLabel, textAlign: x, textVerticalAlign: _ }), p && (b.eventData = s.makeAxisEventDataBase(e), b.eventData.targetType = 'axisLabel', b.eventData.value = i.rawLabel) }, this) }, _splitLine: function (e, t, i, r, o) { var s = e.getModel('splitLine'); var l = s.getModel('lineStyle'); var c = l.get('color'); var h = 0; c = c instanceof Array ? c : [c]; for (var d = [], f = 0; f < i.length; f++) { var p = h++ % c.length; d[p] = d[p] || [], d[p].push(new a.Line({ shape: u(t, o, i[f].coord) })) } for (f = 0; f < d.length; f++) this.group.add(a.mergePath(d[f], { style: n.defaults({ stroke: c[f % c.length] }, l.getLineStyle()), silent: !0, z: e.get('z') })) }, _minorSplitLine: function (e, t, i, n, r) { if (n.length) { for (var o = e.getModel('minorSplitLine'), s = o.getModel('lineStyle'), l = [], c = 0; c < n.length; c++) for (var h = 0; h < n[c].length; h++)l.push(new a.Line({ shape: u(t, r, n[c][h].coord) })); this.group.add(a.mergePath(l, { style: s.getLineStyle(), silent: !0, z: e.get('z') })) } }, _splitArea: function (e, t, i, r, o) { if (i.length) { var s = e.getModel('splitArea'); var l = s.getModel('areaStyle'); var u = l.get('color'); var c = 0; u = u instanceof Array ? u : [u]; for (var h = [], d = Math.PI / 180, f = -i[0].coord * d, p = Math.min(o[0], o[1]), g = Math.max(o[0], o[1]), m = e.get('clockwise'), v = 1; v < i.length; v++) { var y = c++ % u.length; h[y] = h[y] || [], h[y].push(new a.Sector({ shape: { cx: t.cx, cy: t.cy, r0: p, r: g, startAngle: f, endAngle: -i[v].coord * d, clockwise: m }, silent: !0 })), f = -i[v].coord * d } for (v = 0; v < h.length; v++) this.group.add(a.mergePath(h[v], { style: n.defaults({ fill: u[v % u.length] }, l.getAreaStyle()), silent: !0 })) } } }); e.exports = d }, b5c7: function (e, t, i) { var n = i('282b'); var a = n([['fill', 'color'], ['stroke', 'borderColor'], ['lineWidth', 'borderWidth'], ['stroke', 'barBorderColor'], ['lineWidth', 'barBorderWidth'], ['opacity'], ['shadowBlur'], ['shadowOffsetX'], ['shadowOffsetY'], ['shadowColor']]); var r = { getBarItemStyle: function (e) { var t = a(this, e); if (this.getBorderLineDash) { var i = this.getBorderLineDash(); i && (t.lineDash = i) } return t } }; e.exports = r }, b64b: function (e, t, i) { var n = i('23e7'); var a = i('7b0b'); var r = i('df75'); var o = i('d039'); var s = o(function () { r(1) }); n({ target: 'Object', stat: !0, forced: s }, { keys: function (e) { return r(a(e)) } }) }, b719: function (e, t, i) { var n = i('697e7'); t.zrender = n; var a = i('1687'); t.matrix = a; var r = i('401b'); t.vector = r; var o = i('6d8b'); var s = i('41ef'); t.color = s; var l = i('2306'); var u = i('3842'); t.number = u; var c = i('eda2'); t.format = c; var h = i('88b3'); h.throttle; t.throttle = h.throttle; var d = i('1548'); t.helper = d; var f = i('bda7'); t.parseGeoJSON = f; var p = i('6179'); t.List = p; var g = i('4319'); t.Model = g; var m = i('84ce'); t.Axis = m; var v = i('22d1'); t.env = v; var y = f; var x = {}; o.each(['map', 'each', 'filter', 'indexOf', 'inherits', 'reduce', 'filter', 'bind', 'curry', 'isArray', 'isString', 'isObject', 'isFunction', 'extend', 'defaults', 'clone', 'merge'], function (e) { x[e] = o[e] }); var _ = {}; o.each(['extendShape', 'extendPath', 'makePath', 'makeImage', 'mergePath', 'resizePath', 'createIcon', 'setHoverStyle', 'setLabelStyle', 'setTextStyle', 'setText', 'getFont', 'updateProps', 'initProps', 'getTransform', 'clipPointsByRect', 'clipRectByRect', 'registerShape', 'getShapeClass', 'Group', 'Image', 'Text', 'Circle', 'Sector', 'Ring', 'Polygon', 'Polyline', 'Rect', 'Line', 'BezierCurve', 'Arc', 'IncrementalDisplayable', 'CompoundPath', 'LinearGradient', 'RadialGradient', 'BoundingRect'], function (e) { _[e] = l[e] }), t.parseGeoJson = y, t.util = x, t.graphic = _ }, b727: function (e, t, i) { var n = i('0366'); var a = i('44ad'); var r = i('7b0b'); var o = i('50c4'); var s = i('65f0'); var l = [].push; var u = function (e) { var t = e == 1; var i = e == 2; var u = e == 3; var c = e == 4; var h = e == 6; var d = e == 5 || h; return function (f, p, g, m) { for (var v, y, x = r(f), _ = a(x), b = n(p, g, 3), w = o(_.length), S = 0, M = m || s, I = t ? M(f, w) : i ? M(f, 0) : void 0; w > S; S++) if ((d || S in _) && (v = _[S], y = b(v, S, x), e)) if (t)I[S] = y; else if (y) switch (e) { case 3:return !0; case 5:return v; case 6:return S; case 2:l.call(I, v) } else if (c) return !1; return h ? -1 : u || c ? c : I } }; e.exports = { forEach: u(0), map: u(1), filter: u(2), some: u(3), every: u(4), find: u(5), findIndex: u(6) } }, b809: function (e, t, i) { var n = i('6d8b'); var a = i('29a8'); var r = i('2b17'); var o = r.retrieveRawValue; function s (e, t) { var i = t.getModel('aria'); if (i.get('show')) if (i.get('description'))e.setAttribute('aria-label', i.get('description')); else { var r = 0; t.eachSeries(function (e, t) { ++r }, this); var s; var l = i.get('data.maxCount') || 10; var u = i.get('series.maxCount') || 10; var c = Math.min(r, u); if (!(r < 1)) { var h = m(); s = h ? p(g('general.withTitle'), { title: h }) : g('general.withoutTitle'); var d = []; var f = r > 1 ? 'series.multiple.prefix' : 'series.single.prefix'; s += p(g(f), { seriesCount: r }), t.eachSeries(function (e, t) { if (t < c) { var i; var n = e.get('name'); var a = 'series.' + (r > 1 ? 'multiple' : 'single') + '.'; i = g(n ? a + 'withName' : a + 'withoutName'), i = p(i, { seriesId: e.seriesIndex, seriesName: e.get('name'), seriesType: v(e.subType) }); var s = e.getData(); window.data = s, s.count() > l ? i += p(g('data.partialData'), { displayCnt: l }) : i += g('data.allData'); for (var u = [], h = 0; h < s.count(); h++) if (h < l) { var f = s.getName(h); var m = o(s, h); u.push(p(g(f ? 'data.withName' : 'data.withoutName'), { name: f, value: m })) }i += u.join(g('data.separator.middle')) + g('data.separator.end'), d.push(i) } }), s += d.join(g('series.multiple.separator.middle')) + g('series.multiple.separator.end'), e.setAttribute('aria-label', s) } } function p (e, t) { if (typeof e !== 'string') return e; var i = e; return n.each(t, function (e, t) { i = i.replace(new RegExp('\\{\\s*' + t + '\\s*\\}', 'g'), e) }), i } function g (e) { var t = i.get(e); if (t == null) { for (var n = e.split('.'), r = a.aria, o = 0; o < n.length; ++o)r = r[n[o]]; return r } return t } function m () { var e = t.getModel('title').option; return e && e.length && (e = e[0]), e && e.text } function v (e) { return a.series.typeNames[e] || '自定义图' } }e.exports = s }, b8ec: function (e, t, i) { var n = i('3eba'); n.registerAction({ type: 'brush', event: 'brush' }, function (e, t) { t.eachComponent({ mainType: 'brush', query: e }, function (t) { t.setAreas(e.areas) }) }), n.registerAction({ type: 'brushSelect', event: 'brushSelected', update: 'none' }, function () {}), n.registerAction({ type: 'brushEnd', event: 'brushEnd', update: 'none' }, function () {}) }, bb70: function (e, t, i) { var n = i('e86a'); var a = i('3842'); var r = a.parsePercent; var o = Math.PI / 180; function s (e, t, i, n, a, r, o, s, l, u) { function c (t, i, n, a) { for (var r = t; r < i; r++) { if (e[r].y + n > l + o) break; if (e[r].y += n, r > t && r + 1 < i && e[r + 1].y > e[r].y + e[r].height) return void h(r, n / 2) }h(i - 1, n / 2) } function h (t, i) { for (var n = t; n >= 0; n--) { if (e[n].y - i < l) break; if (e[n].y -= i, n > 0 && e[n].y > e[n - 1].y + e[n - 1].height) break } } function d (e, t, i, n, a, r) { for (var o = t ? Number.MAX_VALUE : 0, s = 0, l = e.length; s < l; s++) if (e[s].labelAlignTo === 'none') { var u = Math.abs(e[s].y - n); var c = e[s].len; var h = e[s].len2; var d = u < a + c ? Math.sqrt((a + c + h) * (a + c + h) - u * u) : Math.abs(e[s].x - i); t && d >= o && (d = o - 10), !t && d <= o && (d = o + 10), e[s].x = i + d * r, o = d } }e.sort(function (e, t) { return e.y - t.y }); for (var f, p = 0, g = e.length, m = [], v = [], y = 0; y < g; y++) { if (e[y].position === 'outer' && e[y].labelAlignTo === 'labelLine') { var x = e[y].x - u; e[y].linePoints[1][0] += x, e[y].x = u }f = e[y].y - p, f < 0 && c(y, g, -f, a), p = e[y].y + e[y].height }o - p < 0 && h(g - 1, p - o); for (y = 0; y < g; y++)e[y].y >= i ? v.push(e[y]) : m.push(e[y]); d(m, !1, t, i, n, a), d(v, !0, t, i, n, a) } function l (e, t, i, a, r, o, l, c) { for (var h = [], d = [], f = Number.MAX_VALUE, p = -Number.MAX_VALUE, g = 0; g < e.length; g++)u(e[g]) || (e[g].x < t ? (f = Math.min(f, e[g].x), h.push(e[g])) : (p = Math.max(p, e[g].x), d.push(e[g]))); s(d, t, i, a, 1, r, o, l, c, p), s(h, t, i, a, -1, r, o, l, c, f); for (g = 0; g < e.length; g++) { var m = e[g]; if (!u(m)) { var v = m.linePoints; if (v) { var y; var x = m.labelAlignTo === 'edge'; var _ = m.textRect.width; y = x ? m.x < t ? v[2][0] - m.labelDistance - l - m.labelMargin : l + r - m.labelMargin - v[2][0] - m.labelDistance : m.x < t ? m.x - l - m.bleedMargin : l + r - m.x - m.bleedMargin, y < m.textRect.width && (m.text = n.truncateText(m.text, y, m.font), m.labelAlignTo === 'edge' && (_ = n.getWidth(m.text, m.font))); var b = v[1][0] - v[2][0]; x ? m.x < t ? v[2][0] = l + m.labelMargin + _ + m.labelDistance : v[2][0] = l + r - m.labelMargin - _ - m.labelDistance : (m.x < t ? v[2][0] = m.x + m.labelDistance : v[2][0] = m.x - m.labelDistance, v[1][0] = v[2][0] + b), v[1][1] = v[2][1] = m.y } } } } function u (e) { return e.position === 'center' } function c (e, t, i, a, s, u) { var c; var h; var d = e.getData(); var f = []; var p = !1; var g = (e.get('minShowLabelAngle') || 0) * o; d.each(function (a) { var o = d.getItemLayout(a); var l = d.getItemModel(a); var u = l.getModel('label'); var m = u.get('position') || l.get('emphasis.label.position'); var v = u.get('distanceToLabelLine'); var y = u.get('alignTo'); var x = r(u.get('margin'), i); var _ = u.get('bleedMargin'); var b = u.getFont(); var w = l.getModel('labelLine'); var S = w.get('length'); S = r(S, i); var M = w.get('length2'); if (M = r(M, i), !(o.angle < g)) { var I; var A; var T; var C; var D = (o.startAngle + o.endAngle) / 2; var L = Math.cos(D); var P = Math.sin(D); c = o.cx, h = o.cy; var k; var O = e.getFormattedLabel(a, 'normal') || d.getName(a); var R = n.getBoundingRect(O, b, C, 'top'); var E = m === 'inside' || m === 'inner'; if (m === 'center')I = o.cx, A = o.cy, C = 'center'; else { var N = (E ? (o.r + o.r0) / 2 * L : o.r * L) + c; var z = (E ? (o.r + o.r0) / 2 * P : o.r * P) + h; if (I = N + 3 * L, A = z + 3 * P, !E) { var B = N + L * (S + t - o.r); var V = z + P * (S + t - o.r); var G = B + (L < 0 ? -1 : 1) * M; var F = V; I = y === 'edge' ? L < 0 ? s + x : s + i - x : G + (L < 0 ? -v : v), A = F, T = [[N, z], [B, V], [G, F]] }C = E ? 'center' : y === 'edge' ? L > 0 ? 'right' : 'left' : L > 0 ? 'left' : 'right' } var H = u.get('rotate'); k = typeof H === 'number' ? H * (Math.PI / 180) : H ? L < 0 ? -D + Math.PI : -D : 0, p = !!k, o.label = { x: I, y: A, position: m, height: R.height, len: S, len2: M, linePoints: T, textAlign: C, verticalAlign: 'middle', rotation: k, inside: E, labelDistance: v, labelAlignTo: y, labelMargin: x, bleedMargin: _, textRect: R, text: O, font: b }, E || f.push(o.label) } }), !p && e.get('avoidLabelOverlap') && l(f, c, h, t, i, a, s, u) }e.exports = c }, bc5f: function (e, t, i) { var n = i('6cb7'); n.registerSubTypeDefaulter('visualMap', function (e) { return e.categories || (e.pieces ? e.pieces.length > 0 : e.splitNumber > 0) && !e.calculable ? 'piecewise' : 'continuous' }) }, bcaa: function (e, t, i) { var n = i('4ab1'); var a = i('6d8b'); function r (e, t) { n.call(this, e, t, ['filter'], '__filter_in_use__', '_shadowDom') } function o (e) { return e && (e.shadowBlur || e.shadowOffsetX || e.shadowOffsetY || e.textShadowBlur || e.textShadowOffsetX || e.textShadowOffsetY) }a.inherits(r, n), r.prototype.addWithoutUpdate = function (e, t) { if (t && o(t.style)) { var i; if (t._shadowDom) { i = t._shadowDom; var n = this.getDefs(!0); n.contains(t._shadowDom) || this.addDom(i) } else i = this.add(t); this.markUsed(t); var a = i.getAttribute('id'); e.style.filter = 'url(#' + a + ')' } }, r.prototype.add = function (e) { var t = this.createElement('filter'); return e._shadowDomId = e._shadowDomId || this.nextId++, t.setAttribute('id', 'zr' + this._zrId + '-shadow-' + e._shadowDomId), this.updateDom(e, t), this.addDom(t), t }, r.prototype.update = function (e, t) { var i = t.style; if (o(i)) { var a = this; n.prototype.update.call(this, t, function () { a.updateDom(t, t._shadowDom) }) } else this.remove(e, t) }, r.prototype.remove = function (e, t) { t._shadowDomId != null && (this.removeDom(e), e.style.filter = '') }, r.prototype.updateDom = function (e, t) { var i = t.getElementsByTagName('feDropShadow'); i = i.length === 0 ? this.createElement('feDropShadow') : i[0]; var n; var a; var r; var o; var s = e.style; var l = e.scale && e.scale[0] || 1; var u = e.scale && e.scale[1] || 1; if (s.shadowBlur || s.shadowOffsetX || s.shadowOffsetY)n = s.shadowOffsetX || 0, a = s.shadowOffsetY || 0, r = s.shadowBlur, o = s.shadowColor; else { if (!s.textShadowBlur) return void this.removeDom(t, s); n = s.textShadowOffsetX || 0, a = s.textShadowOffsetY || 0, r = s.textShadowBlur, o = s.textShadowColor }i.setAttribute('dx', n / l), i.setAttribute('dy', a / u), i.setAttribute('flood-color', o); var c = r / 2 / l; var h = r / 2 / u; var d = c + ' ' + h; i.setAttribute('stdDeviation', d), t.setAttribute('x', '-100%'), t.setAttribute('y', '-100%'), t.setAttribute('width', Math.ceil(r / 2 * 200) + '%'), t.setAttribute('height', Math.ceil(r / 2 * 200) + '%'), t.appendChild(i), e._shadowDom = t }, r.prototype.markUsed = function (e) { e._shadowDom && n.prototype.markUsed.call(this, e._shadowDom) }; var s = r; e.exports = s }, bcbe: function (e, t, i) { var n = i('6d8b'); var a = i('fab2'); var r = i('2306'); var o = i('edb9'); var s = i('6679'); var l = i('58df'); var u = l.rectCoordAxisBuildSplitArea; var c = l.rectCoordAxisHandleRemove; var h = ['axisLine', 'axisTickLabel', 'axisName']; var d = ['splitArea', 'splitLine']; var f = s.extend({ type: 'singleAxis', axisPointerClass: 'SingleAxisPointer', render: function (e, t, i, s) { var l = this.group; l.removeAll(); var u = this._axisGroup; this._axisGroup = new r.Group(); var c = o.layout(e); var p = new a(e, c); n.each(h, p.add, p), l.add(this._axisGroup), l.add(p.getGroup()), n.each(d, function (t) { e.get(t + '.show') && this['_' + t](e) }, this), r.groupTransition(u, this._axisGroup, e), f.superCall(this, 'render', e, t, i, s) }, remove: function () { c(this) }, _splitLine: function (e) { var t = e.axis; if (!t.scale.isBlank()) { var i = e.getModel('splitLine'); var n = i.getModel('lineStyle'); var a = n.get('width'); var o = n.get('color'); o = o instanceof Array ? o : [o]; for (var s = e.coordinateSystem.getRect(), l = t.isHorizontal(), u = [], c = 0, h = t.getTicksCoords({ tickModel: i }), d = [], f = [], p = 0; p < h.length; ++p) { var g = t.toGlobalCoord(h[p].coord); l ? (d[0] = g, d[1] = s.y, f[0] = g, f[1] = s.y + s.height) : (d[0] = s.x, d[1] = g, f[0] = s.x + s.width, f[1] = g); var m = c++ % o.length; u[m] = u[m] || [], u[m].push(new r.Line({ subPixelOptimize: !0, shape: { x1: d[0], y1: d[1], x2: f[0], y2: f[1] }, style: { lineWidth: a }, silent: !0 })) } for (p = 0; p < u.length; ++p) this.group.add(r.mergePath(u[p], { style: { stroke: o[p % o.length], lineDash: n.getLineDash(a), lineWidth: a }, silent: !0 })) } }, _splitArea: function (e) { u(this, this._axisGroup, e, e) } }); var p = f; e.exports = p }, bd6b: function (e, t, i) { var n = i('06ad'); var a = i('4942'); var r = i('6d8b'); var o = r.isString; var s = r.isFunction; var l = r.isObject; var u = r.isArrayLike; var c = r.indexOf; var h = function () { this.animators = [] }; function d (e, t, i, n, a, r, l, u) { o(n) ? (r = a, a = n, n = 0) : s(a) ? (r = a, a = 'linear', n = 0) : s(n) ? (r = n, n = 0) : s(i) ? (r = i, i = 500) : i || (i = 500), e.stopAnimation(), f(e, '', e, t, i, n, u); var c = e.animators.slice(); var h = c.length; function d () { h--, h || r && r() }h || r && r(); for (var p = 0; p < c.length; p++)c[p].done(d).start(a, l) } function f (e, t, i, n, a, r, o) { var s = {}; var c = 0; for (var h in n)n.hasOwnProperty(h) && (i[h] != null ? l(n[h]) && !u(n[h]) ? f(e, t ? t + '.' + h : h, i[h], n[h], a, r, o) : (o ? (s[h] = i[h], p(e, t, h, n[h])) : s[h] = n[h], c++) : n[h] == null || o || p(e, t, h, n[h])); c > 0 && e.animate(t, !1).when(a == null ? 500 : a, s).delay(r || 0) } function p (e, t, i, n) { if (t) { var a = {}; a[t] = {}, a[t][i] = n, e.attr(a) } else e.attr(i, n) }h.prototype = { constructor: h, animate: function (e, t) { var i; var r = !1; var o = this; var s = this.__zr; if (e) { var l = e.split('.'); var u = o; r = l[0] === 'shape'; for (var h = 0, d = l.length; h < d; h++)u && (u = u[l[h]]); u && (i = u) } else i = o; if (i) { var f = o.animators; var p = new n(i, t); return p.during(function (e) { o.dirty(r) }).done(function () { f.splice(c(f, p), 1) }), f.push(p), s && s.animation.addAnimator(p), p }a('Property "' + e + '" is not existed in element ' + o.id) }, stopAnimation: function (e) { for (var t = this.animators, i = t.length, n = 0; n < i; n++)t[n].stop(e); return t.length = 0, this }, animateTo: function (e, t, i, n, a, r) { d(this, e, t, i, n, a, r) }, animateFrom: function (e, t, i, n, a, r) { d(this, e, t, i, n, a, r, !0) } }; var g = h; e.exports = g }, bd92: function (e, t, i) { var n = i('6d8b'); var a = i('4f85'); var r = i('e468'); var o = r.seriesModelMixin; var s = a.extend({ type: 'series.candlestick', dependencies: ['xAxis', 'yAxis', 'grid'], defaultValueDimensions: [{ name: 'open', defaultTooltip: !0 }, { name: 'close', defaultTooltip: !0 }, { name: 'lowest', defaultTooltip: !0 }, { name: 'highest', defaultTooltip: !0 }], dimensions: null, defaultOption: { zlevel: 0, z: 2, coordinateSystem: 'cartesian2d', legendHoverLink: !0, hoverAnimation: !0, layout: null, clip: !0, itemStyle: { color: '#c23531', color0: '#314656', borderWidth: 1, borderColor: '#c23531', borderColor0: '#314656' }, emphasis: { itemStyle: { borderWidth: 2 } }, barMaxWidth: null, barMinWidth: null, barWidth: null, large: !0, largeThreshold: 600, progressive: 3e3, progressiveThreshold: 1e4, progressiveChunkMode: 'mod', animationUpdate: !1, animationEasing: 'linear', animationDuration: 300 }, getShadowDim: function () { return 'open' }, brushSelector: function (e, t, i) { var n = t.getItemLayout(e); return n && i.rect(n.brushRect) } }); n.mixin(s, o, !0); var l = s; e.exports = l }, bd9e: function (e, t, i) { var n = i('4e08'); var a = (n.__DEV__, i('6d8b')); var r = i('2306'); var o = i('e0d3'); var s = i('f4a2'); var l = a.each; var u = a.indexOf; var c = a.curry; var h = ['dataToPoint', 'pointToData']; var d = ['grid', 'xAxis', 'yAxis', 'geo', 'graph', 'polar', 'radiusAxis', 'angleAxis', 'bmap']; function f (e, t, i) { var n = this._targetInfoList = []; var a = {}; var r = m(t, e); l(v, function (e, t) { (!i || !i.include || u(i.include, t) >= 0) && e(r, n, a) }) } var p = f.prototype; function g (e) { return e[0] > e[1] && e.reverse(), e } function m (e, t) { return o.parseFinder(e, t, { includeMainTypes: d }) }p.setOutputRanges = function (e, t) { this.matchOutputRanges(e, t, function (e, t, i) { if ((e.coordRanges || (e.coordRanges = [])).push(t), !e.coordRange) { e.coordRange = t; var n = _[e.brushType](0, i, t); e.__rangeOffset = { offset: w[e.brushType](n.values, e.range, [1, 1]), xyMinMax: n.xyMinMax } } }) }, p.matchOutputRanges = function (e, t, i) { l(e, function (e) { var n = this.findTargetInfo(e, t); n && !0 !== n && a.each(n.coordSyses, function (n) { var a = _[e.brushType](1, n, e.range); i(e, a.values, n, t) }) }, this) }, p.setInputRanges = function (e, t) { l(e, function (e) { var i = this.findTargetInfo(e, t); if (e.range = e.range || [], i && !0 !== i) { e.panelId = i.panelId; var n = _[e.brushType](0, i.coordSys, e.coordRange); var a = e.__rangeOffset; e.range = a ? w[e.brushType](n.values, a.offset, M(n.xyMinMax, a.xyMinMax)) : n.values } }, this) }, p.makePanelOpts = function (e, t) { return a.map(this._targetInfoList, function (i) { var n = i.getPanelRect(); return { panelId: i.panelId, defaultBrushType: t && t(i), clipPath: s.makeRectPanelClipPath(n), isTargetByCursor: s.makeRectIsTargetByCursor(n, e, i.coordSysModel), getLinearBrushOtherExtent: s.makeLinearBrushOtherExtent(n) } }) }, p.controlSeries = function (e, t, i) { var n = this.findTargetInfo(e, i); return !0 === n || n && u(n.coordSyses, t.coordinateSystem) >= 0 }, p.findTargetInfo = function (e, t) { for (var i = this._targetInfoList, n = m(t, e), a = 0; a < i.length; a++) { var r = i[a]; var o = e.panelId; if (o) { if (r.panelId === o) return r } else for (a = 0; a < y.length; a++) if (y[a](n, r)) return r } return !0 }; var v = { grid: function (e, t) { var i = e.xAxisModels; var n = e.yAxisModels; var r = e.gridModels; var o = a.createHashMap(); var s = {}; var c = {}; (i || n || r) && (l(i, function (e) { var t = e.axis.grid.model; o.set(t.id, t), s[t.id] = !0 }), l(n, function (e) { var t = e.axis.grid.model; o.set(t.id, t), c[t.id] = !0 }), l(r, function (e) { o.set(e.id, e), s[e.id] = !0, c[e.id] = !0 }), o.each(function (e) { var a = e.coordinateSystem; var r = []; l(a.getCartesians(), function (e, t) { (u(i, e.getAxis('x').model) >= 0 || u(n, e.getAxis('y').model) >= 0) && r.push(e) }), t.push({ panelId: 'grid--' + e.id, gridModel: e, coordSysModel: e, coordSys: r[0], coordSyses: r, getPanelRect: x.grid, xAxisDeclared: s[e.id], yAxisDeclared: c[e.id] }) })) }, geo: function (e, t) { l(e.geoModels, function (e) { var i = e.coordinateSystem; t.push({ panelId: 'geo--' + e.id, geoModel: e, coordSysModel: e, coordSys: i, coordSyses: [i], getPanelRect: x.geo }) }) } }; var y = [function (e, t) { var i = e.xAxisModel; var n = e.yAxisModel; var a = e.gridModel; return !a && i && (a = i.axis.grid.model), !a && n && (a = n.axis.grid.model), a && a === t.gridModel }, function (e, t) { var i = e.geoModel; return i && i === t.geoModel }]; var x = { grid: function () { return this.coordSys.grid.getRect().clone() }, geo: function () { var e = this.coordSys; var t = e.getBoundingRect().clone(); return t.applyTransform(r.getTransform(e)), t } }; var _ = { lineX: c(b, 0), lineY: c(b, 1), rect: function (e, t, i) { var n = t[h[e]]([i[0][0], i[1][0]]); var a = t[h[e]]([i[0][1], i[1][1]]); var r = [g([n[0], a[0]]), g([n[1], a[1]])]; return { values: r, xyMinMax: r } }, polygon: function (e, t, i) { var n = [[1 / 0, -1 / 0], [1 / 0, -1 / 0]]; var r = a.map(i, function (i) { var a = t[h[e]](i); return n[0][0] = Math.min(n[0][0], a[0]), n[1][0] = Math.min(n[1][0], a[1]), n[0][1] = Math.max(n[0][1], a[0]), n[1][1] = Math.max(n[1][1], a[1]), a }); return { values: r, xyMinMax: n } } }; function b (e, t, i, n) { var r = i.getAxis(['x', 'y'][e]); var o = g(a.map([0, 1], function (e) { return t ? r.coordToData(r.toLocalCoord(n[e])) : r.toGlobalCoord(r.dataToCoord(n[e])) })); var s = []; return s[e] = o, s[1 - e] = [NaN, NaN], { values: o, xyMinMax: s } } var w = { lineX: c(S, 0), lineY: c(S, 1), rect: function (e, t, i) { return [[e[0][0] - i[0] * t[0][0], e[0][1] - i[0] * t[0][1]], [e[1][0] - i[1] * t[1][0], e[1][1] - i[1] * t[1][1]]] }, polygon: function (e, t, i) { return a.map(e, function (e, n) { return [e[0] - i[0] * t[n][0], e[1] - i[1] * t[n][1]] }) } }; function S (e, t, i, n) { return [t[0] - n[e] * i[0], t[1] - n[e] * i[1]] } function M (e, t) { var i = I(e); var n = I(t); var a = [i[0] / n[0], i[1] / n[1]]; return isNaN(a[0]) && (a[0] = 1), isNaN(a[1]) && (a[1] = 1), a } function I (e) { return e ? [e[0][1] - e[0][0], e[1][1] - e[1][0]] : [NaN, NaN] } var A = f; e.exports = A }, bda7: function (e, t, i) { var n = i('6d8b'); var a = i('f279'); function r (e) { if (!e.UTF8Encoding) return e; var t = e.UTF8Scale; t == null && (t = 1024); for (var i = e.features, n = 0; n < i.length; n++) for (var a = i[n], r = a.geometry, s = r.coordinates, l = r.encodeOffsets, u = 0; u < s.length; u++) { var c = s[u]; if (r.type === 'Polygon')s[u] = o(c, l[u], t); else if (r.type === 'MultiPolygon') for (var h = 0; h < c.length; h++) { var d = c[h]; c[h] = o(d, l[u][h], t) } } return e.UTF8Encoding = !1, e } function o (e, t, i) { for (var n = [], a = t[0], r = t[1], o = 0; o < e.length; o += 2) { var s = e.charCodeAt(o) - 64; var l = e.charCodeAt(o + 1) - 64; s = s >> 1 ^ -(1 & s), l = l >> 1 ^ -(1 & l), s += a, l += r, a = s, r = l, n.push([s / i, l / i]) } return n } function s (e, t) { return r(e), n.map(n.filter(e.features, function (e) { return e.geometry && e.properties && e.geometry.coordinates.length > 0 }), function (e) { var i = e.properties; var r = e.geometry; var o = r.coordinates; var s = []; r.type === 'Polygon' && s.push({ type: 'polygon', exterior: o[0], interiors: o.slice(1) }), r.type === 'MultiPolygon' && n.each(o, function (e) { e[0] && s.push({ type: 'polygon', exterior: e[0], interiors: e.slice(1) }) }); var l = new a(i[t || 'name'], s, i.cp); return l.properties = i, l }) }e.exports = s }, bdc0: function (e, t, i) { var n = i('3eba'); i('d2a5'), n.registerAction({ type: 'dragNode', event: 'dragnode', update: 'update' }, function (e, t) { t.eachComponent({ mainType: 'series', subType: 'sankey', query: e }, function (t) { t.setNodePosition(e.dataIndex, [e.localX, e.localY]) }) }) }, bf9b: function (e, t, i) { var n = i('3eba'); var a = i('d81e'); var r = a.updateCenterAndZoom; n.registerAction({ type: 'treeExpandAndCollapse', event: 'treeExpandAndCollapse', update: 'update' }, function (e, t) { t.eachComponent({ mainType: 'series', subType: 'tree', query: e }, function (t) { var i = e.dataIndex; var n = t.getData().tree; var a = n.getNodeByDataIndex(i); a.isExpand = !a.isExpand }) }), n.registerAction({ type: 'treeRoam', event: 'treeRoam', update: 'none' }, function (e, t) { t.eachComponent({ mainType: 'series', subType: 'tree', query: e }, function (t) { var i = t.coordinateSystem; var n = r(i, e); t.setCenter && t.setCenter(n.center), t.setZoom && t.setZoom(n.zoom) }) }) }, c037: function (e, t, i) { var n = i('3eba'); var a = i('6d8b'); i('f7c6'), i('1ab3'); var r = i('7782'); var o = i('98e7'); var s = i('292e'); var l = i('d3f4'); r('pie', [{ type: 'pieToggleSelect', event: 'pieselectchanged', method: 'toggleSelected' }, { type: 'pieSelect', event: 'pieselected', method: 'select' }, { type: 'pieUnSelect', event: 'pieunselected', method: 'unSelect' }]), n.registerVisual(o('pie')), n.registerLayout(a.curry(s, 'pie')), n.registerProcessor(l('pie')) }, c2be: function (e, t, i) { var n = i('2306'); var a = n.extendShape; var r = a({ type: 'sausage', shape: { cx: 0, cy: 0, r0: 0, r: 0, startAngle: 0, endAngle: 2 * Math.PI, clockwise: !0 }, buildPath: function (e, t) { var i = t.cx; var n = t.cy; var a = Math.max(t.r0 || 0, 0); var r = Math.max(t.r, 0); var o = 0.5 * (r - a); var s = a + o; var l = t.startAngle; var u = t.endAngle; var c = t.clockwise; var h = Math.cos(l); var d = Math.sin(l); var f = Math.cos(u); var p = Math.sin(u); var g = c ? u - l < 2 * Math.PI : l - u < 2 * Math.PI; g && (e.moveTo(h * a + i, d * a + n), e.arc(h * s + i, d * s + n, o, -Math.PI + l, l, !c)), e.arc(i, n, r, l, u, !c), e.moveTo(f * r + i, p * r + n), e.arc(f * s + i, p * s + n, o, u - 2 * Math.PI, u - Math.PI, !c), a !== 0 && (e.arc(i, n, a, u, l, c), e.moveTo(h * a + i, p * a + n)), e.closePath() } }); e.exports = r }, c2dd: function (e, t, i) { var n = i('3eba'); var a = i('6d8b'); var r = i('fc82'); var o = i('10cc'); var s = o.layoutCovers; var l = n.extendComponentView({ type: 'brush', init: function (e, t) { this.ecModel = e, this.api = t, this.model, (this._brushController = new r(t.getZr())).on('brush', a.bind(this._onBrush, this)).mount() }, render: function (e) { return this.model = e, u.apply(this, arguments) }, updateTransform: function (e, t) { return s(t), u.apply(this, arguments) }, updateView: u, dispose: function () { this._brushController.dispose() }, _onBrush: function (e, t) { var i = this.model.id; this.model.brushTargetManager.setOutputRanges(e, this.ecModel), (!t.isEnd || t.removeOnClick) && this.api.dispatchAction({ type: 'brush', brushId: i, areas: a.clone(e), $from: i }), t.isEnd && this.api.dispatchAction({ type: 'brushEnd', brushId: i, areas: a.clone(e), $from: i }) } }); function u (e, t, i, n) { (!n || n.$from !== e.id) && this._brushController.setPanels(e.brushTargetManager.makePanelOpts(i)).enableBrush(e.brushOption).updateCovers(e.areas.slice()) }e.exports = l }, c4a3: function (e, t) { function i (e, t) { this.getAllNames = function () { var e = t(); return e.mapArray(e.getName) }, this.containName = function (e) { var i = t(); return i.indexOfName(e) >= 0 }, this.indexOfName = function (t) { var i = e(); return i.indexOfName(t) }, this.getItemVisual = function (t, i) { var n = e(); return n.getItemVisual(t, i) } } var n = i; e.exports = n }, c515: function (e, t, i) { i('849b'), i('8459'), i('b006') }, c526: function (e, t) { var i = { axisPointer: 1, tooltip: 1, brush: 1 }; function n (e, t, n) { var a = t.getComponentByElement(e.topTarget); var r = a && a.coordinateSystem; return a && a !== n && !i[a.mainType] && r && r.model !== n }t.onIrrelevantElement = n }, c533: function (e, t) { var i = ['#37A2DA', '#32C5E9', '#67E0E3', '#9FE6B8', '#FFDB5C', '#ff9f7f', '#fb7293', '#E062AE', '#E690D1', '#e7bcf3', '#9d96f5', '#8378EA', '#96BFFF']; var n = { color: i, colorLayer: [['#37A2DA', '#ffd85c', '#fd7b5f'], ['#37A2DA', '#67E0E3', '#FFDB5C', '#ff9f7f', '#E062AE', '#9d96f5'], ['#37A2DA', '#32C5E9', '#9FE6B8', '#FFDB5C', '#ff9f7f', '#fb7293', '#e7bcf3', '#8378EA', '#96BFFF'], i] }; e.exports = n }, c62c: function (e, t, i) { var n = i('6d8b'); var a = i('6cb7'); var r = i('9e47'); var o = i('2023'); var s = a.extend({ type: 'singleAxis', layoutMode: 'box', axis: null, coordinateSystem: null, getCoordSysModel: function () { return this } }); var l = { left: '5%', top: '5%', right: '5%', bottom: '5%', type: 'value', position: 'bottom', orient: 'horizontal', axisLine: { show: !0, lineStyle: { width: 1, type: 'solid' } }, tooltip: { show: !0 }, axisTick: { show: !0, length: 6, lineStyle: { width: 1 } }, axisLabel: { show: !0, interval: 'auto' }, splitLine: { show: !0, lineStyle: { type: 'dashed', opacity: 0.2 } } }; function u (e, t) { return t.type || (t.data ? 'category' : 'value') }n.merge(s.prototype, o), r('single', s, u, l); var c = s; e.exports = c }, c775: function (e, t, i) { var n = i('2b17'); var a = n.retrieveRawValue; function r (e, t) { var i = e.mapDimension('defaultedLabel', !0); var n = i.length; if (n === 1) return a(e, t, i[0]); if (n) { for (var r = [], o = 0; o < i.length; o++) { var s = a(e, t, i[o]); r.push(s) } return r.join(' ') } }t.getDefaultLabel = r }, c7a2: function (e, t, i) { var n = i('cbe5'); var a = i('5693'); var r = i('9cf9'); var o = r.subPixelOptimizeRect; var s = {}; var l = n.extend({ type: 'rect', shape: { r: 0, x: 0, y: 0, width: 0, height: 0 }, buildPath: function (e, t) { var i, n, r, l; this.subPixelOptimize ? (o(s, t, this.style), i = s.x, n = s.y, r = s.width, l = s.height, s.r = t.r, t = s) : (i = t.x, n = t.y, r = t.width, l = t.height), t.r ? a.buildPath(e, t) : e.rect(i, n, r, l), e.closePath() } }); e.exports = l }, c8ef: function (e, t, i) { var n = i('6d8b'); var a = i('a15a'); var r = a.createSymbol; var o = i('2306'); var s = o.Group; var l = i('3842'); var u = l.parsePercent; var c = i('1418'); var h = 3; function d (e) { return n.isArray(e) || (e = [+e, +e]), e } function f (e, t) { var i = t.rippleEffectColor || t.color; e.eachChild(function (e) { e.attr({ z: t.z, zlevel: t.zlevel, style: { stroke: t.brushType === 'stroke' ? i : null, fill: t.brushType === 'fill' ? i : null } }) }) } function p (e, t) { s.call(this); var i = new c(e, t); var n = new s(); this.add(i), this.add(n), n.beforeUpdate = function () { this.attr(i.getScale()) }, this.updateData(e, t) } var g = p.prototype; g.stopEffectAnimation = function () { this.childAt(1).removeAll() }, g.startEffectAnimation = function (e) { for (var t = e.symbolType, i = e.color, n = this.childAt(1), a = 0; a < h; a++) { var o = r(t, -1, -1, 2, 2, i); o.attr({ style: { strokeNoScale: !0 }, z2: 99, silent: !0, scale: [0.5, 0.5] }); var s = -a / h * e.period + e.effectOffset; o.animate('', !0).when(e.period, { scale: [e.rippleScale / 2, e.rippleScale / 2] }).delay(s).start(), o.animateStyle(!0).when(e.period, { opacity: 0 }).delay(s).start(), n.add(o) }f(n, e) }, g.updateEffectAnimation = function (e) { for (var t = this._effectCfg, i = this.childAt(1), n = ['symbolType', 'period', 'rippleScale'], a = 0; a < n.length; a++) { var r = n[a]; if (t[r] !== e[r]) return this.stopEffectAnimation(), void this.startEffectAnimation(e) }f(i, e) }, g.highlight = function () { this.trigger('emphasis') }, g.downplay = function () { this.trigger('normal') }, g.updateData = function (e, t) { var i = e.hostModel; this.childAt(0).updateData(e, t); var n = this.childAt(1); var a = e.getItemModel(t); var r = e.getItemVisual(t, 'symbol'); var o = d(e.getItemVisual(t, 'symbolSize')); var s = e.getItemVisual(t, 'color'); n.attr('scale', o), n.traverse(function (e) { e.attr({ fill: s }) }); var l = a.getShallow('symbolOffset'); if (l) { var c = n.position; c[0] = u(l[0], o[0]), c[1] = u(l[1], o[1]) } var h = e.getItemVisual(t, 'symbolRotate'); n.rotation = (h || 0) * Math.PI / 180 || 0; var f = {}; if (f.showEffectOn = i.get('showEffectOn'), f.rippleScale = a.get('rippleEffect.scale'), f.brushType = a.get('rippleEffect.brushType'), f.period = 1e3 * a.get('rippleEffect.period'), f.effectOffset = t / e.count(), f.z = a.getShallow('z') || 0, f.zlevel = a.getShallow('zlevel') || 0, f.symbolType = r, f.color = s, f.rippleEffectColor = a.get('rippleEffect.color'), this.off('mouseover').off('mouseout').off('emphasis').off('normal'), f.showEffectOn === 'render') this._effectCfg ? this.updateEffectAnimation(f) : this.startEffectAnimation(f), this._effectCfg = f; else { this._effectCfg = null, this.stopEffectAnimation(); var p = this.childAt(0); var g = function () { p.highlight(), f.showEffectOn !== 'render' && this.startEffectAnimation(f) }; var m = function () { p.downplay(), f.showEffectOn !== 'render' && this.stopEffectAnimation() }; this.on('mouseover', g, this).on('mouseout', m, this).on('emphasis', g, this).on('normal', m, this) } this._effectCfg = f }, g.fadeOut = function (e) { this.off('mouseover').off('mouseout').off('emphasis').off('normal'), e && e() }, n.inherits(p, s); var m = p; e.exports = m }, c92f: function (e, t, i) { var n = i('3041'); var a = n.parseSVG; var r = n.makeViewBoxTransform; var o = i('e1fc'); var s = i('c7a2'); var l = i('6d8b'); var u = l.assert; var c = l.createHashMap; var h = i('9850'); var d = i('e0d3'); var f = d.makeInner; var p = f(); var g = { load: function (e, t) { var i = p(t).originRoot; if (i) return { root: i, boundingRect: p(t).boundingRect }; var n = m(t); return p(t).originRoot = n.root, p(t).boundingRect = n.boundingRect, n }, makeGraphic: function (e, t, i) { var n = p(t); var a = n.rootMap || (n.rootMap = c()); var r = a.get(i); if (r) return r; var o = n.originRoot; var s = n.boundingRect; return n.originRootHostKey ? r = m(t, s).root : (n.originRootHostKey = i, r = o), a.set(i, r) }, removeGraphic: function (e, t, i) { var n = p(t); var a = n.rootMap; a && a.removeKey(i), i === n.originRootHostKey && (n.originRootHostKey = null) } }; function m (e, t) { var i; var n; var l = e.svgXML; try { i = l && a(l, { ignoreViewBox: !0, ignoreRootClip: !0 }) || {}, n = i.root, u(n != null) } catch (m) { throw new Error('Invalid svg format\n' + m.message) } var c = i.width; var d = i.height; var f = i.viewBoxRect; if (t || (t = c == null || d == null ? n.getBoundingRect() : new h(0, 0, 0, 0), c != null && (t.width = c), d != null && (t.height = d)), f) { var p = r(f, t.width, t.height); var g = n; n = new o(), n.add(g), g.scale = p.scale, g.position = p.position } return n.setClipPath(new s({ shape: t.plain() })), { root: n, boundingRect: t } }e.exports = g }, c965: function (e, t, i) { var n = i('2306'); var a = i('a15a'); var r = a.createSymbol; var o = i('392f'); var s = 4; var l = n.extendShape({ shape: { points: null }, symbolProxy: null, softClipShape: null, buildPath: function (e, t) { var i = t.points; var n = t.size; var a = this.symbolProxy; var r = a.shape; var o = e.getContext ? e.getContext() : e; var l = o && n[0] < s; if (!l) for (var u = 0; u < i.length;) { var c = i[u++]; var h = i[u++]; isNaN(c) || isNaN(h) || (this.softClipShape && !this.softClipShape.contain(c, h) || (r.x = c - n[0] / 2, r.y = h - n[1] / 2, r.width = n[0], r.height = n[1], a.buildPath(e, r, !0))) } }, afterBrush: function (e) { var t = this.shape; var i = t.points; var n = t.size; var a = n[0] < s; if (a) { this.setTransform(e); for (var r = 0; r < i.length;) { var o = i[r++]; var l = i[r++]; isNaN(o) || isNaN(l) || (this.softClipShape && !this.softClipShape.contain(o, l) || e.fillRect(o - n[0] / 2, l - n[1] / 2, n[0], n[1])) } this.restoreTransform(e) } }, findDataIndex: function (e, t) { for (var i = this.shape, n = i.points, a = i.size, r = Math.max(a[0], 4), o = Math.max(a[1], 4), s = n.length / 2 - 1; s >= 0; s--) { var l = 2 * s; var u = n[l] - r / 2; var c = n[l + 1] - o / 2; if (e >= u && t >= c && e <= u + r && t <= c + o) return s } return -1 } }); function u () { this.group = new n.Group() } var c = u.prototype; c.isPersistent = function () { return !this._incremental }, c.updateData = function (e, t) { this.group.removeAll(); var i = new l({ rectHover: !0, cursor: 'default' }); i.setShape({ points: e.getLayout('symbolPoints') }), this._setCommon(i, e, !1, t), this.group.add(i), this._incremental = null }, c.updateLayout = function (e) { if (!this._incremental) { var t = e.getLayout('symbolPoints'); this.group.eachChild(function (e) { if (e.startIndex != null) { var i = 2 * (e.endIndex - e.startIndex); var n = 4 * e.startIndex * 2; t = new Float32Array(t.buffer, n, i) }e.setShape('points', t) }) } }, c.incrementalPrepareUpdate = function (e) { this.group.removeAll(), this._clearIncremental(), e.count() > 2e6 ? (this._incremental || (this._incremental = new o({ silent: !0 })), this.group.add(this._incremental)) : this._incremental = null }, c.incrementalUpdate = function (e, t, i) { var n; this._incremental ? (n = new l(), this._incremental.addDisplayable(n, !0)) : (n = new l({ rectHover: !0, cursor: 'default', startIndex: e.start, endIndex: e.end }), n.incremental = !0, this.group.add(n)), n.setShape({ points: t.getLayout('symbolPoints') }), this._setCommon(n, t, !!this._incremental, i) }, c._setCommon = function (e, t, i, n) { var a = t.hostModel; n = n || {}; var o = t.getVisual('symbolSize'); e.setShape('size', o instanceof Array ? o : [o, o]), e.softClipShape = n.clipShape || null, e.symbolProxy = r(t.getVisual('symbol'), 0, 0, 0, 0), e.setColor = e.symbolProxy.setColor; var l = e.shape.size[0] < s; e.useStyle(a.getModel('itemStyle').getItemStyle(l ? ['color', 'shadowBlur', 'shadowColor'] : ['color'])); var u = t.getVisual('color'); u && e.setColor(u), i || (e.seriesIndex = a.seriesIndex, e.on('mousemove', function (t) { e.dataIndex = null; var i = e.findDataIndex(t.offsetX, t.offsetY); i >= 0 && (e.dataIndex = i + (e.startIndex || 0)) })) }, c.remove = function () { this._clearIncremental(), this._incremental = null, this.group.removeAll() }, c._clearIncremental = function () { var e = this._incremental; e && e.clearDisplaybles() }; var h = u; e.exports = h }, ca29: function (e, t, i) { var n = i('6d9a'); var a = n.eachAfter; var r = n.eachBefore; var o = i('22da'); var s = o.init; var l = o.firstWalk; var u = o.secondWalk; var c = o.separation; var h = o.radialCoordinate; var d = o.getViewRect; function f (e, t) { e.eachSeriesByType('tree', function (e) { p(e, t) }) } function p (e, t) { var i = d(e, t); e.layoutInfo = i; var n = e.get('layout'); var o = 0; var f = 0; var p = null; n === 'radial' ? (o = 2 * Math.PI, f = Math.min(i.height, i.width) / 2, p = c(function (e, t) { return (e.parentNode === t.parentNode ? 1 : 2) / e.depth })) : (o = i.width, f = i.height, p = c()); var g = e.getData().tree.root; var m = g.children[0]; if (m) { s(g), a(m, l, p), g.hierNode.modifier = -m.hierNode.prelim, r(m, u); var v = m; var y = m; var x = m; r(m, function (e) { var t = e.getLayout().x; t < v.getLayout().x && (v = e), t > y.getLayout().x && (y = e), e.depth > x.depth && (x = e) }); var _ = v === y ? 1 : p(v, y) / 2; var b = _ - v.getLayout().x; var w = 0; var S = 0; var M = 0; var I = 0; if (n === 'radial')w = o / (y.getLayout().x + _ + b), S = f / (x.depth - 1 || 1), r(m, function (e) { M = (e.getLayout().x + b) * w, I = (e.depth - 1) * S; var t = h(M, I); e.setLayout({ x: t.x, y: t.y, rawX: M, rawY: I }, !0) }); else { var A = e.getOrient(); A === 'RL' || A === 'LR' ? (S = f / (y.getLayout().x + _ + b), w = o / (x.depth - 1 || 1), r(m, function (e) { I = (e.getLayout().x + b) * S, M = A === 'LR' ? (e.depth - 1) * w : o - (e.depth - 1) * w, e.setLayout({ x: M, y: I }, !0) })) : A !== 'TB' && A !== 'BT' || (w = o / (y.getLayout().x + _ + b), S = f / (x.depth - 1 || 1), r(m, function (e) { M = (e.getLayout().x + b) * w, I = A === 'TB' ? (e.depth - 1) * S : f - (e.depth - 1) * S, e.setLayout({ x: M, y: I }, !0) })) } } }e.exports = f }, ca98: function (e, t, i) { var n = i('6d8b'); var a = i('e0d3'); var r = i('6cb7'); var o = n.each; var s = n.clone; var l = n.map; var u = n.merge; var c = /^(min|max)?(.+)$/; function h (e) { this._api = e, this._timelineOptions = [], this._mediaList = [], this._mediaDefault, this._currentMediaIndices = [], this._optionBackup, this._newBaseOption } function d (e, t, i) { var a; var r; var s = []; var l = []; var u = e.timeline; if (e.baseOption && (r = e.baseOption), (u || e.options) && (r = r || {}, s = (e.options || []).slice()), e.media) { r = r || {}; var c = e.media; o(c, function (e) { e && e.option && (e.query ? l.push(e) : a || (a = e)) }) } return r || (r = e), r.timeline || (r.timeline = u), o([r].concat(s).concat(n.map(l, function (e) { return e.option })), function (e) { o(t, function (t) { t(e, i) }) }), { baseOption: r, timelineOptions: s, mediaDefault: a, mediaList: l } } function f (e, t, i) { var a = { width: t, height: i, aspectratio: t / i }; var r = !0; return n.each(e, function (e, t) { var i = t.match(c); if (i && i[1] && i[2]) { var n = i[1]; var o = i[2].toLowerCase(); p(a[o], e, n) || (r = !1) } }), r } function p (e, t, i) { return i === 'min' ? e >= t : i === 'max' ? e <= t : e === t } function g (e, t) { return e.join(',') === t.join(',') } function m (e, t) { t = t || {}, o(t, function (t, i) { if (t != null) { var n = e[i]; if (r.hasClass(i)) { t = a.normalizeToArray(t), n = a.normalizeToArray(n); var o = a.mappingToExists(n, t); e[i] = l(o, function (e) { return e.option && e.exist ? u(e.exist, e.option, !0) : e.exist || e.option }) } else e[i] = u(n, t, !0) } }) }h.prototype = { constructor: h, setOption: function (e, t) { e && n.each(a.normalizeToArray(e.series), function (e) { e && e.data && n.isTypedArray(e.data) && n.setAsPrimitive(e.data) }), e = s(e); var i = this._optionBackup; var r = d.call(this, e, t, !i); this._newBaseOption = r.baseOption, i ? (m(i.baseOption, r.baseOption), r.timelineOptions.length && (i.timelineOptions = r.timelineOptions), r.mediaList.length && (i.mediaList = r.mediaList), r.mediaDefault && (i.mediaDefault = r.mediaDefault)) : this._optionBackup = r }, mountOption: function (e) { var t = this._optionBackup; return this._timelineOptions = l(t.timelineOptions, s), this._mediaList = l(t.mediaList, s), this._mediaDefault = s(t.mediaDefault), this._currentMediaIndices = [], s(e ? t.baseOption : this._newBaseOption) }, getTimelineOption: function (e) { var t; var i = this._timelineOptions; if (i.length) { var n = e.getComponent('timeline'); n && (t = s(i[n.getCurrentIndex()], !0)) } return t }, getMediaOption: function (e) { var t = this._api.getWidth(); var i = this._api.getHeight(); var n = this._mediaList; var a = this._mediaDefault; var r = []; var o = []; if (!n.length && !a) return o; for (var u = 0, c = n.length; u < c; u++)f(n[u].query, t, i) && r.push(u); return !r.length && a && (r = [-1]), r.length && !g(r, this._currentMediaIndices) && (o = l(r, function (e) { return s(e === -1 ? a.option : n[e].option) })), this._currentMediaIndices = r, o } }; var v = h; e.exports = v }, cb11: function (e, t, i) { var n = i('cbe5'); var a = i('9cf9'); var r = a.subPixelOptimizeLine; var o = {}; var s = n.extend({ type: 'line', shape: { x1: 0, y1: 0, x2: 0, y2: 0, percent: 1 }, style: { stroke: '#000', fill: null }, buildPath: function (e, t) { var i, n, a, s; this.subPixelOptimize ? (r(o, t, this.style), i = o.x1, n = o.y1, a = o.x2, s = o.y2) : (i = t.x1, n = t.y1, a = t.x2, s = t.y2); var l = t.percent; l !== 0 && (e.moveTo(i, n), l < 1 && (a = i * (1 - l) + a * l, s = n * (1 - l) + s * l), e.lineTo(a, s)) }, pointAt: function (e) { var t = this.shape; return [t.x1 * (1 - e) + t.x2 * e, t.y1 * (1 - e) + t.y2 * e] } }); e.exports = s }, cb69: function (e, t, i) { var n = i('3301'); var a = i('4f85'); var r = a.extend({ type: 'series.scatter', dependencies: ['grid', 'polar', 'geo', 'singleAxis', 'calendar'], getInitialData: function (e, t) { return n(this.getSource(), this, { useEncodeDefaulter: !0 }) }, brushSelector: 'point', getProgressive: function () { var e = this.option.progressive; return e == null ? this.option.large ? 5e3 : this.get('progressive') : e }, getProgressiveThreshold: function () { var e = this.option.progressiveThreshold; return e == null ? this.option.large ? 1e4 : this.get('progressiveThreshold') : e }, defaultOption: { coordinateSystem: 'cartesian2d', zlevel: 0, z: 2, legendHoverLink: !0, hoverAnimation: !0, symbolSize: 10, large: !1, largeThreshold: 2e3, itemStyle: { opacity: 0.8 }, clip: !0 } }); e.exports = r }, cb6d: function (e, t) { function i () { this.on('mousedown', this._dragStart, this), this.on('mousemove', this._drag, this), this.on('mouseup', this._dragEnd, this) } function n (e, t) { return { target: e, topTarget: t && t.topTarget } }i.prototype = { constructor: i, _dragStart: function (e) { var t = e.target; while (t && !t.draggable)t = t.parent; t && (this._draggingTarget = t, t.dragging = !0, this._x = e.offsetX, this._y = e.offsetY, this.dispatchToElement(n(t, e), 'dragstart', e.event)) }, _drag: function (e) { var t = this._draggingTarget; if (t) { var i = e.offsetX; var a = e.offsetY; var r = i - this._x; var o = a - this._y; this._x = i, this._y = a, t.drift(r, o, e), this.dispatchToElement(n(t, e), 'drag', e.event); var s = this.findHover(i, a, t).target; var l = this._dropTarget; this._dropTarget = s, t !== s && (l && s !== l && this.dispatchToElement(n(l, e), 'dragleave', e.event), s && s !== l && this.dispatchToElement(n(s, e), 'dragenter', e.event)) } }, _dragEnd: function (e) { var t = this._draggingTarget; t && (t.dragging = !1), this.dispatchToElement(n(t, e), 'dragend', e.event), this._dropTarget && this.dispatchToElement(n(this._dropTarget, e), 'drop', e.event), this._draggingTarget = null, this._dropTarget = null } }; var a = i; e.exports = a }, cb73: function (e, t, i) { var n = i('3842'); var a = n.parsePercent; var r = i('6d8b'); var o = Math.PI / 180; function s (e, t, i, n) { t.eachSeriesByType(e, function (e) { var t = e.get('center'); var n = e.get('radius'); r.isArray(n) || (n = [0, n]), r.isArray(t) || (t = [t, t]); var s = i.getWidth(); var u = i.getHeight(); var c = Math.min(s, u); var h = a(t[0], s); var d = a(t[1], u); var f = a(n[0], c / 2); var p = a(n[1], c / 2); var g = -e.get('startAngle') * o; var m = e.get('minAngle') * o; var v = e.getData().tree.root; var y = e.getViewRoot(); var x = y.depth; var _ = e.get('sort'); _ != null && l(y, _); var b = 0; r.each(y.children, function (e) { !isNaN(e.getValue()) && b++ }); var w = y.getValue(); var S = Math.PI / (w || b) * 2; var M = y.depth > 0; var I = y.height - (M ? -1 : 1); var A = (p - f) / (I || 1); var T = e.get('clockwise'); var C = e.get('stillShowZeroSum'); var D = T ? 1 : -1; var L = function (e, t) { if (e) { var i = t; if (e !== v) { var n = e.getValue(); var o = w === 0 && C ? S : n * S; o < m && (o = m), i = t + D * o; var s = e.depth - x - (M ? -1 : 1); var l = f + A * s; var u = f + A * (s + 1); var p = e.getModel(); p.get('r0') != null && (l = a(p.get('r0'), c / 2)), p.get('r') != null && (u = a(p.get('r'), c / 2)), e.setLayout({ angle: o, startAngle: t, endAngle: i, clockwise: T, cx: h, cy: d, r0: l, r: u }) } if (e.children && e.children.length) { var g = 0; r.each(e.children, function (e) { g += L(e, t + g) }) } return i - t } }; if (M) { var P = f; var k = f + A; var O = 2 * Math.PI; v.setLayout({ angle: O, startAngle: g, endAngle: g + O, clockwise: T, cx: h, cy: d, r0: P, r: k }) }L(y, g) }) } function l (e, t) { var i = e.children || []; e.children = u(i, t), i.length && r.each(e.children, function (e) { l(e, t) }) } function u (e, t) { if (typeof t === 'function') return e.sort(t); var i = t === 'asc'; return e.sort(function (e, t) { var n = (e.getValue() - t.getValue()) * (i ? 1 : -1); return n === 0 ? (e.dataIndex - t.dataIndex) * (i ? -1 : 1) : n }) }e.exports = s }, cb8f: function (e, t, i) { var n = i('3eba'); var a = i('6d8b'); var r = i('cd33'); var o = i('eb6b'); i('48ac'), i('d4b1'), i('4a9d'), n.registerPreprocessor(function (e) { if (e) { (!e.axisPointer || e.axisPointer.length === 0) && (e.axisPointer = {}); var t = e.axisPointer.link; t && !a.isArray(t) && (e.axisPointer.link = [t]) } }), n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC, function (e, t) { e.getComponent('axisPointer').coordSysAxesInfo = r.collect(e, t) }), n.registerAction({ type: 'updateAxisPointer', event: 'updateAxisPointer', update: ':updateAxisPointer' }, o) }, cbb0: function (e, t, i) { var n = i('6d8b'); var a = i('f934'); var r = a.getLayoutRect; function o (e, t, i) { var n = e.option; var a = n.align; if (a != null && a !== 'auto') return a; for (var o = { width: t.getWidth(), height: t.getHeight() }, s = n.orient === 'horizontal' ? 1 : 0, l = [['left', 'right', 'width'], ['top', 'bottom', 'height']], u = l[s], c = [0, null, 10], h = {}, d = 0; d < 3; d++)h[l[1 - s][d]] = c[d], h[u[d]] = d === 2 ? i[0] : n[u[d]]; var f = [['x', 'width', 3], ['y', 'height', 0]][s]; var p = r(h, o, n.padding); return u[(p.margin[f[2]] || 0) + p[f[0]] + 0.5 * p[f[1]] < 0.5 * o[f[1]] ? 0 : 1] } function s (e, t) { return n.each(e || [], function (e) { e.dataIndex != null && (e.dataIndexInside = e.dataIndex, e.dataIndex = null), e.highlightKey = 'visualMap' + (t ? t.componentIndex : '') }), e }t.getItemAlign = o, t.makeHighDownBatch = s }, cbe5: function (e, t, i) { var n = i('19eb'); var a = i('6d8b'); var r = i('20c8'); var o = i('d833'); var s = i('dc2f'); var l = s.prototype.getCanvasPattern; var u = Math.abs; var c = new r(!0); function h (e) { n.call(this, e), this.path = null }h.prototype = { constructor: h, type: 'path', __dirtyPath: !0, strokeContainThreshold: 5, segmentIgnoreThreshold: 0, subPixelOptimize: !1, brush: function (e, t) { var i; var n = this.style; var a = this.path || c; var r = n.hasStroke(); var o = n.hasFill(); var s = n.fill; var u = n.stroke; var h = o && !!s.colorStops; var d = r && !!u.colorStops; var f = o && !!s.image; var p = r && !!u.image; (n.bind(e, this, t), this.setTransform(e), this.__dirty) && (h && (i = i || this.getBoundingRect(), this._fillGradient = n.getGradient(e, s, i)), d && (i = i || this.getBoundingRect(), this._strokeGradient = n.getGradient(e, u, i))); h ? e.fillStyle = this._fillGradient : f && (e.fillStyle = l.call(s, e)), d ? e.strokeStyle = this._strokeGradient : p && (e.strokeStyle = l.call(u, e)); var g = n.lineDash; var m = n.lineDashOffset; var v = !!e.setLineDash; var y = this.getGlobalScale(); if (a.setScale(y[0], y[1], this.segmentIgnoreThreshold), this.__dirtyPath || g && !v && r ? (a.beginPath(e), g && !v && (a.setLineDash(g), a.setLineDashOffset(m)), this.buildPath(a, this.shape, !1), this.path && (this.__dirtyPath = !1)) : (e.beginPath(), this.path.rebuildPath(e)), o) if (n.fillOpacity != null) { var x = e.globalAlpha; e.globalAlpha = n.fillOpacity * n.opacity, a.fill(e), e.globalAlpha = x } else a.fill(e); if (g && v && (e.setLineDash(g), e.lineDashOffset = m), r) if (n.strokeOpacity != null) { x = e.globalAlpha; e.globalAlpha = n.strokeOpacity * n.opacity, a.stroke(e), e.globalAlpha = x } else a.stroke(e); g && v && e.setLineDash([]), n.text != null && (this.restoreTransform(e), this.drawRectText(e, this.getBoundingRect())) }, buildPath: function (e, t, i) {}, createPathProxy: function () { this.path = new r() }, getBoundingRect: function () { var e = this._rect; var t = this.style; var i = !e; if (i) { var n = this.path; n || (n = this.path = new r()), this.__dirtyPath && (n.beginPath(), this.buildPath(n, this.shape, !1)), e = n.getBoundingRect() } if (this._rect = e, t.hasStroke()) { var a = this._rectWithStroke || (this._rectWithStroke = e.clone()); if (this.__dirty || i) { a.copy(e); var o = t.lineWidth; var s = t.strokeNoScale ? this.getLineScale() : 1; t.hasFill() || (o = Math.max(o, this.strokeContainThreshold || 4)), s > 1e-10 && (a.width += o / s, a.height += o / s, a.x -= o / s / 2, a.y -= o / s / 2) } return a } return e }, contain: function (e, t) { var i = this.transformCoordToLocal(e, t); var n = this.getBoundingRect(); var a = this.style; if (e = i[0], t = i[1], n.contain(e, t)) { var r = this.path.data; if (a.hasStroke()) { var s = a.lineWidth; var l = a.strokeNoScale ? this.getLineScale() : 1; if (l > 1e-10 && (a.hasFill() || (s = Math.max(s, this.strokeContainThreshold)), o.containStroke(r, s / l, e, t))) return !0 } if (a.hasFill()) return o.contain(r, e, t) } return !1 }, dirty: function (e) { e == null && (e = !0), e && (this.__dirtyPath = e, this._rect = null), this.__dirty = this.__dirtyText = !0, this.__zr && this.__zr.refresh(), this.__clipTarget && this.__clipTarget.dirty() }, animateShape: function (e) { return this.animate('shape', e) }, attrKV: function (e, t) { e === 'shape' ? (this.setShape(t), this.__dirtyPath = !0, this._rect = null) : n.prototype.attrKV.call(this, e, t) }, setShape: function (e, t) { var i = this.shape; if (i) { if (a.isObject(e)) for (var n in e)e.hasOwnProperty(n) && (i[n] = e[n]); else i[e] = t; this.dirty(!0) } return this }, getLineScale: function () { var e = this.transform; return e && u(e[0] - 1) > 1e-10 && u(e[3] - 1) > 1e-10 ? Math.sqrt(u(e[0] * e[3] - e[2] * e[1])) : 1 } }, h.extend = function (e) { var t = function (t) { h.call(this, t), e.style && this.style.extendFrom(e.style, !1); var i = e.shape; if (i) { this.shape = this.shape || {}; var n = this.shape; for (var a in i)!n.hasOwnProperty(a) && i.hasOwnProperty(a) && (n[a] = i[a]) }e.init && e.init.call(this, t) }; for (var i in a.inherits(t, h), e)i !== 'style' && i !== 'shape' && (t.prototype[i] = e[i]); return t }, a.inherits(h, n); var d = h; e.exports = d }, cbe9: function (e, t, i) { var n = i('6d8b'); var a = i('9850'); var r = i('cf7e'); function o (e) { r.call(this, e) }o.prototype = { constructor: o, type: 'cartesian2d', dimensions: ['x', 'y'], getBaseAxis: function () { return this.getAxesByScale('ordinal')[0] || this.getAxesByScale('time')[0] || this.getAxis('x') }, containPoint: function (e) { var t = this.getAxis('x'); var i = this.getAxis('y'); return t.contain(t.toLocalCoord(e[0])) && i.contain(i.toLocalCoord(e[1])) }, containData: function (e) { return this.getAxis('x').containData(e[0]) && this.getAxis('y').containData(e[1]) }, dataToPoint: function (e, t, i) { var n = this.getAxis('x'); var a = this.getAxis('y'); return i = i || [], i[0] = n.toGlobalCoord(n.dataToCoord(e[0])), i[1] = a.toGlobalCoord(a.dataToCoord(e[1])), i }, clampData: function (e, t) { var i = this.getAxis('x').scale; var n = this.getAxis('y').scale; var a = i.getExtent(); var r = n.getExtent(); var o = i.parse(e[0]); var s = n.parse(e[1]); return t = t || [], t[0] = Math.min(Math.max(Math.min(a[0], a[1]), o), Math.max(a[0], a[1])), t[1] = Math.min(Math.max(Math.min(r[0], r[1]), s), Math.max(r[0], r[1])), t }, pointToData: function (e, t) { var i = this.getAxis('x'); var n = this.getAxis('y'); return t = t || [], t[0] = i.coordToData(i.toLocalCoord(e[0])), t[1] = n.coordToData(n.toLocalCoord(e[1])), t }, getOtherAxis: function (e) { return this.getAxis(e.dim === 'x' ? 'y' : 'x') }, getArea: function () { var e = this.getAxis('x').getGlobalExtent(); var t = this.getAxis('y').getGlobalExtent(); var i = Math.min(e[0], e[1]); var n = Math.min(t[0], t[1]); var r = Math.max(e[0], e[1]) - i; var o = Math.max(t[0], t[1]) - n; var s = new a(i, n, r, o); return s } }, n.inherits(o, r); var s = o; e.exports = s }, cc39: function (e, t, i) { var n = i('6d8b'); var a = i('3842'); var r = i('50e5'); var o = i('ef6a'); var s = n.each; var l = a.asc; var u = function (e, t, i, n) { this._dimName = e, this._axisIndex = t, this._valueWindow, this._percentWindow, this._dataExtent, this._minMaxSpan, this.ecModel = n, this._dataZoomModel = i }; function c (e, t, i) { var n = [1 / 0, -1 / 0]; return s(i, function (e) { var i = e.getData(); i && s(i.mapDimension(t, !0), function (e) { var t = i.getApproximateExtent(e); t[0] < n[0] && (n[0] = t[0]), t[1] > n[1] && (n[1] = t[1]) }) }), n[1] < n[0] && (n = [NaN, NaN]), h(e, n), n } function h (e, t) { var i = e.getAxisModel(); var n = i.getMin(!0); var a = i.get('type') === 'category'; var r = a && i.getCategories().length; n != null && n !== 'dataMin' && typeof n !== 'function' ? t[0] = n : a && (t[0] = r > 0 ? 0 : NaN); var o = i.getMax(!0); return o != null && o !== 'dataMax' && typeof o !== 'function' ? t[1] = o : a && (t[1] = r > 0 ? r - 1 : NaN), i.get('scale', !0) || (t[0] > 0 && (t[0] = 0), t[1] < 0 && (t[1] = 0)), t } function d (e, t) { var i = e.getAxisModel(); var n = e._percentWindow; var r = e._valueWindow; if (n) { var o = a.getPixelPrecision(r, [0, 500]); o = Math.min(o, 20); var s = t || n[0] === 0 && n[1] === 100; i.setRange(s ? null : +r[0].toFixed(o), s ? null : +r[1].toFixed(o)) } } function f (e) { var t = e._minMaxSpan = {}; var i = e._dataZoomModel; var n = e._dataExtent; s(['min', 'max'], function (r) { var o = i.get(r + 'Span'); var s = i.get(r + 'ValueSpan'); s != null && (s = e.getAxisModel().axis.scale.parse(s)), s != null ? o = a.linearMap(n[0] + s, n, [0, 100], !0) : o != null && (s = a.linearMap(o, [0, 100], n, !0) - n[0]), t[r + 'Span'] = o, t[r + 'ValueSpan'] = s }) }u.prototype = { constructor: u, hostedBy: function (e) { return this._dataZoomModel === e }, getDataValueWindow: function () { return this._valueWindow.slice() }, getDataPercentWindow: function () { return this._percentWindow.slice() }, getTargetSeriesModels: function () { var e = []; var t = this.ecModel; return t.eachSeries(function (i) { if (r.isCoordSupported(i.get('coordinateSystem'))) { var n = this._dimName; var a = t.queryComponents({ mainType: n + 'Axis', index: i.get(n + 'AxisIndex'), id: i.get(n + 'AxisId') })[0]; this._axisIndex === (a && a.componentIndex) && e.push(i) } }, this), e }, getAxisModel: function () { return this.ecModel.getComponent(this._dimName + 'Axis', this._axisIndex) }, getOtherAxisModel: function () { var e; var t; var i; var n = this._dimName; var a = this.ecModel; var r = this.getAxisModel(); var o = n === 'x' || n === 'y'; return o ? (t = 'gridIndex', e = n === 'x' ? 'y' : 'x') : (t = 'polarIndex', e = n === 'angle' ? 'radius' : 'angle'), a.eachComponent(e + 'Axis', function (e) { (e.get(t) || 0) === (r.get(t) || 0) && (i = e) }), i }, getMinMaxSpan: function () { return n.clone(this._minMaxSpan) }, calculateDataWindow: function (e) { var t; var i = this._dataExtent; var n = this.getAxisModel(); var r = n.axis.scale; var u = this._dataZoomModel.getRangePropMode(); var c = [0, 100]; var h = []; var d = []; s(['start', 'end'], function (n, o) { var s = e[n]; var l = e[n + 'Value']; u[o] === 'percent' ? (s == null && (s = c[o]), l = r.parse(a.linearMap(s, c, i))) : (t = !0, l = l == null ? i[o] : r.parse(l), s = a.linearMap(l, i, c)), d[o] = l, h[o] = s }), l(d), l(h); var f = this._minMaxSpan; function p (e, t, i, n, s) { var l = s ? 'Span' : 'ValueSpan'; o(0, e, i, 'all', f['min' + l], f['max' + l]); for (var u = 0; u < 2; u++)t[u] = a.linearMap(e[u], i, n, !0), s && (t[u] = r.parse(t[u])) } return t ? p(d, h, i, c, !1) : p(h, d, c, i, !0), { valueWindow: d, percentWindow: h } }, reset: function (e) { if (e === this._dataZoomModel) { var t = this.getTargetSeriesModels(); this._dataExtent = c(this, this._dimName, t), f(this); var i = this.calculateDataWindow(e.settledOption); this._valueWindow = i.valueWindow, this._percentWindow = i.percentWindow, d(this) } }, restore: function (e) { e === this._dataZoomModel && (this._valueWindow = this._percentWindow = null, d(this, !0)) }, filterData: function (e, t) { if (e === this._dataZoomModel) { var i = this._dimName; var n = this.getTargetSeriesModels(); var a = e.get('filterMode'); var r = this._valueWindow; a !== 'none' && s(n, function (e) { var t = e.getData(); var n = t.mapDimension(i, !0); n.length && (a === 'weakFilter' ? t.filterSelf(function (e) { for (var i, a, o, s = 0; s < n.length; s++) { var l = t.get(n[s], e); var u = !isNaN(l); var c = l < r[0]; var h = l > r[1]; if (u && !c && !h) return !0; u && (o = !0), c && (i = !0), h && (a = !0) } return o && i && a }) : s(n, function (i) { if (a === 'empty')e.setData(t = t.map(i, function (e) { return o(e) ? e : NaN })); else { var n = {}; n[i] = r, t.selectRange(n) } }), s(n, function (e) { t.setApproximateExtent(r, e) })) }) } function o (e) { return e >= r[0] && e <= r[1] } } }; var p = u; e.exports = p }, cccd: function (e, t, i) { var n = i('e0d3'); var a = n.makeInner; function r () { var e = a(); return function (t) { var i = e(t); var n = t.pipelineContext; var a = i.large; var r = i.progressiveRender; var o = i.large = n && n.large; var s = i.progressiveRender = n && n.progressiveRender; return !!(a ^ o || r ^ s) && 'reset' } }e.exports = r }, cd12: function (e, t, i) { i('01ed'), i('4a9d'), i('cb8f') }, cd33: function (e, t, i) { var n = i('6d8b'); var a = i('4319'); var r = n.each; var o = n.curry; function s (e, t) { var i = { axesInfo: {}, seriesInvolved: !1, coordSysAxesInfo: {}, coordSysMap: {} }; return l(i, e, t), i.seriesInvolved && c(i, e), i } function l (e, t, i) { var n = t.getComponent('tooltip'); var a = t.getComponent('axisPointer'); var s = a.get('link', !0) || []; var l = []; r(i.getCoordinateSystems(), function (i) { if (i.axisPointerEnabled) { var c = v(i.model); var d = e.coordSysAxesInfo[c] = {}; e.coordSysMap[c] = i; var f = i.model; var p = f.getModel('tooltip', n); if (r(i.getAxes(), o(_, !1, null)), i.getTooltipAxes && n && p.get('show')) { var g = p.get('trigger') === 'axis'; var y = p.get('axisPointer.type') === 'cross'; var x = i.getTooltipAxes(p.get('axisPointer.axis')); (g || y) && r(x.baseAxes, o(_, !y || 'cross', g)), y && r(x.otherAxes, o(_, 'cross', !1)) } } function _ (n, r, o) { var c = o.model.getModel('axisPointer', a); var f = c.get('show'); if (f && (f !== 'auto' || n || m(c))) { r == null && (r = c.get('triggerTooltip')), c = n ? u(o, p, a, t, n, r) : c; var g = c.get('snap'); var y = v(o.model); var x = r || g || o.type === 'category'; var _ = e.axesInfo[y] = { key: y, axis: o, coordSys: i, axisPointerModel: c, triggerTooltip: r, involveSeries: x, snap: g, useHandle: m(c), seriesModels: [] }; d[y] = _, e.seriesInvolved |= x; var b = h(s, o); if (b != null) { var w = l[b] || (l[b] = { axesInfo: {} }); w.axesInfo[y] = _, w.mapper = s[b].mapper, _.linkGroup = w } } } }) } function u (e, t, i, o, s, l) { var u = t.getModel('axisPointer'); var c = {}; r(['type', 'snap', 'lineStyle', 'shadowStyle', 'label', 'animation', 'animationDurationUpdate', 'animationEasingUpdate', 'z'], function (e) { c[e] = n.clone(u.get(e)) }), c.snap = e.type !== 'category' && !!l, u.get('type') === 'cross' && (c.type = 'line'); var h = c.label || (c.label = {}); if (h.show == null && (h.show = !1), s === 'cross') { var d = u.get('label.show'); if (h.show = d == null || d, !l) { var f = c.lineStyle = u.get('crossStyle'); f && n.defaults(h, f.textStyle) } } return e.model.getModel('axisPointer', new a(c, i, o)) } function c (e, t) { t.eachSeries(function (t) { var i = t.coordinateSystem; var n = t.get('tooltip.trigger', !0); var a = t.get('tooltip.show', !0); i && n !== 'none' && !1 !== n && n !== 'item' && !1 !== a && !1 !== t.get('axisPointer.show', !0) && r(e.coordSysAxesInfo[v(i.model)], function (e) { var n = e.axis; i.getAxis(n.dim) === n && (e.seriesModels.push(t), e.seriesDataCount == null && (e.seriesDataCount = 0), e.seriesDataCount += t.getData().count()) }) }, this) } function h (e, t) { for (var i = t.model, n = t.dim, a = 0; a < e.length; a++) { var r = e[a] || {}; if (d(r[n + 'AxisId'], i.id) || d(r[n + 'AxisIndex'], i.componentIndex) || d(r[n + 'AxisName'], i.name)) return a } } function d (e, t) { return e === 'all' || n.isArray(e) && n.indexOf(e, t) >= 0 || e === t } function f (e) { var t = p(e); if (t) { var i = t.axisPointerModel; var n = t.axis.scale; var a = i.option; var r = i.get('status'); var o = i.get('value'); o != null && (o = n.parse(o)); var s = m(i); r == null && (a.status = s ? 'show' : 'hide'); var l = n.getExtent().slice(); l[0] > l[1] && l.reverse(), (o == null || o > l[1]) && (o = l[1]), o < l[0] && (o = l[0]), a.value = o, s && (a.status = t.axis.scale.isBlank() ? 'hide' : 'show') } } function p (e) { var t = (e.ecModel.getComponent('axisPointer') || {}).coordSysAxesInfo; return t && t.axesInfo[v(e)] } function g (e) { var t = p(e); return t && t.axisPointerModel } function m (e) { return !!e.get('handle.show') } function v (e) { return e.type + '||' + e.id }t.collect = s, t.fixValue = f, t.getAxisInfo = p, t.getAxisPointerModel = g, t.makeKey = v }, cd84: function (e, t, i) { var n = i('6d8b'); var a = 256; function r () { var e = n.createCanvas(); this.canvas = e, this.blurSize = 30, this.pointSize = 20, this.maxOpacity = 1, this.minOpacity = 0, this._gradientPixels = {} }r.prototype = { update: function (e, t, i, n, r, o) { var s = this._getBrush(); var l = this._getGradient(e, r, 'inRange'); var u = this._getGradient(e, r, 'outOfRange'); var c = this.pointSize + this.blurSize; var h = this.canvas; var d = h.getContext('2d'); var f = e.length; h.width = t, h.height = i; for (var p = 0; p < f; ++p) { var g = e[p]; var m = g[0]; var v = g[1]; var y = g[2]; var x = n(y); d.globalAlpha = x, d.drawImage(s, m - c, v - c) } if (!h.width || !h.height) return h; var _ = d.getImageData(0, 0, h.width, h.height); var b = _.data; var w = 0; var S = b.length; var M = this.minOpacity; var I = this.maxOpacity; var A = I - M; while (w < S) { x = b[w + 3] / 256; var T = 4 * Math.floor(x * (a - 1)); if (x > 0) { var C = o(x) ? l : u; x > 0 && (x = x * A + M), b[w++] = C[T], b[w++] = C[T + 1], b[w++] = C[T + 2], b[w++] = C[T + 3] * x * 256 } else w += 4 } return d.putImageData(_, 0, 0), h }, _getBrush: function () { var e = this._brushCanvas || (this._brushCanvas = n.createCanvas()); var t = this.pointSize + this.blurSize; var i = 2 * t; e.width = i, e.height = i; var a = e.getContext('2d'); return a.clearRect(0, 0, i, i), a.shadowOffsetX = i, a.shadowBlur = this.blurSize, a.shadowColor = '#000', a.beginPath(), a.arc(-t, t, this.pointSize, 0, 2 * Math.PI, !0), a.closePath(), a.fill(), e }, _getGradient: function (e, t, i) { for (var n = this._gradientPixels, a = n[i] || (n[i] = new Uint8ClampedArray(1024)), r = [0, 0, 0, 0], o = 0, s = 0; s < 256; s++)t[i](s / 255, !0, r), a[o++] = r[0], a[o++] = r[1], a[o++] = r[2], a[o++] = r[3]; return a } }; var o = r; e.exports = o }, cdaa: function (e, t, i) { var n = i('607d'); var a = n.addEventListener; var r = n.removeEventListener; var o = n.normalizeEvent; var s = n.getNativeEvent; var l = i('6d8b'); var u = i('1fab'); var c = i('22d1'); var h = 300; var d = c.domSupported; var f = (function () { var e = ['click', 'dblclick', 'mousewheel', 'mouseout', 'mouseup', 'mousedown', 'mousemove', 'contextmenu']; var t = ['touchstart', 'touchend', 'touchmove']; var i = { pointerdown: 1, pointerup: 1, pointermove: 1, pointerout: 1 }; var n = l.map(e, function (e) { var t = e.replace('mouse', 'pointer'); return i.hasOwnProperty(t) ? t : e }); return { mouse: e, touch: t, pointer: n } }()); var p = { mouse: ['mousemove', 'mouseup'], pointer: ['pointermove', 'pointerup'] }; function g (e) { return e === 'mousewheel' && c.browser.firefox ? 'DOMMouseScroll' : e } function m (e) { var t = e.pointerType; return t === 'pen' || t === 'touch' } function v (e) { e.touching = !0, e.touchTimer != null && (clearTimeout(e.touchTimer), e.touchTimer = null), e.touchTimer = setTimeout(function () { e.touching = !1, e.touchTimer = null }, 700) } function y (e) { e && (e.zrByTouch = !0) } function x (e, t) { return o(e.dom, new b(e, t), !0) } function _ (e, t) { var i = t; var n = !1; while (i && i.nodeType !== 9 && !(n = i.domBelongToZr || i !== t && i === e.painterRoot))i = i.parentNode; return n } function b (e, t) { this.type = t.type, this.target = this.currentTarget = e.dom, this.pointerType = t.pointerType, this.clientX = t.clientX, this.clientY = t.clientY } var w = b.prototype; w.stopPropagation = w.stopImmediatePropagation = w.preventDefault = l.noop; var S = { mousedown: function (e) { e = o(this.dom, e), this._mayPointerCapture = [e.zrX, e.zrY], this.trigger('mousedown', e) }, mousemove: function (e) { e = o(this.dom, e); var t = this._mayPointerCapture; !t || e.zrX === t[0] && e.zrY === t[1] || D(this, !0), this.trigger('mousemove', e) }, mouseup: function (e) { e = o(this.dom, e), D(this, !1), this.trigger('mouseup', e) }, mouseout: function (e) { e = o(this.dom, e), this._pointerCapturing && (e.zrEventControl = 'no_globalout'); var t = e.toElement || e.relatedTarget; e.zrIsToLocalDOM = _(this, t), this.trigger('mouseout', e) }, touchstart: function (e) { e = o(this.dom, e), y(e), this._lastTouchMoment = new Date(), this.handler.processGesture(e, 'start'), S.mousemove.call(this, e), S.mousedown.call(this, e) }, touchmove: function (e) { e = o(this.dom, e), y(e), this.handler.processGesture(e, 'change'), S.mousemove.call(this, e) }, touchend: function (e) { e = o(this.dom, e), y(e), this.handler.processGesture(e, 'end'), S.mouseup.call(this, e), +new Date() - this._lastTouchMoment < h && S.click.call(this, e) }, pointerdown: function (e) { S.mousedown.call(this, e) }, pointermove: function (e) { m(e) || S.mousemove.call(this, e) }, pointerup: function (e) { S.mouseup.call(this, e) }, pointerout: function (e) { m(e) || S.mouseout.call(this, e) } }; l.each(['click', 'mousewheel', 'dblclick', 'contextmenu'], function (e) { S[e] = function (t) { t = o(this.dom, t), this.trigger(e, t) } }); var M = { pointermove: function (e) { m(e) || M.mousemove.call(this, e) }, pointerup: function (e) { M.mouseup.call(this, e) }, mousemove: function (e) { this.trigger('mousemove', e) }, mouseup: function (e) { var t = this._pointerCapturing; D(this, !1), this.trigger('mouseup', e), t && (e.zrEventControl = 'only_globalout', this.trigger('mouseout', e)) } }; function I (e, t) { var i = t.domHandlers; c.pointerEventsSupported ? l.each(f.pointer, function (n) { T(t, n, function (t) { i[n].call(e, t) }) }) : (c.touchEventsSupported && l.each(f.touch, function (n) { T(t, n, function (a) { i[n].call(e, a), v(t) }) }), l.each(f.mouse, function (n) { T(t, n, function (a) { a = s(a), t.touching || i[n].call(e, a) }) })) } function A (e, t) { function i (i) { function n (n) { n = s(n), _(e, n.target) || (n = x(e, n), t.domHandlers[i].call(e, n)) }T(t, i, n, { capture: !0 }) }c.pointerEventsSupported ? l.each(p.pointer, i) : c.touchEventsSupported || l.each(p.mouse, i) } function T (e, t, i, n) { e.mounted[t] = i, e.listenerOpts[t] = n, a(e.domTarget, g(t), i, n) } function C (e) { var t = e.mounted; for (var i in t)t.hasOwnProperty(i) && r(e.domTarget, g(i), t[i], e.listenerOpts[i]); e.mounted = {} } function D (e, t) { if (e._mayPointerCapture = null, d && e._pointerCapturing ^ t) { e._pointerCapturing = t; var i = e._globalHandlerScope; t ? A(e, i) : C(i) } } function L (e, t) { this.domTarget = e, this.domHandlers = t, this.mounted = {}, this.listenerOpts = {}, this.touchTimer = null, this.touching = !1 } function P (e, t) { u.call(this), this.dom = e, this.painterRoot = t, this._localHandlerScope = new L(e, S), d && (this._globalHandlerScope = new L(document, M)), this._pointerCapturing = !1, this._mayPointerCapture = null, I(this, this._localHandlerScope) } var k = P.prototype; k.dispose = function () { C(this._localHandlerScope), d && C(this._globalHandlerScope) }, k.setCursor = function (e) { this.dom.style && (this.dom.style.cursor = e || 'default') }, l.mixin(P, u); var O = P; e.exports = O }, cee1: function (e, t, i) { var n = i('6d8b'); function a (e) { var t = {}; e.eachSeriesByType('map', function (i) { var a = i.getMapType(); if (!i.getHostGeoModel() && !t[a]) { var r = {}; n.each(i.seriesGroup, function (t) { var i = t.coordinateSystem; var n = t.originalData; t.get('showLegendSymbol') && e.getComponent('legend') && n.each(n.mapDimension('value'), function (e, t) { var a = n.getName(t); var o = i.getRegion(a); if (o && !isNaN(e)) { var s = r[a] || 0; var l = i.dataToPoint(o.center); r[a] = s + 1, n.setItemLayout(t, { point: l, offset: s }) } }) }); var o = i.getData(); o.each(function (e) { var t = o.getName(e); var i = o.getItemLayout(e) || {}; i.showLabel = !r[t], o.setItemLayout(e, i) }), t[a] = !0 } }) }e.exports = a }, cf7e: function (e, t, i) { var n = i('6d8b'); function a (e) { return this._axes[e] } var r = function (e) { this._axes = {}, this._dimList = [], this.name = e || '' }; r.prototype = { constructor: r, type: 'cartesian', getAxis: function (e) { return this._axes[e] }, getAxes: function () { return n.map(this._dimList, a, this) }, getAxesByScale: function (e) { return e = e.toLowerCase(), n.filter(this.getAxes(), function (t) { return t.scale.type === e }) }, addAxis: function (e) { var t = e.dim; this._axes[t] = e, this._dimList.push(t) }, dataToCoord: function (e) { return this._dataCoordConvert(e, 'dataToCoord') }, coordToData: function (e) { return this._dataCoordConvert(e, 'coordToData') }, _dataCoordConvert: function (e, t) { for (var i = this._dimList, n = e instanceof Array ? [] : {}, a = 0; a < i.length; a++) { var r = i[a]; var o = this._axes[r]; n[r] = o[t](e[r]) } return n } }; var o = r; e.exports = o }, d01c: function (e, t, i) { var n = i('4f85'); var a = i('237f'); var r = i('eda2'); var o = r.encodeHTML; var s = i('4319'); var l = i('4e08'); var u = (l.__DEV__, n.extend({ type: 'series.sankey', layoutInfo: null, levelModels: null, getInitialData: function (e, t) { for (var i = e.edges || e.links, n = e.data || e.nodes, r = e.levels, o = this.levelModels = {}, l = 0; l < r.length; l++)r[l].depth != null && r[l].depth >= 0 && (o[r[l].depth] = new s(r[l], this, t)); if (n && i) { var u = a(n, i, this, !0, c); return u.data } function c (e, t) { e.wrapMethod('getItemModel', function (e, t) { return e.customizeGetParent(function (e) { var i = this.parentModel; var n = i.getData().getItemLayout(t).depth; var a = i.levelModels[n]; return a || this.parentModel }), e }), t.wrapMethod('getItemModel', function (e, t) { return e.customizeGetParent(function (e) { var i = this.parentModel; var n = i.getGraph().getEdgeByIndex(t); var a = n.node1.getLayout().depth; var r = i.levelModels[a]; return r || this.parentModel }), e }) } }, setNodePosition: function (e, t) { var i = this.option.data[e]; i.localX = t[0], i.localY = t[1] }, getGraph: function () { return this.getData().graph }, getEdgeData: function () { return this.getGraph().edgeData }, formatTooltip: function (e, t, i) { if (i === 'edge') { var n = this.getDataParams(e, i); var a = n.data; var r = a.source + ' -- ' + a.target; return n.value && (r += ' : ' + n.value), o(r) } if (i === 'node') { var s = this.getGraph().getNodeByIndex(e); var l = s.getLayout().value; var c = this.getDataParams(e, i).data.name; if (l)r = c + ' : ' + l; return o(r) } return u.superCall(this, 'formatTooltip', e, t) }, optionUpdated: function () { var e = this.option; !0 === e.focusNodeAdjacency && (e.focusNodeAdjacency = 'allEdges') }, getDataParams: function (e, t) { var i = u.superCall(this, 'getDataParams', e, t); if (i.value == null && t === 'node') { var n = this.getGraph().getNodeByIndex(e); var a = n.getLayout().value; i.value = a } return i }, defaultOption: { zlevel: 0, z: 2, coordinateSystem: 'view', layout: null, left: '5%', top: '5%', right: '20%', bottom: '5%', orient: 'horizontal', nodeWidth: 20, nodeGap: 8, draggable: !0, focusNodeAdjacency: !1, layoutIterations: 32, label: { show: !0, position: 'right', color: '#000', fontSize: 12 }, levels: [], nodeAlign: 'justify', itemStyle: { borderWidth: 1, borderColor: '#333' }, lineStyle: { color: '#314656', opacity: 0.2, curveness: 0.5 }, emphasis: { label: { show: !0 }, lineStyle: { opacity: 0.5 } }, animationEasing: 'linear', animationDuration: 1e3 } })); var c = u; e.exports = c }, d070: function (e, t, i) { var n = i('3eba'); var a = i('6d8b'); function r (e, t) { t.update = 'updateView', n.registerAction(t, function (t, i) { var n = {}; return i.eachComponent({ mainType: 'geo', query: t }, function (i) { i[e](t.name); var r = i.coordinateSystem; a.each(r.regions, function (e) { n[e.name] = i.isSelected(e.name) || !1 }) }), { selected: n, name: t.name } }) }i('1f1a'), i('eeea'), i('7661'), i('49e8'), r('toggleSelected', { type: 'geoToggleSelect', event: 'geoselectchanged' }), r('select', { type: 'geoSelect', event: 'geoselected' }), r('unSelect', { type: 'geoUnSelect', event: 'geounselected' }) }, d090: function (e, t, i) { var n = i('6d8b'); var a = i('f934'); var r = i('3842'); var o = i('2039'); var s = 864e5; function l (e, t, i) { this._model = e } function u (e, t, i, n) { var a = i.calendarModel; var r = i.seriesModel; var o = a ? a.coordinateSystem : r ? r.coordinateSystem : null; return o === this ? o[e](n) : null }l.prototype = { constructor: l, type: 'calendar', dimensions: ['time', 'value'], getDimensionsInfo: function () { return [{ name: 'time', type: 'time' }, 'value'] }, getRangeInfo: function () { return this._rangeInfo }, getModel: function () { return this._model }, getRect: function () { return this._rect }, getCellWidth: function () { return this._sw }, getCellHeight: function () { return this._sh }, getOrient: function () { return this._orient }, getFirstDayOfWeek: function () { return this._firstDayOfWeek }, getDateInfo: function (e) { e = r.parseDate(e); var t = e.getFullYear(); var i = e.getMonth() + 1; i = i < 10 ? '0' + i : i; var n = e.getDate(); n = n < 10 ? '0' + n : n; var a = e.getDay(); return a = Math.abs((a + 7 - this.getFirstDayOfWeek()) % 7), { y: t, m: i, d: n, day: a, time: e.getTime(), formatedDate: t + '-' + i + '-' + n, date: e } }, getNextNDay: function (e, t) { return t = t || 0, t === 0 || (e = new Date(this.getDateInfo(e).time), e.setDate(e.getDate() + t)), this.getDateInfo(e) }, update: function (e, t) { this._firstDayOfWeek = +this._model.getModel('dayLabel').get('firstDay'), this._orient = this._model.get('orient'), this._lineWidth = this._model.getModel('itemStyle').getItemStyle().lineWidth || 0, this._rangeInfo = this._getRangeInfo(this._initRangeOption()); var i = this._rangeInfo.weeks || 1; var r = ['width', 'height']; var o = this._model.get('cellSize').slice(); var s = this._model.getBoxLayoutParams(); var l = this._orient === 'horizontal' ? [i, 7] : [7, i]; n.each([0, 1], function (e) { h(o, e) && (s[r[e]] = o[e] * l[e]) }); var u = { width: t.getWidth(), height: t.getHeight() }; var c = this._rect = a.getLayoutRect(s, u); function h (e, t) { return e[t] != null && e[t] !== 'auto' }n.each([0, 1], function (e) { h(o, e) || (o[e] = c[r[e]] / l[e]) }), this._sw = o[0], this._sh = o[1] }, dataToPoint: function (e, t) { n.isArray(e) && (e = e[0]), t == null && (t = !0); var i = this.getDateInfo(e); var a = this._rangeInfo; var r = i.formatedDate; if (t && !(i.time >= a.start.time && i.time < a.end.time + s)) return [NaN, NaN]; var o = i.day; var l = this._getRangeInfo([a.start.time, r]).nthWeek; return this._orient === 'vertical' ? [this._rect.x + o * this._sw + this._sw / 2, this._rect.y + l * this._sh + this._sh / 2] : [this._rect.x + l * this._sw + this._sw / 2, this._rect.y + o * this._sh + this._sh / 2] }, pointToData: function (e) { var t = this.pointToDate(e); return t && t.time }, dataToRect: function (e, t) { var i = this.dataToPoint(e, t); return { contentShape: { x: i[0] - (this._sw - this._lineWidth) / 2, y: i[1] - (this._sh - this._lineWidth) / 2, width: this._sw - this._lineWidth, height: this._sh - this._lineWidth }, center: i, tl: [i[0] - this._sw / 2, i[1] - this._sh / 2], tr: [i[0] + this._sw / 2, i[1] - this._sh / 2], br: [i[0] + this._sw / 2, i[1] + this._sh / 2], bl: [i[0] - this._sw / 2, i[1] + this._sh / 2] } }, pointToDate: function (e) { var t = Math.floor((e[0] - this._rect.x) / this._sw) + 1; var i = Math.floor((e[1] - this._rect.y) / this._sh) + 1; var n = this._rangeInfo.range; return this._orient === 'vertical' ? this._getDateByWeeksAndDay(i, t - 1, n) : this._getDateByWeeksAndDay(t, i - 1, n) }, convertToPixel: n.curry(u, 'dataToPoint'), convertFromPixel: n.curry(u, 'pointToData'), _initRangeOption: function () { var e = this._model.get('range'); var t = e; if (n.isArray(t) && t.length === 1 && (t = t[0]), /^\d{4}$/.test(t) && (e = [t + '-01-01', t + '-12-31']), /^\d{4}[\/|-]\d{1,2}$/.test(t)) { var i = this.getDateInfo(t); var a = i.date; a.setMonth(a.getMonth() + 1); var r = this.getNextNDay(a, -1); e = [i.formatedDate, r.formatedDate] }/^\d{4}[\/|-]\d{1,2}[\/|-]\d{1,2}$/.test(t) && (e = [t, t]); var o = this._getRangeInfo(e); return o.start.time > o.end.time && e.reverse(), e }, _getRangeInfo: function (e) { var t; e = [this.getDateInfo(e[0]), this.getDateInfo(e[1])], e[0].time > e[1].time && (t = !0, e.reverse()); var i = Math.floor(e[1].time / s) - Math.floor(e[0].time / s) + 1; var n = new Date(e[0].time); var a = n.getDate(); var r = e[1].date.getDate(); n.setDate(a + i - 1); var o = n.getDate(); if (o !== r) { var l = n.getTime() - e[1].time > 0 ? 1 : -1; while ((o = n.getDate()) !== r && (n.getTime() - e[1].time) * l > 0)i -= l, n.setDate(o - l) } var u = Math.floor((i + e[0].day + 6) / 7); var c = t ? 1 - u : u - 1; return t && e.reverse(), { range: [e[0].formatedDate, e[1].formatedDate], start: e[0], end: e[1], allDay: i, weeks: u, nthWeek: c, fweek: e[0].day, lweek: e[1].day } }, _getDateByWeeksAndDay: function (e, t, i) { var n = this._getRangeInfo(i); if (e > n.weeks || e === 0 && t < n.fweek || e === n.weeks && t > n.lweek) return !1; var a = 7 * (e - 1) - n.fweek + t; var r = new Date(n.start.time); return r.setDate(n.start.d + a), this.getDateInfo(r) } }, l.dimensions = l.prototype.dimensions, l.getDimensionsInfo = l.prototype.getDimensionsInfo, l.create = function (e, t) { var i = []; return e.eachComponent('calendar', function (n) { var a = new l(n, e, t); i.push(a), n.coordinateSystem = a }), e.eachSeries(function (e) { e.get('coordinateSystem') === 'calendar' && (e.coordinateSystem = i[e.get('calendarIndex') || 0]) }), i }, o.register('calendar', l); var c = l; e.exports = c }, d15d: function (e, t, i) { var n = i('6d8b'); var a = n.createHashMap; var r = n.each; function o (e) { var t = a(); e.eachSeries(function (e) { var i = e.get('stack'); if (i) { var n = t.get(i) || t.set(i, []); var a = e.getData(); var r = { stackResultDimension: a.getCalculationInfo('stackResultDimension'), stackedOverDimension: a.getCalculationInfo('stackedOverDimension'), stackedDimension: a.getCalculationInfo('stackedDimension'), stackedByDimension: a.getCalculationInfo('stackedByDimension'), isStackedByIndex: a.getCalculationInfo('isStackedByIndex'), data: a, seriesModel: e }; if (!r.stackedDimension || !r.isStackedByIndex && !r.stackedByDimension) return; n.length && a.setCalculationInfo('stackedOnSeries', n[n.length - 1].seriesModel), n.push(r) } }), t.each(s) } function s (e) { r(e, function (t, i) { var n = []; var a = [NaN, NaN]; var r = [t.stackResultDimension, t.stackedOverDimension]; var o = t.data; var s = t.isStackedByIndex; var l = o.map(r, function (r, l, u) { var c; var h; var d = o.get(t.stackedDimension, u); if (isNaN(d)) return a; s ? h = o.getRawIndex(u) : c = o.get(t.stackedByDimension, u); for (var f = NaN, p = i - 1; p >= 0; p--) { var g = e[p]; if (s || (h = g.data.rawIndexOf(g.stackedByDimension, c)), h >= 0) { var m = g.data.getByRawIndex(g.stackResultDimension, h); if (d >= 0 && m > 0 || d <= 0 && m < 0) { d += m, f = m; break } } } return n[0] = d, n[1] = f, n }); o.hostModel.setData(l), t.data = l }) }e.exports = o }, d28f: function (e, t, i) { var n = i('3eba'); i('84d5'), i('4650'), i('5e97'); var a = i('903c'); var r = i('6cb7'); n.registerProcessor(n.PRIORITY.PROCESSOR.SERIES_FILTER, a), r.registerSubTypeDefaulter('legend', function () { return 'plain' }) }, d2a5: function (e, t, i) { var n = i('3eba'); n.registerAction({ type: 'focusNodeAdjacency', event: 'focusNodeAdjacency', update: 'series:focusNodeAdjacency' }, function () {}), n.registerAction({ type: 'unfocusNodeAdjacency', event: 'unfocusNodeAdjacency', update: 'series:unfocusNodeAdjacency' }, function () {}) }, d2cf: function (e, t, i) { var n = i('6d8b'); var a = i('401b'); var r = i('cb6d'); var o = i('1fab'); var s = i('607d'); var l = i('0b44'); var u = 'silent'; function c (e, t, i) { return { type: e, event: i, target: t.target, topTarget: t.topTarget, cancelBubble: !1, offsetX: i.zrX, offsetY: i.zrY, gestureEvent: i.gestureEvent, pinchX: i.pinchX, pinchY: i.pinchY, pinchScale: i.pinchScale, wheelDelta: i.zrDelta, zrByTouch: i.zrByTouch, which: i.which, stop: h } } function h () { s.stop(this.event) } function d () {}d.prototype.dispose = function () {}; var f = ['click', 'dblclick', 'mousewheel', 'mouseout', 'mouseup', 'mousedown', 'mousemove', 'contextmenu']; var p = function (e, t, i, n) { o.call(this), this.storage = e, this.painter = t, this.painterRoot = n, i = i || new d(), this.proxy = null, this._hovered = {}, this._lastTouchMoment, this._lastX, this._lastY, this._gestureMgr, r.call(this), this.setHandlerProxy(i) }; function g (e, t, i) { if (e[e.rectHover ? 'rectContain' : 'contain'](t, i)) { var n; var a = e; while (a) { if (a.clipPath && !a.clipPath.contain(t, i)) return !1; a.silent && (n = !0), a = a.parent } return !n || u } return !1 } function m (e, t, i) { var n = e.painter; return t < 0 || t > n.getWidth() || i < 0 || i > n.getHeight() }p.prototype = { constructor: p, setHandlerProxy: function (e) { this.proxy && this.proxy.dispose(), e && (n.each(f, function (t) { e.on && e.on(t, this[t], this) }, this), e.handler = this), this.proxy = e }, mousemove: function (e) { var t = e.zrX; var i = e.zrY; var n = m(this, t, i); var a = this._hovered; var r = a.target; r && !r.__zr && (a = this.findHover(a.x, a.y), r = a.target); var o = this._hovered = n ? { x: t, y: i } : this.findHover(t, i); var s = o.target; var l = this.proxy; l.setCursor && l.setCursor(s ? s.cursor : 'default'), r && s !== r && this.dispatchToElement(a, 'mouseout', e), this.dispatchToElement(o, 'mousemove', e), s && s !== r && this.dispatchToElement(o, 'mouseover', e) }, mouseout: function (e) { var t = e.zrEventControl; var i = e.zrIsToLocalDOM; t !== 'only_globalout' && this.dispatchToElement(this._hovered, 'mouseout', e), t !== 'no_globalout' && !i && this.trigger('globalout', { type: 'globalout', event: e }) }, resize: function (e) { this._hovered = {} }, dispatch: function (e, t) { var i = this[e]; i && i.call(this, t) }, dispose: function () { this.proxy.dispose(), this.storage = this.proxy = this.painter = null }, setCursorStyle: function (e) { var t = this.proxy; t.setCursor && t.setCursor(e) }, dispatchToElement: function (e, t, i) { e = e || {}; var n = e.target; if (!n || !n.silent) { var a = 'on' + t; var r = c(t, e, i); while (n) if (n[a] && (r.cancelBubble = n[a].call(n, r)), n.trigger(t, r), n = n.parent, r.cancelBubble) break; r.cancelBubble || (this.trigger(t, r), this.painter && this.painter.eachOtherLayer(function (e) { typeof e[a] === 'function' && e[a].call(e, r), e.trigger && e.trigger(t, r) })) } }, findHover: function (e, t, i) { for (var n = this.storage.getDisplayList(), a = { x: e, y: t }, r = n.length - 1; r >= 0; r--) { var o; if (n[r] !== i && !n[r].ignore && (o = g(n[r], e, t)) && (!a.topTarget && (a.topTarget = n[r]), o !== u)) { a.target = n[r]; break } } return a }, processGesture: function (e, t) { this._gestureMgr || (this._gestureMgr = new l()); var i = this._gestureMgr; t === 'start' && i.clear(); var n = i.recognize(e, this.findHover(e.zrX, e.zrY, null).target, this.proxy.dom); if (t === 'end' && i.clear(), n) { var a = n.type; e.gestureEvent = a, this.dispatchToElement({ target: n.target }, a, n.event) } } }, n.each(['click', 'mousedown', 'mouseup', 'mousewheel', 'dblclick', 'contextmenu'], function (e) { p.prototype[e] = function (t) { var i; var n; var r = t.zrX; var o = t.zrY; var s = m(this, r, o); if (e === 'mouseup' && s || (i = this.findHover(r, o), n = i.target), e === 'mousedown') this._downEl = n, this._downPoint = [t.zrX, t.zrY], this._upEl = n; else if (e === 'mouseup') this._upEl = n; else if (e === 'click') { if (this._downEl !== this._upEl || !this._downPoint || a.dist(this._downPoint, [t.zrX, t.zrY]) > 4) return; this._downPoint = null } this.dispatchToElement(i, e, t) } }), n.mixin(p, o), n.mixin(p, r); var v = p; e.exports = v }, d357: function (e, t, i) { var n = i('6d8b'); var a = n.each; var r = i('1c5f'); var o = r.simpleLayout; var s = r.simpleLayoutEdge; function l (e, t) { e.eachSeriesByType('graph', function (e) { var t = e.get('layout'); var i = e.coordinateSystem; if (i && i.type !== 'view') { var n = e.getData(); var r = []; a(i.dimensions, function (e) { r = r.concat(n.mapDimension(e, !0)) }); for (var l = 0; l < n.count(); l++) { for (var u = [], c = !1, h = 0; h < r.length; h++) { var d = n.get(r[h], l); isNaN(d) || (c = !0), u.push(d) }c ? n.setItemLayout(l, i.dataToPoint(u)) : n.setItemLayout(l, [NaN, NaN]) }s(n.graph, e) } else t && t !== 'none' || o(e) }) }e.exports = l }, d3a0: function (e, t, i) { var n = i('3eba'); var a = i('6d8b'); var r = i('29a8'); var o = i('2145'); var s = r.toolbox.magicType; var l = '__ec_magicType_stack__'; function u (e) { this.model = e }u.defaultOption = { show: !0, type: [], icon: { line: 'M4.1,28.9h7.1l9.3-22l7.4,38l9.7-19.7l3,12.8h14.9M4.1,58h51.4', bar: 'M6.7,22.9h10V48h-10V22.9zM24.9,13h10v35h-10V13zM43.2,2h10v46h-10V2zM3.1,58h53.7', stack: 'M8.2,38.4l-8.4,4.1l30.6,15.3L60,42.5l-8.1-4.1l-21.5,11L8.2,38.4z M51.9,30l-8.1,4.2l-13.4,6.9l-13.9-6.9L8.2,30l-8.4,4.2l8.4,4.2l22.2,11l21.5-11l8.1-4.2L51.9,30z M51.9,21.7l-8.1,4.2L35.7,30l-5.3,2.8L24.9,30l-8.4-4.1l-8.3-4.2l-8.4,4.2L8.2,30l8.3,4.2l13.9,6.9l13.4-6.9l8.1-4.2l8.1-4.1L51.9,21.7zM30.4,2.2L-0.2,17.5l8.4,4.1l8.3,4.2l8.4,4.2l5.5,2.7l5.3-2.7l8.1-4.2l8.1-4.2l8.1-4.1L30.4,2.2z' }, title: a.clone(s.title), option: {}, seriesIndex: {} }; var c = u.prototype; c.getIcons = function () { var e = this.model; var t = e.get('icon'); var i = {}; return a.each(e.get('type'), function (e) { t[e] && (i[e] = t[e]) }), i }; var h = { line: function (e, t, i, n) { if (e === 'bar') return a.merge({ id: t, type: 'line', data: i.get('data'), stack: i.get('stack'), markPoint: i.get('markPoint'), markLine: i.get('markLine') }, n.get('option.line') || {}, !0) }, bar: function (e, t, i, n) { if (e === 'line') return a.merge({ id: t, type: 'bar', data: i.get('data'), stack: i.get('stack'), markPoint: i.get('markPoint'), markLine: i.get('markLine') }, n.get('option.bar') || {}, !0) }, stack: function (e, t, i, n) { var r = i.get('stack') === l; if (e === 'line' || e === 'bar') return n.setIconStatus('stack', r ? 'normal' : 'emphasis'), a.merge({ id: t, stack: r ? '' : l }, n.get('option.stack') || {}, !0) } }; var d = [['line', 'bar'], ['stack']]; c.onclick = function (e, t, i) { var n = this.model; var r = n.get('seriesIndex.' + i); if (h[i]) { var o; var u = { series: [] }; var c = function (t) { var r = t.subType; var o = t.id; var s = h[i](r, o, t, n); s && (a.defaults(s, t.option), u.series.push(s)); var l = t.coordinateSystem; if (l && l.type === 'cartesian2d' && (i === 'line' || i === 'bar')) { var c = l.getAxesByScale('ordinal')[0]; if (c) { var d = c.dim; var f = d + 'Axis'; var p = e.queryComponents({ mainType: f, index: t.get(name + 'Index'), id: t.get(name + 'Id') })[0]; var g = p.componentIndex; u[f] = u[f] || []; for (var m = 0; m <= g; m++)u[f][g] = u[f][g] || {}; u[f][g].boundaryGap = i === 'bar' } } }; if (a.each(d, function (e) { a.indexOf(e, i) >= 0 && a.each(e, function (e) { n.setIconStatus(e, 'normal') }) }), n.setIconStatus(i, 'emphasis'), e.eachComponent({ mainType: 'series', query: r == null ? null : { seriesIndex: r } }, c), i === 'stack') { var f = u.series && u.series[0] && u.series[0].stack === l; o = f ? a.merge({ stack: s.title.tiled }, s.title) : a.clone(s.title) }t.dispatchAction({ type: 'changeMagicType', currentType: i, newOption: u, newTitle: o, featureName: 'magicType' }) } }, n.registerAction({ type: 'changeMagicType', event: 'magicTypeChanged', update: 'prepareAndUpdate' }, function (e, t) { t.mergeOption(e.newOption) }), o.register('magicType', u); var f = u; e.exports = f }, d3a4: function (e, t, i) { var n; var a = i('22d1'); var r = 'urn:schemas-microsoft-com:vml'; var o = typeof window === 'undefined' ? null : window; var s = !1; var l = o && o.document; function u (e) { return n(e) } if (l && !a.canvasSupported) try { !l.namespaces.zrvml && l.namespaces.add('zrvml', r), n = function (e) { return l.createElement('<zrvml:' + e + ' class="zrvml">') } } catch (h) { n = function (e) { return l.createElement('<' + e + ' xmlns="' + r + '" class="zrvml">') } } function c () { if (!s && l) { s = !0; var e = l.styleSheets; e.length < 31 ? l.createStyleSheet().addRule('.zrvml', 'behavior:url(#default#VML)') : e[0].addRule('.zrvml', 'behavior:url(#default#VML)') } }t.doc = l, t.createNode = u, t.initVML = c }, d3f4: function (e, t) { function i (e) { return { seriesType: e, reset: function (e, t) { var i = t.findComponents({ mainType: 'legend' }); if (i && i.length) { var n = e.getData(); n.filterSelf(function (e) { for (var t = n.getName(e), a = 0; a < i.length; a++) if (!i[a].isSelected(t)) return !1; return !0 }) } } } }e.exports = i }, d498: function (e, t, i) { var n = i('cbe5'); var a = i('4fac'); var r = n.extend({ type: 'polyline', shape: { points: null, smooth: !1, smoothConstraint: null }, style: { stroke: '#000', fill: null }, buildPath: function (e, t) { a.buildPath(e, t, !1) } }); e.exports = r }, d4b1: function (e, t, i) { var n = i('3eba'); var a = i('17d6'); var r = n.extendComponentView({ type: 'axisPointer', render: function (e, t, i) { var n = t.getComponent('tooltip'); var r = e.get('triggerOn') || n && n.get('triggerOn') || 'mousemove|click'; a.register('axisPointer', i, function (e, t, i) { r !== 'none' && (e === 'leave' || r.indexOf(e) >= 0) && i({ type: 'updateAxisPointer', currTrigger: e, x: t && t.offsetX, y: t && t.offsetY }) }) }, remove: function (e, t) { a.unregister(t.getZr(), 'axisPointer'), r.superApply(this._model, 'remove', arguments) }, dispose: function (e, t) { a.unregister('axisPointer', t), r.superApply(this._model, 'dispose', arguments) } }); var o = r; e.exports = o }, d4c6: function (e, t, i) { var n = i('cbe5'); var a = n.extend({ type: 'compound', shape: { paths: null }, _updatePathDirty: function () { for (var e = this.__dirtyPath, t = this.shape.paths, i = 0; i < t.length; i++)e = e || t[i].__dirtyPath; this.__dirtyPath = e, this.__dirty = this.__dirty || e }, beforeBrush: function () { this._updatePathDirty(); for (var e = this.shape.paths || [], t = this.getGlobalScale(), i = 0; i < e.length; i++)e[i].path || e[i].createPathProxy(), e[i].path.setScale(t[0], t[1], e[i].segmentIgnoreThreshold) }, buildPath: function (e, t) { for (var i = t.paths || [], n = 0; n < i.length; n++)i[n].buildPath(e, i[n].shape, !0) }, afterBrush: function () { for (var e = this.shape.paths || [], t = 0; t < e.length; t++)e[t].__dirtyPath = !1 }, getBoundingRect: function () { return this._updatePathDirty(), n.prototype.getBoundingRect.call(this) } }); e.exports = a }, d4d1: function (e, t, i) { var n = i('cbe5'); var a = i('401b'); var r = i('897a'); var o = a.min; var s = a.max; var l = a.scaleAndAdd; var u = a.copy; var c = []; var h = []; var d = []; function f (e) { return isNaN(e[0]) || isNaN(e[1]) } function p (e, t, i, n, a, r, o, s, l, u, c) { return u !== 'none' && u ? g.apply(this, arguments) : m.apply(this, arguments) } function g (e, t, i, n, a, r, o, s, l, c, p) { for (var g = 0, m = i, v = 0; v < n; v++) { var y = t[m]; if (m >= a || m < 0) break; if (f(y)) { if (p) { m += r; continue } break } if (m === i)e[r > 0 ? 'moveTo' : 'lineTo'](y[0], y[1]); else if (l > 0) { var x = t[g]; var _ = c === 'y' ? 1 : 0; var b = (y[_] - x[_]) * l; u(h, x), h[_] = x[_] + b, u(d, y), d[_] = y[_] - b, e.bezierCurveTo(h[0], h[1], d[0], d[1], y[0], y[1]) } else e.lineTo(y[0], y[1]); g = m, m += r } return v } function m (e, t, i, n, r, p, g, m, v, y, x) { for (var _ = 0, b = i, w = 0; w < n; w++) { var S = t[b]; if (b >= r || b < 0) break; if (f(S)) { if (x) { b += p; continue } break } if (b === i)e[p > 0 ? 'moveTo' : 'lineTo'](S[0], S[1]), u(h, S); else if (v > 0) { var M = b + p; var I = t[M]; if (x) while (I && f(t[M]))M += p, I = t[M]; var A = 0.5; var T = t[_]; I = t[M]; if (!I || f(I))u(d, S); else { var C, D; if (f(I) && !x && (I = S), a.sub(c, I, T), y === 'x' || y === 'y') { var L = y === 'x' ? 0 : 1; C = Math.abs(S[L] - T[L]), D = Math.abs(S[L] - I[L]) } else C = a.dist(S, T), D = a.dist(S, I); A = D / (D + C), l(d, S, c, -v * (1 - A)) }o(h, h, m), s(h, h, g), o(d, d, m), s(d, d, g), e.bezierCurveTo(h[0], h[1], d[0], d[1], S[0], S[1]), l(h, S, c, v * A) } else e.lineTo(S[0], S[1]); _ = b, b += p } return w } function v (e, t) { var i = [1 / 0, 1 / 0]; var n = [-1 / 0, -1 / 0]; if (t) for (var a = 0; a < e.length; a++) { var r = e[a]; r[0] < i[0] && (i[0] = r[0]), r[1] < i[1] && (i[1] = r[1]), r[0] > n[0] && (n[0] = r[0]), r[1] > n[1] && (n[1] = r[1]) } return { min: t ? i : n, max: t ? n : i } } var y = n.extend({ type: 'ec-polyline', shape: { points: [], smooth: 0, smoothConstraint: !0, smoothMonotone: null, connectNulls: !1 }, style: { fill: null, stroke: '#000' }, brush: r(n.prototype.brush), buildPath: function (e, t) { var i = t.points; var n = 0; var a = i.length; var r = v(i, t.smoothConstraint); if (t.connectNulls) { for (;a > 0; a--) if (!f(i[a - 1])) break; for (;n < a; n++) if (!f(i[n])) break } while (n < a)n += p(e, i, n, a, a, 1, r.min, r.max, t.smooth, t.smoothMonotone, t.connectNulls) + 1 } }); var x = n.extend({ type: 'ec-polygon', shape: { points: [], stackedOnPoints: [], smooth: 0, stackedOnSmooth: 0, smoothConstraint: !0, smoothMonotone: null, connectNulls: !1 }, brush: r(n.prototype.brush), buildPath: function (e, t) { var i = t.points; var n = t.stackedOnPoints; var a = 0; var r = i.length; var o = t.smoothMonotone; var s = v(i, t.smoothConstraint); var l = v(n, t.smoothConstraint); if (t.connectNulls) { for (;r > 0; r--) if (!f(i[r - 1])) break; for (;a < r; a++) if (!f(i[a])) break } while (a < r) { var u = p(e, i, a, r, r, 1, s.min, s.max, t.smooth, o, t.connectNulls); p(e, n, a + u - 1, u, r, -1, l.min, l.max, t.stackedOnSmooth, o, t.connectNulls), a += u + 1, e.closePath() } } }); t.Polyline = y, t.Polygon = x }, d51b: function (e, t) { var i = function () { this.head = null, this.tail = null, this._len = 0 }; var n = i.prototype; n.insert = function (e) { var t = new a(e); return this.insertEntry(t), t }, n.insertEntry = function (e) { this.head ? (this.tail.next = e, e.prev = this.tail, e.next = null, this.tail = e) : this.head = this.tail = e, this._len++ }, n.remove = function (e) { var t = e.prev; var i = e.next; t ? t.next = i : this.head = i, i ? i.prev = t : this.tail = t, e.next = e.prev = null, this._len-- }, n.len = function () { return this._len }, n.clear = function () { this.head = this.tail = null, this._len = 0 }; var a = function (e) { this.value = e, this.next, this.prev }; var r = function (e) { this._list = new i(), this._map = {}, this._maxSize = e || 10, this._lastRemovedEntry = null }; var o = r.prototype; o.put = function (e, t) { var i = this._list; var n = this._map; var r = null; if (n[e] == null) { var o = i.len(); var s = this._lastRemovedEntry; if (o >= this._maxSize && o > 0) { var l = i.head; i.remove(l), delete n[l.key], r = l.value, this._lastRemovedEntry = l }s ? s.value = t : s = new a(t), s.key = e, i.insertEntry(s), n[e] = s } return r }, o.get = function (e) { var t = this._map[e]; var i = this._list; if (t != null) return t !== i.tail && (i.remove(t), i.insertEntry(t)), t.value }, o.clear = function () { this._list.clear(), this._map = {} }; var s = r; e.exports = s }, d5b7: function (e, t, i) { var n = i('de00'); var a = i('1fab'); var r = i('0cde'); var o = i('bd6b'); var s = i('6d8b'); var l = function (e) { r.call(this, e), a.call(this, e), o.call(this, e), this.id = e.id || n() }; l.prototype = { type: 'element', name: '', __zr: null, ignore: !1, clipPath: null, isGroup: !1, drift: function (e, t) { switch (this.draggable) { case 'horizontal':t = 0; break; case 'vertical':e = 0; break } var i = this.transform; i || (i = this.transform = [1, 0, 0, 1, 0, 0]), i[4] += e, i[5] += t, this.decomposeTransform(), this.dirty(!1) }, beforeUpdate: function () {}, afterUpdate: function () {}, update: function () { this.updateTransform() }, traverse: function (e, t) {}, attrKV: function (e, t) { if (e === 'position' || e === 'scale' || e === 'origin') { if (t) { var i = this[e]; i || (i = this[e] = []), i[0] = t[0], i[1] = t[1] } } else this[e] = t }, hide: function () { this.ignore = !0, this.__zr && this.__zr.refresh() }, show: function () { this.ignore = !1, this.__zr && this.__zr.refresh() }, attr: function (e, t) { if (typeof e === 'string') this.attrKV(e, t); else if (s.isObject(e)) for (var i in e)e.hasOwnProperty(i) && this.attrKV(i, e[i]); return this.dirty(!1), this }, setClipPath: function (e) { var t = this.__zr; t && e.addSelfToZr(t), this.clipPath && this.clipPath !== e && this.removeClipPath(), this.clipPath = e, e.__zr = t, e.__clipTarget = this, this.dirty(!1) }, removeClipPath: function () { var e = this.clipPath; e && (e.__zr && e.removeSelfFromZr(e.__zr), e.__zr = null, e.__clipTarget = null, this.clipPath = null, this.dirty(!1)) }, addSelfToZr: function (e) { this.__zr = e; var t = this.animators; if (t) for (var i = 0; i < t.length; i++)e.animation.addAnimator(t[i]); this.clipPath && this.clipPath.addSelfToZr(e) }, removeSelfFromZr: function (e) { this.__zr = null; var t = this.animators; if (t) for (var i = 0; i < t.length; i++)e.animation.removeAnimator(t[i]); this.clipPath && this.clipPath.removeSelfFromZr(e) } }, s.mixin(l, o), s.mixin(l, r), s.mixin(l, a); var u = l; e.exports = u }, d6d9: function (e, t, i) { var n = i('3014'); var a = n.extend({ type: 'series.pictorialBar', dependencies: ['grid'], defaultOption: { symbol: 'circle', symbolSize: null, symbolRotate: null, symbolPosition: null, symbolOffset: null, symbolMargin: null, symbolRepeat: !1, symbolRepeatDirection: 'end', symbolClip: !1, symbolBoundingData: null, symbolPatternSize: 400, barGap: '-100%', progressive: 0, hoverAnimation: !1 }, getInitialData: function (e) { return e.stack = null, a.superApply(this, 'getInitialData', arguments) } }); var r = a; e.exports = r }, d6ef: function (e, t, i) { var n = i('3eba'); var a = { type: 'selectDataRange', event: 'dataRangeSelected', update: 'update' }; n.registerAction(a, function (e, t) { t.eachComponent({ mainType: 'visualMap', query: e }, function (t) { t.setSelected(e.selected) }) }) }, d716: function (e, t, i) { var n = i('3eba'); var a = i('6d8b'); i('aa01'), i('340d'), i('44fb'); var r = i('98e7'); var o = i('cb73'); var s = i('d3f4'); n.registerVisual(a.curry(r, 'sunburst')), n.registerLayout(a.curry(o, 'sunburst')), n.registerProcessor(a.curry(s, 'sunburst')) }, d747: function (e, t, i) { var n = i('3eba'); var a = i('d81e'); var r = a.updateCenterAndZoom; i('d2a5'); var o = { type: 'graphRoam', event: 'graphRoam', update: 'none' }; n.registerAction(o, function (e, t) { t.eachComponent({ mainType: 'series', query: e }, function (t) { var i = t.coordinateSystem; var n = r(i, e); t.setCenter && t.setCenter(n.center), t.setZoom && t.setZoom(n.zoom) }) }) }, d784: function (e, t, i) { 'use strict'; i('ac1f'); var n = i('6eeb'); var a = i('d039'); var r = i('b622'); var o = i('9263'); var s = i('9112'); var l = r('species'); var u = !a(function () { var e = /./; return e.exec = function () { var e = []; return e.groups = { a: '7' }, e }, ''.replace(e, '$<a>') !== '7' }); var c = (function () { return 'a'.replace(/./, '$0') === '$0' }()); var h = r('replace'); var d = (function () { return !!/./[h] && /./[h]('a', '$0') === '' }()); var f = !a(function () { var e = /(?:)/; var t = e.exec; e.exec = function () { return t.apply(this, arguments) }; var i = 'ab'.split(e); return i.length !== 2 || i[0] !== 'a' || i[1] !== 'b' }); e.exports = function (e, t, i, h) { var p = r(e); var g = !a(function () { var t = {}; return t[p] = function () { return 7 }, ''[e](t) != 7 }); var m = g && !a(function () { var t = !1; var i = /a/; return e === 'split' && (i = {}, i.constructor = {}, i.constructor[l] = function () { return i }, i.flags = '', i[p] = /./[p]), i.exec = function () { return t = !0, null }, i[p](''), !t }); if (!g || !m || e === 'replace' && (!u || !c || d) || e === 'split' && !f) { var v = /./[p]; var y = i(p, ''[e], function (e, t, i, n, a) { return t.exec === o ? g && !a ? { done: !0, value: v.call(t, i, n) } : { done: !0, value: e.call(i, t, n) } : { done: !1 } }, { REPLACE_KEEPS_$0: c, REGEXP_REPLACE_SUBSTITUTES_UNDEFINED_CAPTURE: d }); var x = y[0]; var _ = y[1]; n(String.prototype, e, x), n(RegExp.prototype, p, t == 2 ? function (e, t) { return _.call(e, this, t) } : function (e) { return _.call(e, this) }) }h && s(RegExp.prototype[p], 'sham', !0) } }, d81d: function (e, t, i) { 'use strict'; var n = i('23e7'); var a = i('b727').map; var r = i('1dde'); var o = i('ae40'); var s = r('map'); var l = o('map'); n({ target: 'Array', proto: !0, forced: !s || !l }, { map: function (e) { return a(this, e, arguments.length > 1 ? arguments[1] : void 0) } }) }, d81e: function (e, t) { function i (e, t, i) { var n = e.getZoom(); var a = e.getCenter(); var r = t.zoom; var o = e.dataToPoint(a); if (t.dx != null && t.dy != null) { o[0] -= t.dx, o[1] -= t.dy; a = e.pointToData(o); e.setCenter(a) } if (r != null) { if (i) { var s = i.min || 0; var l = i.max || 1 / 0; r = Math.max(Math.min(n * r, l), s) / n }e.scale[0] *= r, e.scale[1] *= r; var u = e.position; var c = (t.originX - u[0]) * (r - 1); var h = (t.originY - u[1]) * (r - 1); u[0] -= c, u[1] -= h, e.updateTransform(); a = e.pointToData(o); e.setCenter(a), e.setZoom(r * n) } return { center: e.getCenter(), zoom: e.getZoom() } }t.updateCenterAndZoom = i }, d833: function (e, t, i) { var n = i('20c8'); var a = i('9680'); var r = i('e7d2'); var o = i('68ab'); var s = i('9f51'); var l = i('857d'); var u = l.normalizeRadian; var c = i('4a3f'); var h = i('8728'); var d = n.CMD; var f = 2 * Math.PI; var p = 1e-4; function g (e, t) { return Math.abs(e - t) < p } var m = [-1, -1, -1]; var v = [-1, -1]; function y () { var e = v[0]; v[0] = v[1], v[1] = e } function x (e, t, i, n, a, r, o, s, l, u) { if (u > t && u > n && u > r && u > s || u < t && u < n && u < r && u < s) return 0; var h = c.cubicRootAt(t, n, r, s, u, m); if (h === 0) return 0; for (var d, f, p = 0, g = -1, x = 0; x < h; x++) { var _ = m[x]; var b = _ === 0 || _ === 1 ? 0.5 : 1; var w = c.cubicAt(e, i, a, o, _); w < l || (g < 0 && (g = c.cubicExtrema(t, n, r, s, v), v[1] < v[0] && g > 1 && y(), d = c.cubicAt(t, n, r, s, v[0]), g > 1 && (f = c.cubicAt(t, n, r, s, v[1]))), g === 2 ? _ < v[0] ? p += d < t ? b : -b : _ < v[1] ? p += f < d ? b : -b : p += s < f ? b : -b : _ < v[0] ? p += d < t ? b : -b : p += s < d ? b : -b) } return p } function _ (e, t, i, n, a, r, o, s) { if (s > t && s > n && s > r || s < t && s < n && s < r) return 0; var l = c.quadraticRootAt(t, n, r, s, m); if (l === 0) return 0; var u = c.quadraticExtremum(t, n, r); if (u >= 0 && u <= 1) { for (var h = 0, d = c.quadraticAt(t, n, r, u), f = 0; f < l; f++) { var p = m[f] === 0 || m[f] === 1 ? 0.5 : 1; var g = c.quadraticAt(e, i, a, m[f]); g < o || (m[f] < u ? h += d < t ? p : -p : h += r < d ? p : -p) } return h }p = m[0] === 0 || m[0] === 1 ? 0.5 : 1, g = c.quadraticAt(e, i, a, m[0]); return g < o ? 0 : r < t ? p : -p } function b (e, t, i, n, a, r, o, s) { if (s -= t, s > i || s < -i) return 0; var l = Math.sqrt(i * i - s * s); m[0] = -l, m[1] = l; var c = Math.abs(n - a); if (c < 1e-4) return 0; if (c % f < 1e-4) { n = 0, a = f; var h = r ? 1 : -1; return o >= m[0] + e && o <= m[1] + e ? h : 0 } if (r) { l = n; n = u(a), a = u(l) } else n = u(n), a = u(a); n > a && (a += f); for (var d = 0, p = 0; p < 2; p++) { var g = m[p]; if (g + e > o) { var v = Math.atan2(s, g); h = r ? 1 : -1; v < 0 && (v = f + v), (v >= n && v <= a || v + f >= n && v + f <= a) && (v > Math.PI / 2 && v < 1.5 * Math.PI && (h = -h), d += h) } } return d } function w (e, t, i, n, l) { for (var u = 0, c = 0, f = 0, p = 0, m = 0, v = 0; v < e.length;) { var y = e[v++]; switch (y === d.M && v > 1 && (i || (u += h(c, f, p, m, n, l))), v === 1 && (c = e[v], f = e[v + 1], p = c, m = f), y) { case d.M:p = e[v++], m = e[v++], c = p, f = m; break; case d.L:if (i) { if (a.containStroke(c, f, e[v], e[v + 1], t, n, l)) return !0 } else u += h(c, f, e[v], e[v + 1], n, l) || 0; c = e[v++], f = e[v++]; break; case d.C:if (i) { if (r.containStroke(c, f, e[v++], e[v++], e[v++], e[v++], e[v], e[v + 1], t, n, l)) return !0 } else u += x(c, f, e[v++], e[v++], e[v++], e[v++], e[v], e[v + 1], n, l) || 0; c = e[v++], f = e[v++]; break; case d.Q:if (i) { if (o.containStroke(c, f, e[v++], e[v++], e[v], e[v + 1], t, n, l)) return !0 } else u += _(c, f, e[v++], e[v++], e[v], e[v + 1], n, l) || 0; c = e[v++], f = e[v++]; break; case d.A:var w = e[v++]; var S = e[v++]; var M = e[v++]; var I = e[v++]; var A = e[v++]; var T = e[v++]; v += 1; var C = 1 - e[v++]; var D = Math.cos(A) * M + w; var L = Math.sin(A) * I + S; v > 1 ? u += h(c, f, D, L, n, l) : (p = D, m = L); var P = (n - w) * I / M + w; if (i) { if (s.containStroke(w, S, I, A, A + T, C, t, P, l)) return !0 } else u += b(w, S, I, A, A + T, C, P, l); c = Math.cos(A + T) * M + w, f = Math.sin(A + T) * I + S; break; case d.R:p = c = e[v++], m = f = e[v++]; var k = e[v++]; var O = e[v++]; D = p + k, L = m + O; if (i) { if (a.containStroke(p, m, D, m, t, n, l) || a.containStroke(D, m, D, L, t, n, l) || a.containStroke(D, L, p, L, t, n, l) || a.containStroke(p, L, p, m, t, n, l)) return !0 } else u += h(D, m, D, L, n, l), u += h(p, L, p, m, n, l); break; case d.Z:if (i) { if (a.containStroke(c, f, p, m, t, n, l)) return !0 } else u += h(c, f, p, m, n, l); c = p, f = m; break } } return i || g(f, m) || (u += h(c, f, p, m, n, l) || 0), u !== 0 } function S (e, t, i) { return w(e, 0, !1, t, i) } function M (e, t, i, n) { return w(e, t, !0, i, n) }t.contain = S, t.containStroke = M }, d9d0: function (e, t, i) { var n = i('6d8b'); var a = i('1687'); var r = i('f934'); var o = i('697e'); var s = i('0f55'); var l = i('2306'); var u = i('3842'); var c = i('ef6a'); var h = n.each; var d = Math.min; var f = Math.max; var p = Math.floor; var g = Math.ceil; var m = u.round; var v = Math.PI; function y (e, t, i) { this._axesMap = n.createHashMap(), this._axesLayout = {}, this.dimensions = e.dimensions, this._rect, this._model = e, this._init(e, t, i) } function x (e, t) { return d(f(e, t[0]), t[1]) } function _ (e, t) { var i = t.layoutLength / (t.axisCount - 1); return { position: i * e, axisNameAvailableWidth: i, axisLabelShow: !0 } } function b (e, t) { var i; var n; var a = t.layoutLength; var r = t.axisExpandWidth; var o = t.axisCount; var s = t.axisCollapseWidth; var l = t.winInnerIndices; var u = s; var c = !1; return e < l[0] ? (i = e * s, n = s) : e <= l[1] ? (i = t.axisExpandWindow0Pos + e * r - t.axisExpandWindow[0], u = r, c = !0) : (i = a - (o - 1 - e) * s, n = s), { position: i, axisNameAvailableWidth: u, axisLabelShow: c, nameTruncateMaxWidth: n } }y.prototype = { type: 'parallel', constructor: y, _init: function (e, t, i) { var n = e.dimensions; var a = e.parallelAxisIndex; h(n, function (e, i) { var n = a[i]; var r = t.getComponent('parallelAxis', n); var l = this._axesMap.set(e, new s(e, o.createScaleByModel(r), [0, 0], r.get('type'), n)); var u = l.type === 'category'; l.onBand = u && r.get('boundaryGap'), l.inverse = r.get('inverse'), r.axis = l, l.model = r, l.coordinateSystem = r.coordinateSystem = this }, this) }, update: function (e, t) { this._updateAxesFromSeries(this._model, e) }, containPoint: function (e) { var t = this._makeLayoutInfo(); var i = t.axisBase; var n = t.layoutBase; var a = t.pixelDimIndex; var r = e[1 - a]; var o = e[a]; return r >= i && r <= i + t.axisLength && o >= n && o <= n + t.layoutLength }, getModel: function () { return this._model }, _updateAxesFromSeries: function (e, t) { t.eachSeries(function (i) { if (e.contains(i, t)) { var n = i.getData(); h(this.dimensions, function (e) { var t = this._axesMap.get(e); t.scale.unionExtentFromData(n, n.mapDimension(e)), o.niceScaleExtent(t.scale, t.model) }, this) } }, this) }, resize: function (e, t) { this._rect = r.getLayoutRect(e.getBoxLayoutParams(), { width: t.getWidth(), height: t.getHeight() }), this._layoutAxes() }, getRect: function () { return this._rect }, _makeLayoutInfo: function () { var e; var t = this._model; var i = this._rect; var n = ['x', 'y']; var a = ['width', 'height']; var r = t.get('layout'); var o = r === 'horizontal' ? 0 : 1; var s = i[a[o]]; var l = [0, s]; var u = this.dimensions.length; var c = x(t.get('axisExpandWidth'), l); var h = x(t.get('axisExpandCount') || 0, [0, u]); var d = t.get('axisExpandable') && u > 3 && u > h && h > 1 && c > 0 && s > 0; var f = t.get('axisExpandWindow'); if (f)e = x(f[1] - f[0], l), f[1] = f[0] + e; else { e = x(c * (h - 1), l); var v = t.get('axisExpandCenter') || p(u / 2); f = [c * v - e / 2], f[1] = f[0] + e } var y = (s - e) / (u - h); y < 3 && (y = 0); var _ = [p(m(f[0] / c, 1)) + 1, g(m(f[1] / c, 1)) - 1]; var b = y / c * f[0]; return { layout: r, pixelDimIndex: o, layoutBase: i[n[o]], layoutLength: s, axisBase: i[n[1 - o]], axisLength: i[a[1 - o]], axisExpandable: d, axisExpandWidth: c, axisCollapseWidth: y, axisExpandWindow: f, axisCount: u, winInnerIndices: _, axisExpandWindow0Pos: b } }, _layoutAxes: function () { var e = this._rect; var t = this._axesMap; var i = this.dimensions; var n = this._makeLayoutInfo(); var r = n.layout; t.each(function (e) { var t = [0, n.axisLength]; var i = e.inverse ? 1 : 0; e.setExtent(t[i], t[1 - i]) }), h(i, function (t, i) { var o = (n.axisExpandable ? b : _)(i, n); var s = { horizontal: { x: o.position, y: n.axisLength }, vertical: { x: 0, y: o.position } }; var l = { horizontal: v / 2, vertical: 0 }; var u = [s[r].x + e.x, s[r].y + e.y]; var c = l[r]; var h = a.create(); a.rotate(h, h, c), a.translate(h, h, u), this._axesLayout[t] = { position: u, rotation: c, transform: h, axisNameAvailableWidth: o.axisNameAvailableWidth, axisLabelShow: o.axisLabelShow, nameTruncateMaxWidth: o.nameTruncateMaxWidth, tickDirection: 1, labelDirection: 1 } }, this) }, getAxis: function (e) { return this._axesMap.get(e) }, dataToPoint: function (e, t) { return this.axisCoordToPoint(this._axesMap.get(t).dataToCoord(e), t) }, eachActiveState: function (e, t, i, a) { i == null && (i = 0), a == null && (a = e.count()); var r = this._axesMap; var o = this.dimensions; var s = []; var l = []; n.each(o, function (t) { s.push(e.mapDimension(t)), l.push(r.get(t).model) }); for (var u = this.hasAxisBrushed(), c = i; c < a; c++) { var h; if (u) { h = 'active'; for (var d = e.getValues(s, c), f = 0, p = o.length; f < p; f++) { var g = l[f].getActiveState(d[f]); if (g === 'inactive') { h = 'inactive'; break } } } else h = 'normal'; t(h, c) } }, hasAxisBrushed: function () { for (var e = this.dimensions, t = this._axesMap, i = !1, n = 0, a = e.length; n < a; n++)t.get(e[n]).model.getActiveState() !== 'normal' && (i = !0); return i }, axisCoordToPoint: function (e, t) { var i = this._axesLayout[t]; return l.applyTransform([e, 0], i.transform) }, getAxisLayout: function (e) { return n.clone(this._axesLayout[e]) }, getSlidedAxisExpandWindow: function (e) { var t = this._makeLayoutInfo(); var i = t.pixelDimIndex; var n = t.axisExpandWindow.slice(); var a = n[1] - n[0]; var r = [0, t.axisExpandWidth * (t.axisCount - 1)]; if (!this.containPoint(e)) return { behavior: 'none', axisExpandWindow: n }; var o; var s = e[i] - t.layoutBase - t.axisExpandWindow0Pos; var l = 'slide'; var u = t.axisCollapseWidth; var h = this._model.get('axisExpandSlideTriggerArea'); var p = h[0] != null; if (u)p && u && s < a * h[0] ? (l = 'jump', o = s - a * h[2]) : p && u && s > a * (1 - h[0]) ? (l = 'jump', o = s - a * (1 - h[2])) : (o = s - a * h[1]) >= 0 && (o = s - a * (1 - h[1])) <= 0 && (o = 0), o *= t.axisExpandWidth / u, o ? c(o, n, r, 'all') : l = 'none'; else { a = n[1] - n[0]; var g = r[1] * s / a; n = [f(0, g - a / 2)], n[1] = d(r[1], n[0] + a), n[0] = n[1] - a } return { axisExpandWindow: n, behavior: l } } }; var w = y; e.exports = w }, d9f1: function (e, t, i) { var n = i('6d8b'); var a = i('6cb7'); var r = i('9e47'); var o = i('2023'); var s = a.extend({ type: 'polarAxis', axis: null, getCoordSysModel: function () { return this.ecModel.queryComponents({ mainType: 'polar', index: this.option.polarIndex, id: this.option.polarId })[0] } }); n.merge(s.prototype, o); var l = { angle: { startAngle: 90, clockwise: !0, splitNumber: 12, axisLabel: { rotate: !1 } }, radius: { splitNumber: 5 } }; function u (e, t) { return t.type || (t.data ? 'category' : 'value') }r('angle', s, u, l.angle), r('radius', s, u, l.radius) }, d9fc: function (e, t, i) { var n = i('cbe5'); var a = n.extend({ type: 'circle', shape: { cx: 0, cy: 0, r: 0 }, buildPath: function (e, t, i) { i && e.moveTo(t.cx + t.r, t.cy), e.arc(t.cx, t.cy, t.r, 0, 2 * Math.PI, !0) } }); e.exports = a }, dae1: function (e, t, i) { var n = i('3eba'); i('928d'), i('b369'), i('4411'); var a = i('90c2'); var r = i('9ca8'); n.registerVisual(a), n.registerLayout(r) }, db0e: function (e, t, i) { var n = i('3eba'); i('a8c6'), i('8344'), n.registerPreprocessor(function (e) { e.markPoint = e.markPoint || {} }) }, db9e: function (e, t, i) { var n = i('3eba'); var a = i('6d8b'); var r = i('e86a'); var o = i('2145'); var s = i('2306'); var l = i('4319'); var u = i('80f0'); var c = i('7919'); var h = n.extendComponentView({ type: 'toolbox', render: function (e, t, i, n) { var h = this.group; if (h.removeAll(), e.get('show')) { var f = +e.get('itemSize'); var p = e.get('feature') || {}; var g = this._features || (this._features = {}); var m = []; a.each(p, function (e, t) { m.push(t) }), new u(this._featureNames || [], m).add(v).update(v).remove(a.curry(v, null)).execute(), this._featureNames = m, c.layout(h, e, i), h.add(c.makeBackground(h.getBoundingRect(), e)), h.eachChild(function (e) { var t = e.__title; var n = e.hoverStyle; if (n && t) { var a = r.getBoundingRect(t, r.makeFont(n)); var o = e.position[0] + h.position[0]; var s = e.position[1] + h.position[1] + f; var l = !1; s + a.height > i.getHeight() && (n.textPosition = 'top', l = !0); var u = l ? -5 - a.height : f + 8; o + a.width / 2 > i.getWidth() ? (n.textPosition = ['100%', u], n.textAlign = 'right') : o - a.width / 2 < 0 && (n.textPosition = [0, u], n.textAlign = 'left') } }) } function v (a, r) { var s; var u = m[a]; var c = m[r]; var h = p[u]; var f = new l(h, e, e.ecModel); if (n && n.newTitle != null && n.featureName === u && (h.title = n.newTitle), u && !c) { if (d(u))s = { model: f, onclick: f.option.onclick, featureName: u }; else { var v = o.get(u); if (!v) return; s = new v(f, t, i) }g[u] = s } else { if (s = g[c], !s) return; s.model = f, s.ecModel = t, s.api = i }u || !c ? f.get('show') && !s.unusable ? (y(f, s, u), f.setIconStatus = function (e, t) { var i = this.option; var n = this.iconPaths; i.iconStatus = i.iconStatus || {}, i.iconStatus[e] = t, n[e] && n[e].trigger(t) }, s.render && s.render(f, t, i, n)) : s.remove && s.remove(t, i) : s.dispose && s.dispose(t, i) } function y (n, r, o) { var l = n.getModel('iconStyle'); var u = n.getModel('emphasis.iconStyle'); var c = r.getIcons ? r.getIcons() : n.get('icon'); var d = n.get('title') || {}; if (typeof c === 'string') { var p = c; var g = d; c = {}, d = {}, c[o] = p, d[o] = g } var m = n.iconPaths = {}; a.each(c, function (o, c) { var p = s.createIcon(o, {}, { x: -f / 2, y: -f / 2, width: f, height: f }); p.setStyle(l.getItemStyle()), p.hoverStyle = u.getItemStyle(), p.setStyle({ text: d[c], textAlign: u.get('textAlign'), textBorderRadius: u.get('textBorderRadius'), textPadding: u.get('textPadding'), textFill: null }); var g = e.getModel('tooltip'); g && g.get('show') && p.attr('tooltip', a.extend({ content: d[c], formatter: g.get('formatter', !0) || function () { return d[c] }, formatterParams: { componentType: 'toolbox', name: c, title: d[c], $vars: ['name', 'title'] }, position: g.get('position', !0) || 'bottom' }, g.option)), s.setHoverStyle(p), e.get('showTitle') && (p.__title = d[c], p.on('mouseover', function () { var t = u.getItemStyle(); var i = e.get('orient') === 'vertical' ? e.get('right') == null ? 'right' : 'left' : e.get('bottom') == null ? 'bottom' : 'top'; p.setStyle({ textFill: u.get('textFill') || t.fill || t.stroke || '#000', textBackgroundColor: u.get('textBackgroundColor'), textPosition: u.get('textPosition') || i }) }).on('mouseout', function () { p.setStyle({ textFill: null, textBackgroundColor: null }) })), p.trigger(n.get('iconStatus.' + c) || 'normal'), h.add(p), p.on('click', a.bind(r.onclick, r, t, i, c)), m[c] = p }) } }, updateView: function (e, t, i, n) { a.each(this._features, function (e) { e.updateView && e.updateView(e.model, t, i, n) }) }, remove: function (e, t) { a.each(this._features, function (i) { i.remove && i.remove(e, t) }), this.group.removeAll() }, dispose: function (e, t) { a.each(this._features, function (i) { i.dispose && i.dispose(e, t) }) } }); function d (e) { return e.indexOf('my') === 0 }e.exports = h }, dc20: function (e, t, i) { var n = i('8727'); var a = n.createElement; var r = i('6d8b'); var o = i('4942'); var s = i('cbe5'); var l = i('0da8'); var u = i('76a5'); var c = i('0c12'); var h = i('b16f'); var d = i('9fa3'); var f = i('bcaa'); var p = i('3f8e'); var g = p.path; var m = p.image; var v = p.text; function y (e) { return parseInt(e, 10) } function x (e) { return e instanceof s ? g : e instanceof l ? m : e instanceof u ? v : g } function _ (e, t) { return t && e && t.parentNode !== e } function b (e, t, i) { if (_(e, t) && i) { var n = i.nextSibling; n ? e.insertBefore(t, n) : e.appendChild(t) } } function w (e, t) { if (_(e, t)) { var i = e.firstChild; i ? e.insertBefore(t, i) : e.appendChild(t) } } function S (e, t) { t && e && t.parentNode === e && e.removeChild(t) } function M (e) { return e.__textSvgEl } function I (e) { return e.__svgEl } var A = function (e, t, i, n) { this.root = e, this.storage = t, this._opts = i = r.extend({}, i || {}); var o = a('svg'); o.setAttribute('xmlns', 'http://www.w3.org/2000/svg'), o.setAttribute('version', '1.1'), o.setAttribute('baseProfile', 'full'), o.style.cssText = 'user-select:none;position:absolute;left:0;top:0;'; var s = a('g'); o.appendChild(s); var l = a('g'); o.appendChild(l), this.gradientManager = new h(n, l), this.clipPathManager = new d(n, l), this.shadowManager = new f(n, l); var u = document.createElement('div'); u.style.cssText = 'overflow:hidden;position:relative', this._svgDom = o, this._svgRoot = l, this._backgroundRoot = s, this._viewport = u, e.appendChild(u), u.appendChild(o), this.resize(i.width, i.height), this._visibleList = [] }; function T (e) { return function () { o('In SVG mode painter not support method "' + e + '"') } }A.prototype = { constructor: A, getType: function () { return 'svg' }, getViewportRoot: function () { return this._viewport }, getSvgDom: function () { return this._svgDom }, getSvgRoot: function () { return this._svgRoot }, getViewportRootOffset: function () { var e = this.getViewportRoot(); if (e) return { offsetLeft: e.offsetLeft || 0, offsetTop: e.offsetTop || 0 } }, refresh: function () { var e = this.storage.getDisplayList(!0); this._paintList(e) }, setBackgroundColor: function (e) { this._backgroundRoot && this._backgroundNode && this._backgroundRoot.removeChild(this._backgroundNode); var t = a('rect'); t.setAttribute('width', this.getWidth()), t.setAttribute('height', this.getHeight()), t.setAttribute('x', 0), t.setAttribute('y', 0), t.setAttribute('id', 0), t.style.fill = e, this._backgroundRoot.appendChild(t), this._backgroundNode = t }, _paintList: function (e) { this.gradientManager.markAllUnused(), this.clipPathManager.markAllUnused(), this.shadowManager.markAllUnused(); var t; var i = this._svgRoot; var n = this._visibleList; var a = e.length; var r = []; for (t = 0; t < a; t++) { var o = e[t]; var s = x(o); var l = I(o) || M(o); o.invisible || (o.__dirty && (s && s.brush(o), this.clipPathManager.update(o), o.style && (this.gradientManager.update(o.style.fill), this.gradientManager.update(o.style.stroke), this.shadowManager.update(l, o)), o.__dirty = !1), r.push(o)) } var u; var h = c(n, r); for (t = 0; t < h.length; t++) { var d = h[t]; if (d.removed) for (var f = 0; f < d.count; f++) { o = n[d.indices[f]], l = I(o); var p = M(o); S(i, l), S(i, p) } } for (t = 0; t < h.length; t++) { d = h[t]; if (d.added) for (f = 0; f < d.count; f++) { o = r[d.indices[f]], l = I(o), p = M(o); u ? b(i, l, u) : w(i, l), l ? b(i, p, l) : u ? b(i, p, u) : w(i, p), b(i, p, l), u = p || l || u, this.gradientManager.addWithoutUpdate(l || p, o), this.shadowManager.addWithoutUpdate(l || p, o), this.clipPathManager.markUsed(o) } else if (!d.removed) for (f = 0; f < d.count; f++) { o = r[d.indices[f]], l = I(o), p = M(o), l = I(o), p = M(o); this.gradientManager.markUsed(o), this.gradientManager.addWithoutUpdate(l || p, o), this.shadowManager.markUsed(o), this.shadowManager.addWithoutUpdate(l || p, o), this.clipPathManager.markUsed(o), p && b(i, p, l), u = l || p || u } } this.gradientManager.removeUnused(), this.clipPathManager.removeUnused(), this.shadowManager.removeUnused(), this._visibleList = r }, _getDefs: function (e) { var t = this._svgDom; var i = t.getElementsByTagName('defs'); if (i.length === 0) { if (e) { i = t.insertBefore(a('defs'), t.firstChild); return i.contains || (i.contains = function (e) { var t = i.children; if (!t) return !1; for (var n = t.length - 1; n >= 0; --n) if (t[n] === e) return !0; return !1 }), i } return null } return i[0] }, resize: function (e, t) { var i = this._viewport; i.style.display = 'none'; var n = this._opts; if (e != null && (n.width = e), t != null && (n.height = t), e = this._getSize(0), t = this._getSize(1), i.style.display = '', this._width !== e || this._height !== t) { this._width = e, this._height = t; var a = i.style; a.width = e + 'px', a.height = t + 'px'; var r = this._svgDom; r.setAttribute('width', e), r.setAttribute('height', t) } this._backgroundNode && (this._backgroundNode.setAttribute('width', e), this._backgroundNode.setAttribute('height', t)) }, getWidth: function () { return this._width }, getHeight: function () { return this._height }, _getSize: function (e) { var t = this._opts; var i = ['width', 'height'][e]; var n = ['clientWidth', 'clientHeight'][e]; var a = ['paddingLeft', 'paddingTop'][e]; var r = ['paddingRight', 'paddingBottom'][e]; if (t[i] != null && t[i] !== 'auto') return parseFloat(t[i]); var o = this.root; var s = document.defaultView.getComputedStyle(o); return (o[n] || y(s[i]) || y(o.style[i])) - (y(s[a]) || 0) - (y(s[r]) || 0) | 0 }, dispose: function () { this.root.innerHTML = '', this._svgRoot = this._backgroundRoot = this._svgDom = this._backgroundNode = this._viewport = this.storage = null }, clear: function () { this._viewport && this.root.removeChild(this._viewport) }, toDataURL: function () { this.refresh(); var e = encodeURIComponent(this._svgDom.outerHTML.replace(/></g, '>\n\r<')); return 'data:image/svg+xml;charset=UTF-8,' + e } }, r.each(['getLayer', 'insertLayer', 'eachLayer', 'eachBuiltinLayer', 'eachOtherLayer', 'getLayers', 'modLayer', 'delLayer', 'clearLayer', 'pathToImage'], function (e) { A.prototype[e] = T(e) }); var C = A; e.exports = C }, dc2f: function (e, t) { var i = function (e, t) { this.image = e, this.repeat = t, this.type = 'pattern' }; i.prototype.getCanvasPattern = function (e) { return e.createPattern(this.image, this.repeat || 'repeat') }; var n = i; e.exports = n }, dcb3: function (e, t, i) { var n = i('6d8b'); var a = i('625e'); var r = i('2306'); var o = i('cd33'); var s = i('607d'); var l = i('88b3'); var u = i('e0d3'); var c = u.makeInner; var h = c(); var d = n.clone; var f = n.bind; function p () {} function g (e, t, i, n) { m(h(i).lastProp, n) || (h(i).lastProp = n, t ? r.updateProps(i, n, e) : (i.stopAnimation(), i.attr(n))) } function m (e, t) { if (n.isObject(e) && n.isObject(t)) { var i = !0; return n.each(t, function (t, n) { i = i && m(e[n], t) }), !!i } return e === t } function v (e, t) { e[t.get('label.show') ? 'show' : 'hide']() } function y (e) { return { position: e.position.slice(), rotation: e.rotation || 0 } } function x (e, t, i) { var n = t.get('z'); var a = t.get('zlevel'); e && e.traverse(function (e) { e.type !== 'group' && (n != null && (e.z = n), a != null && (e.zlevel = a), e.silent = i) }) }p.prototype = { _group: null, _lastGraphicKey: null, _handle: null, _dragging: !1, _lastValue: null, _lastStatus: null, _payloadInfo: null, animationThreshold: 15, render: function (e, t, i, a) { var o = t.get('value'); var s = t.get('status'); if (this._axisModel = e, this._axisPointerModel = t, this._api = i, a || this._lastValue !== o || this._lastStatus !== s) { this._lastValue = o, this._lastStatus = s; var l = this._group; var u = this._handle; if (!s || s === 'hide') return l && l.hide(), void (u && u.hide()); l && l.show(), u && u.show(); var c = {}; this.makeElOption(c, o, e, t, i); var h = c.graphicKey; h !== this._lastGraphicKey && this.clear(i), this._lastGraphicKey = h; var d = this._moveAnimation = this.determineAnimation(e, t); if (l) { var f = n.curry(g, t, d); this.updatePointerEl(l, c, f, t), this.updateLabelEl(l, c, f, t) } else l = this._group = new r.Group(), this.createPointerEl(l, c, e, t), this.createLabelEl(l, c, e, t), i.getZr().add(l); x(l, t, !0), this._renderHandle(o) } }, remove: function (e) { this.clear(e) }, dispose: function (e) { this.clear(e) }, determineAnimation: function (e, t) { var i = t.get('animation'); var n = e.axis; var a = n.type === 'category'; var r = t.get('snap'); if (!r && !a) return !1; if (i === 'auto' || i == null) { var s = this.animationThreshold; if (a && n.getBandWidth() > s) return !0; if (r) { var l = o.getAxisInfo(e).seriesDataCount; var u = n.getExtent(); return Math.abs(u[0] - u[1]) / l > s } return !1 } return !0 === i }, makeElOption: function (e, t, i, n, a) {}, createPointerEl: function (e, t, i, n) { var a = t.pointer; if (a) { var o = h(e).pointerEl = new r[a.type](d(t.pointer)); e.add(o) } }, createLabelEl: function (e, t, i, n) { if (t.label) { var a = h(e).labelEl = new r.Rect(d(t.label)); e.add(a), v(a, n) } }, updatePointerEl: function (e, t, i) { var n = h(e).pointerEl; n && t.pointer && (n.setStyle(t.pointer.style), i(n, { shape: t.pointer.shape })) }, updateLabelEl: function (e, t, i, n) { var a = h(e).labelEl; a && (a.setStyle(t.label.style), i(a, { shape: t.label.shape, position: t.label.position }), v(a, n)) }, _renderHandle: function (e) { if (!this._dragging && this.updateHandleTransform) { var t; var i = this._axisPointerModel; var a = this._api.getZr(); var o = this._handle; var u = i.getModel('handle'); var c = i.get('status'); if (!u.get('show') || !c || c === 'hide') return o && a.remove(o), void (this._handle = null); this._handle || (t = !0, o = this._handle = r.createIcon(u.get('icon'), { cursor: 'move', draggable: !0, onmousemove: function (e) { s.stop(e.event) }, onmousedown: f(this._onHandleDragMove, this, 0, 0), drift: f(this._onHandleDragMove, this), ondragend: f(this._onHandleDragEnd, this) }), a.add(o)), x(o, i, !1); var h = ['color', 'borderColor', 'borderWidth', 'opacity', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY']; o.setStyle(u.getItemStyle(null, h)); var d = u.get('size'); n.isArray(d) || (d = [d, d]), o.attr('scale', [d[0] / 2, d[1] / 2]), l.createOrUpdate(this, '_doDispatchAxisPointer', u.get('throttle') || 0, 'fixRate'), this._moveHandleToValue(e, t) } }, _moveHandleToValue: function (e, t) { g(this._axisPointerModel, !t && this._moveAnimation, this._handle, y(this.getHandleTransform(e, this._axisModel, this._axisPointerModel))) }, _onHandleDragMove: function (e, t) { var i = this._handle; if (i) { this._dragging = !0; var n = this.updateHandleTransform(y(i), [e, t], this._axisModel, this._axisPointerModel); this._payloadInfo = n, i.stopAnimation(), i.attr(y(n)), h(i).lastProp = null, this._doDispatchAxisPointer() } }, _doDispatchAxisPointer: function () { var e = this._handle; if (e) { var t = this._payloadInfo; var i = this._axisModel; this._api.dispatchAction({ type: 'updateAxisPointer', x: t.cursorPoint[0], y: t.cursorPoint[1], tooltipOption: t.tooltipOption, axesInfo: [{ axisDim: i.axis.dim, axisIndex: i.componentIndex }] }) } }, _onHandleDragEnd: function (e) { this._dragging = !1; var t = this._handle; if (t) { var i = this._axisPointerModel.get('value'); this._moveHandleToValue(i), this._api.dispatchAction({ type: 'hideTip' }) } }, getHandleTransform: null, updateHandleTransform: null, clear: function (e) { this._lastValue = null, this._lastStatus = null; var t = e.getZr(); var i = this._group; var n = this._handle; t && i && (this._lastGraphicKey = null, i && t.remove(i), n && t.remove(n), this._group = null, this._handle = null, this._payloadInfo = null) }, doClear: function () {}, buildLabel: function (e, t, i) { return i = i || 0, { x: e[i], y: e[1 - i], width: t[i], height: t[1 - i] } } }, p.prototype.constructor = p, a.enableClassExtend(p); var _ = p; e.exports = _ }, dcea: function (e, t, i) { var n = i('6d8b'); var a = i('e887'); var r = i('2306'); var o = i('cbe5'); var s = ['itemStyle']; var l = ['emphasis', 'itemStyle']; var u = a.extend({ type: 'boxplot', render: function (e, t, i) { var n = e.getData(); var a = this.group; var r = this._data; this._data || a.removeAll(); var o = e.get('layout') === 'horizontal' ? 1 : 0; n.diff(r).add(function (e) { if (n.hasValue(e)) { var t = n.getItemLayout(e); var i = h(t, n, e, o, !0); n.setItemGraphicEl(e, i), a.add(i) } }).update(function (e, t) { var i = r.getItemGraphicEl(t); if (n.hasValue(e)) { var s = n.getItemLayout(e); i ? d(s, i, n, e) : i = h(s, n, e, o), a.add(i), n.setItemGraphicEl(e, i) } else a.remove(i) }).remove(function (e) { var t = r.getItemGraphicEl(e); t && a.remove(t) }).execute(), this._data = n }, remove: function (e) { var t = this.group; var i = this._data; this._data = null, i && i.eachItemGraphicEl(function (e) { e && t.remove(e) }) }, dispose: n.noop }); var c = o.extend({ type: 'boxplotBoxPath', shape: {}, buildPath: function (e, t) { var i = t.points; var n = 0; for (e.moveTo(i[n][0], i[n][1]), n++; n < 4; n++)e.lineTo(i[n][0], i[n][1]); for (e.closePath(); n < i.length; n++)e.moveTo(i[n][0], i[n][1]), n++, e.lineTo(i[n][0], i[n][1]) } }); function h (e, t, i, n, a) { var r = e.ends; var o = new c({ shape: { points: a ? f(r, n, e) : r } }); return d(e, o, t, i, a), o } function d (e, t, i, n, a) { var o = i.hostModel; var u = r[a ? 'initProps' : 'updateProps']; u(t, { shape: { points: e.ends } }, o, n); var c = i.getItemModel(n); var h = c.getModel(s); var d = i.getItemVisual(n, 'color'); var f = h.getItemStyle(['borderColor']); f.stroke = d, f.strokeNoScale = !0, t.useStyle(f), t.z2 = 100; var p = c.getModel(l).getItemStyle(); r.setHoverStyle(t, p) } function f (e, t, i) { return n.map(e, function (e) { return e = e.slice(), e[t] = i.initBaseline, e }) } var p = u; e.exports = p }, dd39: function (e, t, i) { i('6932'), i('3a56'), i('7dcf'), i('414c'), i('4b08'), i('2c17'), i('9e87') }, dd7e: function (e, t, i) { var n = i('6d8b'); var a = i('edaf'); var r = i('38a2'); var o = a.extend({ type: 'timeline.slider', defaultOption: { backgroundColor: 'rgba(0,0,0,0)', borderColor: '#ccc', borderWidth: 0, orient: 'horizontal', inverse: !1, tooltip: { trigger: 'item' }, symbol: 'emptyCircle', symbolSize: 10, lineStyle: { show: !0, width: 2, color: '#304654' }, label: { position: 'auto', show: !0, interval: 'auto', rotate: 0, color: '#304654' }, itemStyle: { color: '#304654', borderWidth: 1 }, checkpointStyle: { symbol: 'circle', symbolSize: 13, color: '#c23531', borderWidth: 5, borderColor: 'rgba(194,53,49, 0.5)', animation: !0, animationDuration: 300, animationEasing: 'quinticInOut' }, controlStyle: { show: !0, showPlayBtn: !0, showPrevBtn: !0, showNextBtn: !0, itemSize: 22, itemGap: 12, position: 'left', playIcon: 'path://M31.6,53C17.5,53,6,41.5,6,27.4S17.5,1.8,31.6,1.8C45.7,1.8,57.2,13.3,57.2,27.4S45.7,53,31.6,53z M31.6,3.3 C18.4,3.3,7.5,14.1,7.5,27.4c0,13.3,10.8,24.1,24.1,24.1C44.9,51.5,55.7,40.7,55.7,27.4C55.7,14.1,44.9,3.3,31.6,3.3z M24.9,21.3 c0-2.2,1.6-3.1,3.5-2l10.5,6.1c1.899,1.1,1.899,2.9,0,4l-10.5,6.1c-1.9,1.1-3.5,0.2-3.5-2V21.3z', stopIcon: 'path://M30.9,53.2C16.8,53.2,5.3,41.7,5.3,27.6S16.8,2,30.9,2C45,2,56.4,13.5,56.4,27.6S45,53.2,30.9,53.2z M30.9,3.5C17.6,3.5,6.8,14.4,6.8,27.6c0,13.3,10.8,24.1,24.101,24.1C44.2,51.7,55,40.9,55,27.6C54.9,14.4,44.1,3.5,30.9,3.5z M36.9,35.8c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H36c0.5,0,0.9,0.4,0.9,1V35.8z M27.8,35.8 c0,0.601-0.4,1-0.9,1h-1.3c-0.5,0-0.9-0.399-0.9-1V19.5c0-0.6,0.4-1,0.9-1H27c0.5,0,0.9,0.4,0.9,1L27.8,35.8L27.8,35.8z', nextIcon: 'path://M18.6,50.8l22.5-22.5c0.2-0.2,0.3-0.4,0.3-0.7c0-0.3-0.1-0.5-0.3-0.7L18.7,4.4c-0.1-0.1-0.2-0.3-0.2-0.5 c0-0.4,0.3-0.8,0.8-0.8c0.2,0,0.5,0.1,0.6,0.3l23.5,23.5l0,0c0.2,0.2,0.3,0.4,0.3,0.7c0,0.3-0.1,0.5-0.3,0.7l-0.1,0.1L19.7,52 c-0.1,0.1-0.3,0.2-0.5,0.2c-0.4,0-0.8-0.3-0.8-0.8C18.4,51.2,18.5,51,18.6,50.8z', prevIcon: 'path://M43,52.8L20.4,30.3c-0.2-0.2-0.3-0.4-0.3-0.7c0-0.3,0.1-0.5,0.3-0.7L42.9,6.4c0.1-0.1,0.2-0.3,0.2-0.5 c0-0.4-0.3-0.8-0.8-0.8c-0.2,0-0.5,0.1-0.6,0.3L18.3,28.8l0,0c-0.2,0.2-0.3,0.4-0.3,0.7c0,0.3,0.1,0.5,0.3,0.7l0.1,0.1L41.9,54 c0.1,0.1,0.3,0.2,0.5,0.2c0.4,0,0.8-0.3,0.8-0.8C43.2,53.2,43.1,53,43,52.8z', color: '#304654', borderColor: '#304654', borderWidth: 1 }, emphasis: { label: { show: !0, color: '#c23531' }, itemStyle: { color: '#c23531' }, controlStyle: { color: '#c23531', borderColor: '#c23531', borderWidth: 2 } }, data: [] } }); n.mixin(o, r); var s = o; e.exports = s }, dded: function (e, t, i) { var n = i('6d8b'); var a = i('42e5'); var r = function (e, t, i, n, r) { this.x = e == null ? 0.5 : e, this.y = t == null ? 0.5 : t, this.r = i == null ? 0.5 : i, this.type = 'radial', this.global = r || !1, a.call(this, n) }; r.prototype = { constructor: r }, n.inherits(r, a); var o = r; e.exports = o }, de00: function (e, t) { var i = 2311; function n () { return i++ }e.exports = n }, de1c: function (e, t) { var i = { getBoxLayoutParams: function () { return { left: this.get('left'), top: this.get('top'), right: this.get('right'), bottom: this.get('bottom'), width: this.get('width'), height: this.get('height') } } }; e.exports = i }, de6e: function (e, t) { function i (e) { return e instanceof Array || (e = [e, e]), e } function n (e) { e.eachSeriesByType('graph', function (e) { var t = e.getGraph(); var n = e.getEdgeData(); var a = i(e.get('edgeSymbol')); var r = i(e.get('edgeSymbolSize')); var o = 'lineStyle.color'.split('.'); var s = 'lineStyle.opacity'.split('.'); n.setVisual('fromSymbol', a && a[0]), n.setVisual('toSymbol', a && a[1]), n.setVisual('fromSymbolSize', r && r[0]), n.setVisual('toSymbolSize', r && r[1]), n.setVisual('color', e.get(o)), n.setVisual('opacity', e.get(s)), n.each(function (e) { var a = n.getItemModel(e); var r = t.getEdgeByIndex(e); var l = i(a.getShallow('symbol', !0)); var u = i(a.getShallow('symbolSize', !0)); var c = a.get(o); var h = a.get(s); switch (c) { case 'source':c = r.node1.getVisual('color'); break; case 'target':c = r.node2.getVisual('color'); break }l[0] && r.setVisual('fromSymbol', l[0]), l[1] && r.setVisual('toSymbol', l[1]), u[0] && r.setVisual('fromSymbolSize', u[0]), u[1] && r.setVisual('toSymbolSize', u[1]), r.setVisual('color', c), r.setVisual('opacity', h) }) }) }e.exports = n }, df3a: function (e, t, i) { var n = i('6d8b'); var a = i('6cb7'); var r = i('282b'); var o = i('9e47'); var s = i('3842'); var l = i('2023'); var u = a.extend({ type: 'baseParallelAxis', axis: null, activeIntervals: [], getAreaSelectStyle: function () { return r([['fill', 'color'], ['lineWidth', 'borderWidth'], ['stroke', 'borderColor'], ['width', 'width'], ['opacity', 'opacity']])(this.getModel('areaSelectStyle')) }, setActiveIntervals: function (e) { var t = this.activeIntervals = n.clone(e); if (t) for (var i = t.length - 1; i >= 0; i--)s.asc(t[i]) }, getActiveState: function (e) { var t = this.activeIntervals; if (!t.length) return 'normal'; if (e == null || isNaN(e)) return 'inactive'; if (t.length === 1) { var i = t[0]; if (i[0] <= e && e <= i[1]) return 'active' } else for (var n = 0, a = t.length; n < a; n++) if (t[n][0] <= e && e <= t[n][1]) return 'active'; return 'inactive' } }); var c = { type: 'value', dim: null, areaSelectStyle: { width: 20, borderWidth: 1, borderColor: 'rgba(160,197,232)', color: 'rgba(160,197,232)', opacity: 0.3 }, realtime: !0, z: 10 }; function h (e, t) { return t.type || (t.data ? 'category' : 'value') }n.merge(u.prototype, l), o('parallel', u, h, c); var d = u; e.exports = d }, df70: function (e, t, i) { var n = i('3eba'); var a = i('6fda'); var r = i('29a8'); var o = i('2145'); var s = r.toolbox.restore; function l (e) { this.model = e }l.defaultOption = { show: !0, icon: 'M3.8,33.4 M47,18.9h9.8V8.7 M56.3,20.1 C52.1,9,40.5,0.6,26.8,2.1C12.6,3.7,1.6,16.2,2.1,30.6 M13,41.1H3.1v10.2 M3.7,39.9c4.2,11.1,15.8,19.5,29.5,18 c14.2-1.6,25.2-14.1,24.7-28.5', title: s.title }; var u = l.prototype; u.onclick = function (e, t, i) { a.clear(e), t.dispatchAction({ type: 'restore', from: this.uid }) }, o.register('restore', l), n.registerAction({ type: 'restore', event: 'restore', update: 'prepareAndUpdate' }, function (e, t) { t.resetOption('recreate') }); var c = l; e.exports = c }, e057: function (e, t, i) { var n = i('4e08'); var a = (n.__DEV__, i('6d8b')); var r = i('2306'); var o = i('c775'); var s = o.getDefaultLabel; var l = i('3301'); var u = i('9d57'); var c = u.getLayoutOnAxis; var h = i('80f0'); var d = i('4f85'); var f = i('4319'); var p = i('e887'); var g = i('b0af'); var m = g.createClipPath; var v = i('aa3e'); var y = i('00d8'); var x = i('307b'); var _ = i('eaeb'); var b = i('471e'); var w = r.CACHED_LABEL_STYLE_PROPERTIES; var S = ['itemStyle']; var M = ['emphasis', 'itemStyle']; var I = ['label']; var A = ['emphasis', 'label']; var T = 'e\0\0'; var C = { cartesian2d: v, geo: y, singleAxis: x, polar: _, calendar: b }; function D (e) { var t; var i = e.type; if (i === 'path') { var n = e.shape; var a = n.width != null && n.height != null ? { x: n.x || 0, y: n.y || 0, width: n.width, height: n.height } : null; var o = W(n); t = r.makePath(o, null, a, n.layout || 'center'), t.__customPathData = o } else if (i === 'image')t = new r.Image({}), t.__customImagePath = e.style.image; else if (i === 'text')t = new r.Text({}), t.__customText = e.style.text; else if (i === 'group')t = new r.Group(); else { if (i === 'compoundPath') throw new Error('"compoundPath" is not supported yet.'); var s = r.getShapeClass(i); t = new s() } return t.__customGraphicType = i, t.name = e.name, t } function L (e, t, i, n, o, s, l) { var u = {}; var c = i.style || {}; if (i.shape && (u.shape = a.clone(i.shape)), i.position && (u.position = i.position.slice()), i.scale && (u.scale = i.scale.slice()), i.origin && (u.origin = i.origin.slice()), i.rotation && (u.rotation = i.rotation), e.type === 'image' && i.style) { var h = u.style = {}; a.each(['x', 'y', 'width', 'height'], function (t) { P(t, h, c, e.style, s) }) } if (e.type === 'text' && i.style) { h = u.style = {}; a.each(['x', 'y'], function (t) { P(t, h, c, e.style, s) }), !c.hasOwnProperty('textFill') && c.fill && (c.textFill = c.fill), !c.hasOwnProperty('textStroke') && c.stroke && (c.textStroke = c.stroke) } if (e.type !== 'group' && (e.useStyle(c), s)) { e.style.opacity = 0; var d = c.opacity; d == null && (d = 1), r.initProps(e, { style: { opacity: d } }, n, t) }s ? e.attr(u) : r.updateProps(e, u, n, t), i.hasOwnProperty('z2') && e.attr('z2', i.z2 || 0), i.hasOwnProperty('silent') && e.attr('silent', i.silent), i.hasOwnProperty('invisible') && e.attr('invisible', i.invisible), i.hasOwnProperty('ignore') && e.attr('ignore', i.ignore), i.hasOwnProperty('info') && e.attr('info', i.info); var f = i.styleEmphasis; r.setElementHoverStyle(e, f), l && r.setAsHighDownDispatcher(e, !1 !== f) } function P (e, t, i, n, a) { i[e] == null || a || (t[e] = i[e], i[e] = n[e]) } function k (e, t, i, n) { var o = e.get('renderItem'); var l = e.coordinateSystem; var u = {}; l && (u = l.prepareCustoms ? l.prepareCustoms() : C[l.type](l)); var h; var d; var f; var p; var g; var m = a.defaults({ getWidth: n.getWidth, getHeight: n.getHeight, getZr: n.getZr, getDevicePixelRatio: n.getDevicePixelRatio, value: _, style: b, styleEmphasis: w, visual: T, barLayout: D, currentSeriesIndices: L, font: P }, u.api || {}); var v = { context: {}, seriesId: e.id, seriesName: e.name, seriesIndex: e.seriesIndex, coordSys: u.coordSys, dataInsideLength: t.count(), encode: O(e.getData()) }; var y = !0; return function (e, i) { return h = e, y = !0, o && o(a.defaults({ dataIndexInside: e, dataIndex: t.getRawIndex(e), actionType: i ? i.type : null }, v), m) }; function x (e) { e == null && (e = h), y && (d = t.getItemModel(e), f = d.getModel(I), p = d.getModel(A), g = t.getItemVisual(e, 'color'), y = !1) } function _ (e, i) { return i == null && (i = h), t.get(t.getDimension(e || 0), i) } function b (i, n) { n == null && (n = h), x(n); var o = d.getModel(S).getItemStyle(); g != null && (o.fill = g); var l = t.getItemVisual(n, 'opacity'); l != null && (o.opacity = l); var u = i ? G(i, f) : f; return r.setTextStyle(o, u, null, { autoColor: g, isRectText: !0 }), o.text = u.getShallow('show') ? a.retrieve2(e.getFormattedLabel(n, 'normal'), s(t, n)) : null, i && F(o, i), o } function w (i, n) { n == null && (n = h), x(n); var o = d.getModel(M).getItemStyle(); var l = i ? G(i, p) : p; return r.setTextStyle(o, l, null, { isRectText: !0 }, !0), o.text = l.getShallow('show') ? a.retrieve3(e.getFormattedLabel(n, 'emphasis'), e.getFormattedLabel(n, 'normal'), s(t, n)) : null, i && F(o, i), o } function T (e, i) { return i == null && (i = h), t.getItemVisual(i, e) } function D (e) { if (l.getBaseAxis) { var t = l.getBaseAxis(); return c(a.defaults({ axis: t }, e), n) } } function L () { return i.getCurrentSeriesIndices() } function P (e) { return r.getFont(e, i) } } function O (e) { var t = {}; return a.each(e.dimensions, function (i, n) { var a = e.getDimensionInfo(i); if (!a.isExtraCoord) { var r = a.coordDim; var o = t[r] = t[r] || []; o[a.coordDimIndex] = n } }), t } function R (e, t, i, n, a, r) { return e = E(e, t, i, n, a, r, !0), e && r.setItemGraphicEl(t, e), e } function E (e, t, i, n, a, r, o) { var s = !i; i = i || {}; var l = i.type; var u = i.shape; var c = i.style; if (e && (s || l != null && l !== e.__customGraphicType || l === 'path' && U(u) && W(u) !== e.__customPathData || l === 'image' && Z(c, 'image') && c.image !== e.__customImagePath || l === 'text' && Z(u, 'text') && c.text !== e.__customText) && (a.remove(e), e = null), !s) { var h = !e; return !e && (e = D(i)), L(e, t, i, n, r, h, o), l === 'group' && N(e, t, i, n, r), a.add(e), e } } function N (e, t, i, n, a) { var r = i.children; var o = r ? r.length : 0; var s = i.$mergeChildren; var l = s === 'byName' || i.diffChildrenByName; var u = !1 === s; if (o || l || u) if (l)z({ oldChildren: e.children() || [], newChildren: r || [], dataIndex: t, animatableModel: n, group: e, data: a }); else { u && e.removeAll(); for (var c = 0; c < o; c++)r[c] && E(e.childAt(c), t, r[c], n, e, a) } } function z (e) { new h(e.oldChildren, e.newChildren, B, B, e).add(V).update(V).remove(H).execute() } function B (e, t) { var i = e && e.name; return i != null ? i : T + t } function V (e, t) { var i = this.context; var n = e != null ? i.newChildren[e] : null; var a = t != null ? i.oldChildren[t] : null; E(a, i.dataIndex, n, i.animatableModel, i.group, i.data) } function G (e, t) { var i = new f({}, t); return a.each(w, function (t, n) { e.hasOwnProperty(t) && (i.option[n] = e[t]) }), i } function F (e, t) { for (var i in t)!t.hasOwnProperty(i) && w.hasOwnProperty(i) || (e[i] = t[i]) } function H (e) { var t = this.context; var i = t.oldChildren[e]; i && t.group.remove(i) } function W (e) { return e && (e.pathData || e.d) } function U (e) { return e && (e.hasOwnProperty('pathData') || e.hasOwnProperty('d')) } function Z (e, t) { return e && e.hasOwnProperty(t) }d.extend({ type: 'series.custom', dependencies: ['grid', 'polar', 'geo', 'singleAxis', 'calendar'], defaultOption: { coordinateSystem: 'cartesian2d', zlevel: 0, z: 2, legendHoverLink: !0, useTransform: !0, clip: !1 }, getInitialData: function (e, t) { return l(this.getSource(), this) }, getDataParams: function (e, t, i) { var n = d.prototype.getDataParams.apply(this, arguments); return i && (n.info = i.info), n } }), p.extend({ type: 'custom', _data: null, render: function (e, t, i, n) { var a = this._data; var r = e.getData(); var o = this.group; var s = k(e, r, t, i); r.diff(a).add(function (t) { R(null, t, s(t, n), e, o, r) }).update(function (t, i) { var l = a.getItemGraphicEl(i); R(l, t, s(t, n), e, o, r) }).remove(function (e) { var t = a.getItemGraphicEl(e); t && o.remove(t) }).execute(); var l = e.get('clip', !0) ? m(e.coordinateSystem, !1, e) : null; l ? o.setClipPath(l) : o.removeClipPath(), this._data = r }, incrementalPrepareRender: function (e, t, i) { this.group.removeAll(), this._data = null }, incrementalRender: function (e, t, i, n, a) { var r = t.getData(); var o = k(t, r, i, n); function s (e) { e.isGroup || (e.incremental = !0, e.useHoverLayer = !0) } for (var l = e.start; l < e.end; l++) { var u = R(null, l, o(l, a), t, this.group, r); u.traverse(s) } }, dispose: a.noop, filterForExposedEvent: function (e, t, i, n) { var a = t.element; if (a == null || i.name === a) return !0; while ((i = i.parent) && i !== this.group) if (i.name === a) return !0; return !1 } }) }, e073: function (e, t, i) { var n = i('6d8b'); var a = i('e86a'); var r = i('e0d3'); var o = r.makeInner; var s = i('697e'); var l = s.makeLabelFormatter; var u = s.getOptionCategoryInterval; var c = s.shouldShowAllLabels; var h = o(); function d (e) { return e.type === 'category' ? p(e) : v(e) } function f (e, t) { return e.type === 'category' ? m(e, t) : { ticks: e.scale.getTicks() } } function p (e) { var t = e.getLabelModel(); var i = g(e, t); return !t.get('show') || e.scale.isBlank() ? { labels: [], labelCategoryInterval: i.labelCategoryInterval } : i } function g (e, t) { var i; var a; var r = y(e, 'labels'); var o = u(t); var s = x(r, o); return s || (n.isFunction(o) ? i = I(e, o) : (a = o === 'auto' ? b(e) : o, i = M(e, a)), _(r, o, { labels: i, labelCategoryInterval: a })) } function m (e, t) { var i; var a; var r = y(e, 'ticks'); var o = u(t); var s = x(r, o); if (s) return s; if (t.get('show') && !e.scale.isBlank() || (i = []), n.isFunction(o))i = I(e, o, !0); else if (o === 'auto') { var l = g(e, e.getLabelModel()); a = l.labelCategoryInterval, i = n.map(l.labels, function (e) { return e.tickValue }) } else a = o, i = M(e, a, !0); return _(r, o, { ticks: i, tickCategoryInterval: a }) } function v (e) { var t = e.scale.getTicks(); var i = l(e); return { labels: n.map(t, function (t, n) { return { formattedLabel: i(t, n), rawLabel: e.scale.getLabel(t), tickValue: t } }) } } function y (e, t) { return h(e)[t] || (h(e)[t] = []) } function x (e, t) { for (var i = 0; i < e.length; i++) if (e[i].key === t) return e[i].value } function _ (e, t, i) { return e.push({ key: t, value: i }), i } function b (e) { var t = h(e).autoInterval; return t != null ? t : h(e).autoInterval = e.calculateCategoryInterval() } function w (e) { var t = S(e); var i = l(e); var n = (t.axisRotate - t.labelRotate) / 180 * Math.PI; var r = e.scale; var o = r.getExtent(); var s = r.count(); if (o[1] - o[0] < 1) return 0; var u = 1; s > 40 && (u = Math.max(1, Math.floor(s / 40))); for (var c = o[0], d = e.dataToCoord(c + 1) - e.dataToCoord(c), f = Math.abs(d * Math.cos(n)), p = Math.abs(d * Math.sin(n)), g = 0, m = 0; c <= o[1]; c += u) { var v = 0; var y = 0; var x = a.getBoundingRect(i(c), t.font, 'center', 'top'); v = 1.3 * x.width, y = 1.3 * x.height, g = Math.max(g, v, 7), m = Math.max(m, y, 7) } var _ = g / f; var b = m / p; isNaN(_) && (_ = 1 / 0), isNaN(b) && (b = 1 / 0); var w = Math.max(0, Math.floor(Math.min(_, b))); var M = h(e.model); var I = e.getExtent(); var A = M.lastAutoInterval; var T = M.lastTickCount; return A != null && T != null && Math.abs(A - w) <= 1 && Math.abs(T - s) <= 1 && A > w && M.axisExtend0 === I[0] && M.axisExtend1 === I[1] ? w = A : (M.lastTickCount = s, M.lastAutoInterval = w, M.axisExtend0 = I[0], M.axisExtend1 = I[1]), w } function S (e) { var t = e.getLabelModel(); return { axisRotate: e.getRotate ? e.getRotate() : e.isHorizontal && !e.isHorizontal() ? 90 : 0, labelRotate: t.get('rotate') || 0, font: t.getFont() } } function M (e, t, i) { var n = l(e); var a = e.scale; var r = a.getExtent(); var o = e.getLabelModel(); var s = []; var u = Math.max((t || 0) + 1, 1); var h = r[0]; var d = a.count(); h !== 0 && u > 1 && d / u > 2 && (h = Math.round(Math.ceil(h / u) * u)); var f = c(e); var p = o.get('showMinLabel') || f; var g = o.get('showMaxLabel') || f; p && h !== r[0] && v(r[0]); for (var m = h; m <= r[1]; m += u)v(m); function v (e) { s.push(i ? e : { formattedLabel: n(e), rawLabel: a.getLabel(e), tickValue: e }) } return g && m - u !== r[1] && v(r[1]), s } function I (e, t, i) { var a = e.scale; var r = l(e); var o = []; return n.each(a.getTicks(), function (e) { var n = a.getLabel(e); t(e, n) && o.push(i ? e : { formattedLabel: r(e), rawLabel: n, tickValue: e }) }), o }t.createAxisLabels = d, t.createAxisTicks = f, t.calculateCategoryInterval = w }, e0d3: function (e, t, i) { var n = i('6d8b'); var a = i('22d1'); var r = n.each; var o = n.isObject; var s = n.isArray; var l = 'series\0'; function u (e) { return e instanceof Array ? e : e == null ? [] : [e] } function c (e, t, i) { if (e) { e[t] = e[t] || {}, e.emphasis = e.emphasis || {}, e.emphasis[t] = e.emphasis[t] || {}; for (var n = 0, a = i.length; n < a; n++) { var r = i[n]; !e.emphasis[t].hasOwnProperty(r) && e[t].hasOwnProperty(r) && (e.emphasis[t][r] = e[t][r]) } } } var h = ['fontStyle', 'fontWeight', 'fontSize', 'fontFamily', 'rich', 'tag', 'color', 'textBorderColor', 'textBorderWidth', 'width', 'height', 'lineHeight', 'align', 'verticalAlign', 'baseline', 'shadowColor', 'shadowBlur', 'shadowOffsetX', 'shadowOffsetY', 'textShadowColor', 'textShadowBlur', 'textShadowOffsetX', 'textShadowOffsetY', 'backgroundColor', 'borderColor', 'borderWidth', 'borderRadius', 'padding']; function d (e) { return !o(e) || s(e) || e instanceof Date ? e : e.value } function f (e) { return o(e) && !(e instanceof Array) } function p (e, t) { t = (t || []).slice(); var i = n.map(e || [], function (e, t) { return { exist: e } }); return r(t, function (e, n) { if (o(e)) { for (var a = 0; a < i.length; a++) if (!i[a].option && e.id != null && i[a].exist.id === e.id + '') return i[a].option = e, void (t[n] = null); for (a = 0; a < i.length; a++) { var r = i[a].exist; if (!i[a].option && (r.id == null || e.id == null) && e.name != null && !v(e) && !v(r) && r.name === e.name + '') return i[a].option = e, void (t[n] = null) } } }), r(t, function (e, t) { if (o(e)) { for (var n = 0; n < i.length; n++) { var a = i[n].exist; if (!i[n].option && !v(a) && e.id == null) { i[n].option = e; break } }n >= i.length && i.push({ option: e }) } }), i } function g (e) { var t = n.createHashMap(); r(e, function (e, i) { var n = e.exist; n && t.set(n.id, e) }), r(e, function (e, i) { var a = e.option; n.assert(!a || a.id == null || !t.get(a.id) || t.get(a.id) === e, 'id duplicates: ' + (a && a.id)), a && a.id != null && t.set(a.id, e), !e.keyInfo && (e.keyInfo = {}) }), r(e, function (e, i) { var n = e.exist; var a = e.option; var r = e.keyInfo; if (o(a)) { if (r.name = a.name != null ? a.name + '' : n ? n.name : l + i, n)r.id = n.id; else if (a.id != null)r.id = a.id + ''; else { var s = 0; do { r.id = '\0' + r.name + '\0' + s++ } while (t.get(r.id)) }t.set(r.id, e) } }) } function m (e) { var t = e.name; return !(!t || !t.indexOf(l)) } function v (e) { return o(e) && e.id && (e.id + '').indexOf('\0_ec_\0') === 0 } function y (e, t) { var i = {}; var n = {}; return a(e || [], i), a(t || [], n, i), [r(i), r(n)]; function a (e, t, i) { for (var n = 0, a = e.length; n < a; n++) for (var r = e[n].seriesId, o = u(e[n].dataIndex), s = i && i[r], l = 0, c = o.length; l < c; l++) { var h = o[l]; s && s[h] ? s[h] = null : (t[r] || (t[r] = {}))[h] = 1 } } function r (e, t) { var i = []; for (var n in e) if (e.hasOwnProperty(n) && e[n] != null) if (t)i.push(+n); else { var a = r(e[n], !0); a.length && i.push({ seriesId: n, dataIndex: a }) } return i } } function x (e, t) { return t.dataIndexInside != null ? t.dataIndexInside : t.dataIndex != null ? n.isArray(t.dataIndex) ? n.map(t.dataIndex, function (t) { return e.indexOfRawIndex(t) }) : e.indexOfRawIndex(t.dataIndex) : t.name != null ? n.isArray(t.name) ? n.map(t.name, function (t) { return e.indexOfName(t) }) : e.indexOfName(t.name) : void 0 } function _ () { var e = '__\0ec_inner_' + b++ + '_' + Math.random().toFixed(5); return function (t) { return t[e] || (t[e] = {}) } } var b = 0; function w (e, t, i) { if (n.isString(t)) { var a = {}; a[t + 'Index'] = 0, t = a } var o = i && i.defaultMainType; !o || S(t, o + 'Index') || S(t, o + 'Id') || S(t, o + 'Name') || (t[o + 'Index'] = 0); var s = {}; return r(t, function (a, r) { a = t[r]; if (r !== 'dataIndex' && r !== 'dataIndexInside') { var o = r.match(/^(\w+)(Index|Id|Name)$/) || []; var l = o[1]; var u = (o[2] || '').toLowerCase(); if (!(!l || !u || a == null || u === 'index' && a === 'none' || i && i.includeMainTypes && n.indexOf(i.includeMainTypes, l) < 0)) { var c = { mainType: l }; u === 'index' && a === 'all' || (c[u] = a); var h = e.queryComponents(c); s[l + 'Models'] = h, s[l + 'Model'] = h[0] } } else s[r] = a }), s } function S (e, t) { return e && e.hasOwnProperty(t) } function M (e, t, i) { e.setAttribute ? e.setAttribute(t, i) : e[t] = i } function I (e, t) { return e.getAttribute ? e.getAttribute(t) : e[t] } function A (e) { return e === 'auto' ? a.domSupported ? 'html' : 'richText' : e || 'html' } function T (e, t) { var i = n.createHashMap(); var a = []; return n.each(e, function (e) { var n = t(e); (i.get(n) || (a.push(n), i.set(n, []))).push(e) }), { keys: a, buckets: i } }t.normalizeToArray = u, t.defaultEmphasis = c, t.TEXT_STYLE_OPTIONS = h, t.getDataItemValue = d, t.isDataItemOption = f, t.mappingToExists = p, t.makeIdAndName = g, t.isNameSpecified = m, t.isIdInner = v, t.compressBatches = y, t.queryDataIndex = x, t.makeInner = _, t.parseFinder = w, t.setAttribute = M, t.getAttribute = I, t.getTooltipRenderMode = A, t.groupData = T }, e0d8: function (e, t, i) { var n = i('625e'); function a (e) { this._setting = e || {}, this._extent = [1 / 0, -1 / 0], this._interval = 0, this.init && this.init.apply(this, arguments) }a.prototype.parse = function (e) { return e }, a.prototype.getSetting = function (e) { return this._setting[e] }, a.prototype.contain = function (e) { var t = this._extent; return e >= t[0] && e <= t[1] }, a.prototype.normalize = function (e) { var t = this._extent; return t[1] === t[0] ? 0.5 : (e - t[0]) / (t[1] - t[0]) }, a.prototype.scale = function (e) { var t = this._extent; return e * (t[1] - t[0]) + t[0] }, a.prototype.unionExtent = function (e) { var t = this._extent; e[0] < t[0] && (t[0] = e[0]), e[1] > t[1] && (t[1] = e[1]) }, a.prototype.unionExtentFromData = function (e, t) { this.unionExtent(e.getApproximateExtent(t)) }, a.prototype.getExtent = function () { return this._extent.slice() }, a.prototype.setExtent = function (e, t) { var i = this._extent; isNaN(e) || (i[0] = e), isNaN(t) || (i[1] = t) }, a.prototype.isBlank = function () { return this._isBlank }, a.prototype.setBlank = function (e) { this._isBlank = e }, a.prototype.getLabel = null, n.enableClassExtend(a), n.enableClassManagement(a, { registerWhenExtend: !0 }); var r = a; e.exports = r }, e1fc: function (e, t, i) { var n = i('6d8b'); var a = i('d5b7'); var r = i('9850'); var o = function (e) { for (var t in e = e || {}, a.call(this, e), e)e.hasOwnProperty(t) && (this[t] = e[t]); this._children = [], this.__storage = null, this.__dirty = !0 }; o.prototype = { constructor: o, isGroup: !0, type: 'group', silent: !1, children: function () { return this._children.slice() }, childAt: function (e) { return this._children[e] }, childOfName: function (e) { for (var t = this._children, i = 0; i < t.length; i++) if (t[i].name === e) return t[i] }, childCount: function () { return this._children.length }, add: function (e) { return e && e !== this && e.parent !== this && (this._children.push(e), this._doAdd(e)), this }, addBefore: function (e, t) { if (e && e !== this && e.parent !== this && t && t.parent === this) { var i = this._children; var n = i.indexOf(t); n >= 0 && (i.splice(n, 0, e), this._doAdd(e)) } return this }, _doAdd: function (e) { e.parent && e.parent.remove(e), e.parent = this; var t = this.__storage; var i = this.__zr; t && t !== e.__storage && (t.addToStorage(e), e instanceof o && e.addChildrenToStorage(t)), i && i.refresh() }, remove: function (e) { var t = this.__zr; var i = this.__storage; var a = this._children; var r = n.indexOf(a, e); return r < 0 || (a.splice(r, 1), e.parent = null, i && (i.delFromStorage(e), e instanceof o && e.delChildrenFromStorage(i)), t && t.refresh()), this }, removeAll: function () { var e; var t; var i = this._children; var n = this.__storage; for (t = 0; t < i.length; t++)e = i[t], n && (n.delFromStorage(e), e instanceof o && e.delChildrenFromStorage(n)), e.parent = null; return i.length = 0, this }, eachChild: function (e, t) { for (var i = this._children, n = 0; n < i.length; n++) { var a = i[n]; e.call(t, a, n) } return this }, traverse: function (e, t) { for (var i = 0; i < this._children.length; i++) { var n = this._children[i]; e.call(t, n), n.type === 'group' && n.traverse(e, t) } return this }, addChildrenToStorage: function (e) { for (var t = 0; t < this._children.length; t++) { var i = this._children[t]; e.addToStorage(i), i instanceof o && i.addChildrenToStorage(e) } }, delChildrenFromStorage: function (e) { for (var t = 0; t < this._children.length; t++) { var i = this._children[t]; e.delFromStorage(i), i instanceof o && i.delChildrenFromStorage(e) } }, dirty: function () { return this.__dirty = !0, this.__zr && this.__zr.refresh(), this }, getBoundingRect: function (e) { for (var t = null, i = new r(0, 0, 0, 0), n = e || this._children, a = [], o = 0; o < n.length; o++) { var s = n[o]; if (!s.ignore && !s.invisible) { var l = s.getBoundingRect(); var u = s.getLocalTransform(a); u ? (i.copy(l), i.applyTransform(u), t = t || i.clone(), t.union(i)) : (t = t || l.clone(), t.union(l)) } } return t || i } }, n.inherits(o, a); var s = o; e.exports = s }, e263: function (e, t, i) { var n = i('401b'); var a = i('4a3f'); var r = Math.min; var o = Math.max; var s = Math.sin; var l = Math.cos; var u = 2 * Math.PI; var c = n.create(); var h = n.create(); var d = n.create(); function f (e, t, i) { if (e.length !== 0) { var n; var a = e[0]; var s = a[0]; var l = a[0]; var u = a[1]; var c = a[1]; for (n = 1; n < e.length; n++)a = e[n], s = r(s, a[0]), l = o(l, a[0]), u = r(u, a[1]), c = o(c, a[1]); t[0] = s, t[1] = u, i[0] = l, i[1] = c } } function p (e, t, i, n, a, s) { a[0] = r(e, i), a[1] = r(t, n), s[0] = o(e, i), s[1] = o(t, n) } var g = []; var m = []; function v (e, t, i, n, s, l, u, c, h, d) { var f; var p = a.cubicExtrema; var v = a.cubicAt; var y = p(e, i, s, u, g); for (h[0] = 1 / 0, h[1] = 1 / 0, d[0] = -1 / 0, d[1] = -1 / 0, f = 0; f < y; f++) { var x = v(e, i, s, u, g[f]); h[0] = r(x, h[0]), d[0] = o(x, d[0]) } for (y = p(t, n, l, c, m), f = 0; f < y; f++) { var _ = v(t, n, l, c, m[f]); h[1] = r(_, h[1]), d[1] = o(_, d[1]) }h[0] = r(e, h[0]), d[0] = o(e, d[0]), h[0] = r(u, h[0]), d[0] = o(u, d[0]), h[1] = r(t, h[1]), d[1] = o(t, d[1]), h[1] = r(c, h[1]), d[1] = o(c, d[1]) } function y (e, t, i, n, s, l, u, c) { var h = a.quadraticExtremum; var d = a.quadraticAt; var f = o(r(h(e, i, s), 1), 0); var p = o(r(h(t, n, l), 1), 0); var g = d(e, i, s, f); var m = d(t, n, l, p); u[0] = r(e, s, g), u[1] = r(t, l, m), c[0] = o(e, s, g), c[1] = o(t, l, m) } function x (e, t, i, a, r, o, f, p, g) { var m = n.min; var v = n.max; var y = Math.abs(r - o); if (y % u < 1e-4 && y > 1e-4) return p[0] = e - i, p[1] = t - a, g[0] = e + i, void (g[1] = t + a); if (c[0] = l(r) * i + e, c[1] = s(r) * a + t, h[0] = l(o) * i + e, h[1] = s(o) * a + t, m(p, c, h), v(g, c, h), r %= u, r < 0 && (r += u), o %= u, o < 0 && (o += u), r > o && !f ? o += u : r < o && f && (r += u), f) { var x = o; o = r, r = x } for (var _ = 0; _ < o; _ += Math.PI / 2)_ > r && (d[0] = l(_) * i + e, d[1] = s(_) * a + t, m(p, d, p), v(g, d, g)) }t.fromPoints = f, t.fromLine = p, t.fromCubic = v, t.fromQuadratic = y, t.fromArc = x }, e468: function (e, t, i) { var n = i('e46b'); var a = i('6d8b'); var r = i('2f45'); var o = r.getDimensionTypeByAxis; var s = i('0f99'); var l = s.makeSeriesEncodeForAxisCoordSys; var u = { _baseAxisDim: null, getInitialData: function (e, t) { var i; var r; var s = t.getComponent('xAxis', this.get('xAxisIndex')); var u = t.getComponent('yAxis', this.get('yAxisIndex')); var c = s.get('type'); var h = u.get('type'); c === 'category' ? (e.layout = 'horizontal', i = s.getOrdinalMeta(), r = !0) : h === 'category' ? (e.layout = 'vertical', i = u.getOrdinalMeta(), r = !0) : e.layout = e.layout || 'horizontal'; var d = ['x', 'y']; var f = e.layout === 'horizontal' ? 0 : 1; var p = this._baseAxisDim = d[f]; var g = d[1 - f]; var m = [s, u]; var v = m[f].get('type'); var y = m[1 - f].get('type'); var x = e.data; if (x && r) { var _ = []; a.each(x, function (e, t) { var i; e.value && a.isArray(e.value) ? (i = e.value.slice(), e.value.unshift(t)) : a.isArray(e) ? (i = e.slice(), e.unshift(t)) : i = e, _.push(i) }), e.data = _ } var b = this.defaultValueDimensions; var w = [{ name: p, type: o(v), ordinalMeta: i, otherDims: { tooltip: !1, itemName: 0 }, dimsDef: ['base'] }, { name: g, type: o(y), dimsDef: b.slice() }]; return n(this, { coordDimensions: w, dimensionsCount: b.length + 1, encodeDefaulter: a.curry(l, w, this) }) }, getBaseAxis: function () { var e = this._baseAxisDim; return this.ecModel.getComponent(e + 'Axis', this.get(e + 'AxisIndex')).axis } }; t.seriesModelMixin = u }, e46b: function (e, t, i) { var n = i('b1d4'); var a = i('6179'); var r = i('6d8b'); var o = r.extend; var s = r.isArray; function l (e, t, i) { t = s(t) && { coordDimensions: t } || o({}, t); var r = e.getSource(); var l = n(r, t); var u = new a(l, e); return u.initData(r, i), u }e.exports = l }, e47b: function (e, t, i) { var n = i('e0d3'); var a = n.makeInner; var r = n.normalizeToArray; var o = a(); function s (e, t) { for (var i = e.length, n = 0; n < i; n++) if (e[n].length > t) return e[n]; return e[i - 1] } var l = { clearColorPalette: function () { o(this).colorIdx = 0, o(this).colorNameMap = {} }, getColorFromPalette: function (e, t, i) { t = t || this; var n = o(t); var a = n.colorIdx || 0; var l = n.colorNameMap = n.colorNameMap || {}; if (l.hasOwnProperty(e)) return l[e]; var u = r(this.get('color', !0)); var c = this.get('colorLayer', !0); var h = i != null && c ? s(c, i) : u; if (h = h || u, h && h.length) { var d = h[a]; return e && (l[e] = d), n.colorIdx = (a + 1) % h.length, d } } }; e.exports = l }, e4d1: function (e, t, i) { i('6932'), i('3a56'), i('7dcf'), i('3790'), i('2325'), i('2c17'), i('9e87') }, e6cd: function (e, t, i) { var n = i('6d8b'); function a () { var e; var t = []; var i = {}; return { add: function (e, a, r, o, s) { return n.isString(o) && (s = o, o = 0), !i[e.id] && (i[e.id] = 1, t.push({ el: e, target: a, time: r, delay: o, easing: s }), !0) }, done: function (t) { return e = t, this }, start: function () { for (var n = t.length, a = 0, r = t.length; a < r; a++) { var o = t[a]; o.el.animateTo(o.target, o.time, o.delay, o.easing, s) } return this; function s () { n--, n || (t.length = 0, i = {}, e && e()) } } } }t.createWrap = a }, e7aa: function (e, t, i) { var n = i('2306'); var a = i('c775'); var r = a.getDefaultLabel; function o (e, t, i, a, o, l, u) { var c = i.getModel('label'); var h = i.getModel('emphasis.label'); n.setLabelStyle(e, t, c, h, { labelFetcher: o, labelDataIndex: l, defaultText: r(o.getData(), l), isRectText: !0, autoColor: a }), s(e), s(t) } function s (e, t) { e.textPosition === 'outside' && (e.textPosition = t) }t.setLabel = o }, e7d2: function (e, t, i) { var n = i('4a3f'); function a (e, t, i, a, r, o, s, l, u, c, h) { if (u === 0) return !1; var d = u; if (h > t + d && h > a + d && h > o + d && h > l + d || h < t - d && h < a - d && h < o - d && h < l - d || c > e + d && c > i + d && c > r + d && c > s + d || c < e - d && c < i - d && c < r - d && c < s - d) return !1; var f = n.cubicProjectPoint(e, t, i, a, r, o, s, l, c, h, null); return f <= d / 2 }t.containStroke = a }, e86a: function (e, t, i) { var n = i('9850'); var a = i('5e76'); var r = i('6d8b'); var o = r.getContext; var s = r.extend; var l = r.retrieve2; var u = r.retrieve3; var c = r.trim; var h = {}; var d = 0; var f = 5e3; var p = /\{([a-zA-Z0-9_]+)\|([^}]*)\}/g; var g = '12px sans-serif'; var m = {}; function v (e, t) { m[e] = t } function y (e, t) { t = t || g; var i = e + ':' + t; if (h[i]) return h[i]; for (var n = (e + '').split('\n'), a = 0, r = 0, o = n.length; r < o; r++)a = Math.max(P(n[r], t).width, a); return d > f && (d = 0, h = {}), d++, h[i] = a, a } function x (e, t, i, n, a, r, o, s) { return o ? b(e, t, i, n, a, r, o, s) : _(e, t, i, n, a, r, s) } function _ (e, t, i, a, r, o, s) { var l = k(e, t, r, o, s); var u = y(e, t); r && (u += r[1] + r[3]); var c = l.outerHeight; var h = w(0, u, i); var d = S(0, c, a); var f = new n(h, d, u, c); return f.lineHeight = l.lineHeight, f } function b (e, t, i, a, r, o, s, l) { var u = O(e, { rich: s, truncate: l, font: t, textAlign: i, textPadding: r, textLineHeight: o }); var c = u.outerWidth; var h = u.outerHeight; var d = w(0, c, i); var f = S(0, h, a); return new n(d, f, c, h) } function w (e, t, i) { return i === 'right' ? e -= t : i === 'center' && (e -= t / 2), e } function S (e, t, i) { return i === 'middle' ? e -= t / 2 : i === 'bottom' && (e -= t), e } function M (e, t, i) { var n = t.textPosition; var a = t.textDistance; var r = i.x; var o = i.y; a = a || 0; var s = i.height; var l = i.width; var u = s / 2; var c = 'left'; var h = 'top'; switch (n) { case 'left':r -= a, o += u, c = 'right', h = 'middle'; break; case 'right':r += a + l, o += u, h = 'middle'; break; case 'top':r += l / 2, o -= a, c = 'center', h = 'bottom'; break; case 'bottom':r += l / 2, o += s + a, c = 'center'; break; case 'inside':r += l / 2, o += u, c = 'center', h = 'middle'; break; case 'insideLeft':r += a, o += u, h = 'middle'; break; case 'insideRight':r += l - a, o += u, c = 'right', h = 'middle'; break; case 'insideTop':r += l / 2, o += a, c = 'center'; break; case 'insideBottom':r += l / 2, o += s - a, c = 'center', h = 'bottom'; break; case 'insideTopLeft':r += a, o += a; break; case 'insideTopRight':r += l - a, o += a, c = 'right'; break; case 'insideBottomLeft':r += a, o += s - a, h = 'bottom'; break; case 'insideBottomRight':r += l - a, o += s - a, c = 'right', h = 'bottom'; break } return e = e || {}, e.x = r, e.y = o, e.textAlign = c, e.textVerticalAlign = h, e } function I (e, t, i) { var n = { textPosition: e, textDistance: i }; return M({}, n, t) } function A (e, t, i, n, a) { if (!t) return ''; var r = (e + '').split('\n'); a = T(t, i, n, a); for (var o = 0, s = r.length; o < s; o++)r[o] = C(r[o], a); return r.join('\n') } function T (e, t, i, n) { n = s({}, n), n.font = t; i = l(i, '...'); n.maxIterations = l(n.maxIterations, 2); var a = n.minChar = l(n.minChar, 0); n.cnCharWidth = y('国', t); var r = n.ascCharWidth = y('a', t); n.placeholder = l(n.placeholder, ''); for (var o = e = Math.max(0, e - 1), u = 0; u < a && o >= r; u++)o -= r; var c = y(i, t); return c > o && (i = '', c = 0), o = e - c, n.ellipsis = i, n.ellipsisWidth = c, n.contentWidth = o, n.containerWidth = e, n } function C (e, t) { var i = t.containerWidth; var n = t.font; var a = t.contentWidth; if (!i) return ''; var r = y(e, n); if (r <= i) return e; for (var o = 0; ;o++) { if (r <= a || o >= t.maxIterations) { e += t.ellipsis; break } var s = o === 0 ? D(e, a, t.ascCharWidth, t.cnCharWidth) : r > 0 ? Math.floor(e.length * a / r) : 0; e = e.substr(0, s), r = y(e, n) } return e === '' && (e = t.placeholder), e } function D (e, t, i, n) { for (var a = 0, r = 0, o = e.length; r < o && a < t; r++) { var s = e.charCodeAt(r); a += s >= 0 && s <= 127 ? i : n } return r } function L (e) { return y('国', e) } function P (e, t) { return m.measureText(e, t) } function k (e, t, i, n, a) { e != null && (e += ''); var r = l(n, L(t)); var o = e ? e.split('\n') : []; var s = o.length * r; var u = s; var c = !0; if (i && (u += i[0] + i[2]), e && a) { c = !1; var h = a.outerHeight; var d = a.outerWidth; if (h != null && u > h)e = '', o = []; else if (d != null) for (var f = T(d - (i ? i[1] + i[3] : 0), t, a.ellipsis, { minChar: a.minChar, placeholder: a.placeholder }), p = 0, g = o.length; p < g; p++)o[p] = C(o[p], f) } return { lines: o, height: s, outerHeight: u, lineHeight: r, canCacheByTextString: c } } function O (e, t) { var i = { lines: [], width: 0, height: 0 }; if (e != null && (e += ''), !e) return i; var n; var r = p.lastIndex = 0; while ((n = p.exec(e)) != null) { var o = n.index; o > r && R(i, e.substring(r, o)), R(i, n[2], n[1]), r = p.lastIndex }r < e.length && R(i, e.substring(r, e.length)); var s = i.lines; var c = 0; var h = 0; var d = []; var f = t.textPadding; var g = t.truncate; var m = g && g.outerWidth; var v = g && g.outerHeight; f && (m != null && (m -= f[1] + f[3]), v != null && (v -= f[0] + f[2])); for (var x = 0; x < s.length; x++) { for (var _ = s[x], b = 0, w = 0, S = 0; S < _.tokens.length; S++) { var M = _.tokens[S]; var I = M.styleName && t.rich[M.styleName] || {}; var T = M.textPadding = I.textPadding; var C = M.font = I.font || t.font; var D = M.textHeight = l(I.textHeight, L(C)); if (T && (D += T[0] + T[2]), M.height = D, M.lineHeight = u(I.textLineHeight, t.textLineHeight, D), M.textAlign = I && I.textAlign || t.textAlign, M.textVerticalAlign = I && I.textVerticalAlign || 'middle', v != null && c + M.lineHeight > v) return { lines: [], width: 0, height: 0 }; M.textWidth = y(M.text, C); var P = I.textWidth; var k = P == null || P === 'auto'; if (typeof P === 'string' && P.charAt(P.length - 1) === '%')M.percentWidth = P, d.push(M), P = 0; else { if (k) { P = M.textWidth; var O = I.textBackgroundColor; var E = O && O.image; E && (E = a.findExistImage(E), a.isImageReady(E) && (P = Math.max(P, E.width * D / E.height))) } var N = T ? T[1] + T[3] : 0; P += N; var z = m != null ? m - w : null; z != null && z < P && (!k || z < N ? (M.text = '', M.textWidth = P = 0) : (M.text = A(M.text, z - N, C, g.ellipsis, { minChar: g.minChar }), M.textWidth = y(M.text, C), P = M.textWidth + N)) }w += M.width = P, I && (b = Math.max(b, M.lineHeight)) }_.width = w, _.lineHeight = b, c += b, h = Math.max(h, w) }i.outerWidth = i.width = l(t.textWidth, h), i.outerHeight = i.height = l(t.textHeight, c), f && (i.outerWidth += f[1] + f[3], i.outerHeight += f[0] + f[2]); for (x = 0; x < d.length; x++) { M = d[x]; var B = M.percentWidth; M.width = parseInt(B, 10) / 100 * h } return i } function R (e, t, i) { for (var n = t === '', a = t.split('\n'), r = e.lines, o = 0; o < a.length; o++) { var s = a[o]; var l = { styleName: i, text: s, isLineHolder: !s && !n }; if (o)r.push({ tokens: [l] }); else { var u = (r[r.length - 1] || (r[0] = { tokens: [] })).tokens; var c = u.length; c === 1 && u[0].isLineHolder ? u[0] = l : (s || !c || n) && u.push(l) } } } function E (e) { var t = (e.fontSize || e.fontFamily) && [e.fontStyle, e.fontWeight, (e.fontSize || 12) + 'px', e.fontFamily || 'sans-serif'].join(' '); return t && c(t) || e.textFont || e.font }m.measureText = function (e, t) { var i = o(); return i.font = t || g, i.measureText(e) }, t.DEFAULT_FONT = g, t.$override = v, t.getWidth = y, t.getBoundingRect = x, t.adjustTextX = w, t.adjustTextY = S, t.calculateTextPosition = M, t.adjustTextPositionOnRect = I, t.truncateText = A, t.getLineHeight = L, t.measureText = P, t.parsePlainText = k, t.parseRichText = O, t.makeFont = E }, e887: function (e, t, i) { var n = i('6d8b'); var a = n.each; var r = i('e1fc'); var o = i('8918'); var s = i('625e'); var l = i('e0d3'); var u = i('2306'); var c = i('f47d'); var h = c.createTask; var d = i('cccd'); var f = l.makeInner(); var p = d(); function g () { this.group = new r(), this.uid = o.getUID('viewChart'), this.renderTask = h({ plan: x, reset: _ }), this.renderTask.context = { view: this } }g.prototype = { type: 'chart', init: function (e, t) {}, render: function (e, t, i, n) {}, highlight: function (e, t, i, n) { y(e.getData(), n, 'emphasis') }, downplay: function (e, t, i, n) { y(e.getData(), n, 'normal') }, remove: function (e, t) { this.group.removeAll() }, dispose: function () {}, incrementalPrepareRender: null, incrementalRender: null, updateTransform: null, filterForExposedEvent: null }; var m = g.prototype; function v (e, t, i) { if (e && (e.trigger(t, i), e.isGroup && !u.isHighDownDispatcher(e))) for (var n = 0, a = e.childCount(); n < a; n++)v(e.childAt(n), t, i) } function y (e, t, i) { var n = l.queryDataIndex(e, t); var r = t && t.highlightKey != null ? u.getHighlightDigit(t.highlightKey) : null; n != null ? a(l.normalizeToArray(n), function (t) { v(e.getItemGraphicEl(t), i, r) }) : e.eachItemGraphicEl(function (e) { v(e, i, r) }) } function x (e) { return p(e.model) } function _ (e) { var t = e.model; var i = e.ecModel; var n = e.api; var a = e.payload; var r = t.pipelineContext.progressiveRender; var o = e.view; var s = a && f(a).updateMethod; var l = r ? 'incrementalPrepareRender' : s && o[s] ? s : 'render'; return l !== 'render' && o[l](t, i, n, a), b[l] }m.updateView = m.updateLayout = m.updateVisual = function (e, t, i, n) { this.render(e, t, i, n) }, s.enableClassExtend(g, ['dispose']), s.enableClassManagement(g, { registerWhenExtend: !0 }), g.markUpdateMethod = function (e, t) { f(e).updateMethod = t }; var b = { incrementalPrepareRender: { progress: function (e, t) { t.view.incrementalRender(e, t.model, t.ecModel, t.api, t.payload) } }, render: { forceFirstProgress: !0, progress: function (e, t) { t.view.render(t.model, t.ecModel, t.api, t.payload) } } }; var w = g; e.exports = w }, e8b5: function (e, t, i) { var n = i('c6b6'); e.exports = Array.isArray || function (e) { return n(e) == 'Array' } }, e9f9: function (e, t, i) { var n = i('4942'); var a = i('d3a4'); var r = i('6d8b'); var o = r.each; function s (e) { return parseInt(e, 10) } function l (e, t) { a.initVML(), this.root = e, this.storage = t; var i = document.createElement('div'); var n = document.createElement('div'); i.style.cssText = 'display:inline-block;overflow:hidden;position:relative;width:300px;height:150px;', n.style.cssText = 'position:absolute;left:0;top:0;', e.appendChild(i), this._vmlRoot = n, this._vmlViewport = i, this.resize(); var r = t.delFromStorage; var o = t.addToStorage; t.delFromStorage = function (e) { r.call(t, e), e && e.onRemove && e.onRemove(n) }, t.addToStorage = function (e) { e.onAdd && e.onAdd(n), o.call(t, e) }, this._firstPaint = !0 } function u (e) { return function () { n('In IE8.0 VML mode painter not support method "' + e + '"') } }l.prototype = { constructor: l, getType: function () { return 'vml' }, getViewportRoot: function () { return this._vmlViewport }, getViewportRootOffset: function () { var e = this.getViewportRoot(); if (e) return { offsetLeft: e.offsetLeft || 0, offsetTop: e.offsetTop || 0 } }, refresh: function () { var e = this.storage.getDisplayList(!0, !0); this._paintList(e) }, _paintList: function (e) { for (var t = this._vmlRoot, i = 0; i < e.length; i++) { var n = e[i]; n.invisible || n.ignore ? (n.__alreadyNotVisible || n.onRemove(t), n.__alreadyNotVisible = !0) : (n.__alreadyNotVisible && n.onAdd(t), n.__alreadyNotVisible = !1, n.__dirty && (n.beforeBrush && n.beforeBrush(), (n.brushVML || n.brush).call(n, t), n.afterBrush && n.afterBrush())), n.__dirty = !1 } this._firstPaint && (this._vmlViewport.appendChild(t), this._firstPaint = !1) }, resize: function (e, t) { e = e == null ? this._getWidth() : e, t = t == null ? this._getHeight() : t; if (this._width !== e || this._height !== t) { this._width = e, this._height = t; var i = this._vmlViewport.style; i.width = e + 'px', i.height = t + 'px' } }, dispose: function () { this.root.innerHTML = '', this._vmlRoot = this._vmlViewport = this.storage = null }, getWidth: function () { return this._width }, getHeight: function () { return this._height }, clear: function () { this._vmlViewport && this.root.removeChild(this._vmlViewport) }, _getWidth: function () { var e = this.root; var t = e.currentStyle; return (e.clientWidth || s(t.width)) - s(t.paddingLeft) - s(t.paddingRight) | 0 }, _getHeight: function () { var e = this.root; var t = e.currentStyle; return (e.clientHeight || s(t.height)) - s(t.paddingTop) - s(t.paddingBottom) | 0 } }, o(['getLayer', 'insertLayer', 'eachLayer', 'eachBuiltinLayer', 'eachOtherLayer', 'getLayers', 'modLayer', 'delLayer', 'clearLayer', 'toDataURL', 'pathToImage'], function (e) { l.prototype[e] = u(e) }); var c = l; e.exports = c }, eabf: function (e, t, i) { var n = i('6d8b'); function a (e) { e && n.isArray(e.series) && n.each(e.series, function (e) { n.isObject(e) && e.type === 'k' && (e.type = 'candlestick') }) }e.exports = a }, eaea: function (e, t, i) { var n = i('3eba'); var a = i('6d8b'); var r = i('22d1'); var o = i('60e3'); var s = i('5f14'); var l = i('2b8c'); var u = i('e0d3'); var c = i('3842'); var h = s.mapVisual; var d = s.eachVisual; var f = a.isArray; var p = a.each; var g = c.asc; var m = c.linearMap; var v = a.noop; var y = n.extendComponentModel({ type: 'visualMap', dependencies: ['series'], stateList: ['inRange', 'outOfRange'], replacableOptionKeys: ['inRange', 'outOfRange', 'target', 'controller', 'color'], dataBound: [-1 / 0, 1 / 0], layoutMode: { type: 'box', ignoreSize: !0 }, defaultOption: { show: !0, zlevel: 0, z: 4, seriesIndex: 'all', min: 0, max: 200, dimension: null, inRange: null, outOfRange: null, left: 0, right: null, top: null, bottom: 0, itemWidth: null, itemHeight: null, inverse: !1, orient: 'vertical', backgroundColor: 'rgba(0,0,0,0)', borderColor: '#ccc', contentColor: '#5793f3', inactiveColor: '#aaa', borderWidth: 0, padding: 5, textGap: 10, precision: 0, color: null, formatter: null, text: null, textStyle: { color: '#333' } }, init: function (e, t, i) { this._dataExtent, this.targetVisuals = {}, this.controllerVisuals = {}, this.textStyleModel, this.itemSize, this.mergeDefaultAndTheme(e, i) }, optionUpdated: function (e, t) { var i = this.option; r.canvasSupported || (i.realtime = !1), !t && l.replaceVisualOption(i, e, this.replacableOptionKeys), this.textStyleModel = this.getModel('textStyle'), this.resetItemSize(), this.completeVisualOption() }, resetVisual: function (e) { var t = this.stateList; e = a.bind(e, this), this.controllerVisuals = l.createVisualMappings(this.option.controller, t, e), this.targetVisuals = l.createVisualMappings(this.option.target, t, e) }, getTargetSeriesIndices: function () { var e = this.option.seriesIndex; var t = []; return e == null || e === 'all' ? this.ecModel.eachSeries(function (e, i) { t.push(i) }) : t = u.normalizeToArray(e), t }, eachTargetSeries: function (e, t) { a.each(this.getTargetSeriesIndices(), function (i) { e.call(t, this.ecModel.getSeriesByIndex(i)) }, this) }, isTargetSeries: function (e) { var t = !1; return this.eachTargetSeries(function (i) { i === e && (t = !0) }), t }, formatValueText: function (e, t, i) { var n; var r; var o = this.option; var s = o.precision; var l = this.dataBound; var u = o.formatter; return i = i || ['<', '>'], a.isArray(e) && (e = e.slice(), n = !0), r = t ? e : n ? [c(e[0]), c(e[1])] : c(e), a.isString(u) ? u.replace('{value}', n ? r[0] : r).replace('{value2}', n ? r[1] : r) : a.isFunction(u) ? n ? u(e[0], e[1]) : u(e) : n ? e[0] === l[0] ? i[0] + ' ' + r[1] : e[1] === l[1] ? i[1] + ' ' + r[0] : r[0] + ' - ' + r[1] : r; function c (e) { return e === l[0] ? 'min' : e === l[1] ? 'max' : (+e).toFixed(Math.min(s, 20)) } }, resetExtent: function () { var e = this.option; var t = g([e.min, e.max]); this._dataExtent = t }, getDataDimension: function (e) { var t = this.option.dimension; var i = e.dimensions; if (t != null || i.length) { if (t != null) return e.getDimension(t); for (var n = e.dimensions, a = n.length - 1; a >= 0; a--) { var r = n[a]; var o = e.getDimensionInfo(r); if (!o.isCalculationCoord) return r } } }, getExtent: function () { return this._dataExtent.slice() }, completeVisualOption: function () { var e = this.ecModel; var t = this.option; var i = { inRange: t.inRange, outOfRange: t.outOfRange }; var n = t.target || (t.target = {}); var r = t.controller || (t.controller = {}); a.merge(n, i), a.merge(r, i); var l = this.isCategory(); function u (i) { f(t.color) && !i.inRange && (i.inRange = { color: t.color.slice().reverse() }), i.inRange = i.inRange || { color: e.get('gradientColor') }, p(this.stateList, function (e) { var t = i[e]; if (a.isString(t)) { var n = o.get(t, 'active', l); n ? (i[e] = {}, i[e][t] = n) : delete i[e] } }, this) } function c (e, t, i) { var n = e[t]; var a = e[i]; n && !a && (a = e[i] = {}, p(n, function (e, t) { if (s.isValidType(t)) { var i = o.get(t, 'inactive', l); i != null && (a[t] = i, t !== 'color' || a.hasOwnProperty('opacity') || a.hasOwnProperty('colorAlpha') || (a.opacity = [0, 0])) } })) } function g (e) { var t = (e.inRange || {}).symbol || (e.outOfRange || {}).symbol; var i = (e.inRange || {}).symbolSize || (e.outOfRange || {}).symbolSize; var n = this.get('inactiveColor'); p(this.stateList, function (r) { var o = this.itemSize; var s = e[r]; s || (s = e[r] = { color: l ? n : [n] }), s.symbol == null && (s.symbol = t && a.clone(t) || (l ? 'roundRect' : ['roundRect'])), s.symbolSize == null && (s.symbolSize = i && a.clone(i) || (l ? o[0] : [o[0], o[0]])), s.symbol = h(s.symbol, function (e) { return e === 'none' || e === 'square' ? 'roundRect' : e }); var u = s.symbolSize; if (u != null) { var c = -1 / 0; d(u, function (e) { e > c && (c = e) }), s.symbolSize = h(u, function (e) { return m(e, [0, c], [0, o[0]], !0) }) } }, this) }u.call(this, n), u.call(this, r), c.call(this, n, 'inRange', 'outOfRange'), g.call(this, r) }, resetItemSize: function () { this.itemSize = [parseFloat(this.get('itemWidth')), parseFloat(this.get('itemHeight'))] }, isCategory: function () { return !!this.option.categories }, setSelected: v, getValueState: v, getVisualMeta: v }); var x = y; e.exports = x }, eaeb: function (e, t, i) { var n = i('6d8b'); function a (e, t) { return n.map(['Radius', 'Angle'], function (i, n) { var a = this['get' + i + 'Axis'](); var r = t[n]; var o = e[n] / 2; var s = 'dataTo' + i; var l = a.type === 'category' ? a.getBandWidth() : Math.abs(a[s](r - o) - a[s](r + o)); return i === 'Angle' && (l = l * Math.PI / 180), l }, this) } function r (e) { var t = e.getRadiusAxis(); var i = e.getAngleAxis(); var r = t.getExtent(); return r[0] > r[1] && r.reverse(), { coordSys: { type: 'polar', cx: e.cx, cy: e.cy, r: r[1], r0: r[0] }, api: { coord: n.bind(function (n) { var a = t.dataToRadius(n[0]); var r = i.dataToAngle(n[1]); var o = e.coordToPoint([a, r]); return o.push(a, r * Math.PI / 180), o }), size: n.bind(a, e) } } }e.exports = r }, eb6b: function (e, t, i) { var n = i('6d8b'); var a = i('e0d3'); var r = a.makeInner; var o = i('cd33'); var s = i('133d'); var l = n.each; var u = n.curry; var c = r(); function h (e, t, i) { var a = e.currTrigger; var r = [e.x, e.y]; var o = e; var c = e.dispatchAction || n.bind(i.dispatchAction, i); var h = t.getComponent('axisPointer').coordSysAxesInfo; if (h) { b(r) && (r = s({ seriesIndex: o.seriesIndex, dataIndex: o.dataIndex }, t).point); var f = b(r); var w = o.axesInfo; var S = h.axesInfo; var M = a === 'leave' || b(r); var I = {}; var A = {}; var T = { list: [], map: {} }; var C = { showPointer: u(p, A), showTooltip: u(g, T) }; l(h.coordSysMap, function (e, t) { var i = f || e.containPoint(r); l(h.coordSysAxesInfo[t], function (e, t) { var n = e.axis; var a = x(w, e); if (!M && i && (!w || a)) { var o = a && a.value; o != null || f || (o = n.pointToData(r)), o != null && d(e, o, C, !1, I) } }) }); var D = {}; return l(S, function (e, t) { var i = e.linkGroup; i && !A[t] && l(i.axesInfo, function (t, n) { var a = A[n]; if (t !== e && a) { var r = a.value; i.mapper && (r = e.axis.scale.parse(i.mapper(r, _(t), _(e)))), D[e.key] = r } }) }), l(D, function (e, t) { d(S[t], e, C, !0, I) }), m(A, S, I), v(T, r, e, c), y(S, c, i), I } } function d (e, t, i, a, r) { var o = e.axis; if (!o.scale.isBlank() && o.containData(t)) if (e.involveSeries) { var s = f(t, e); var l = s.payloadBatch; var u = s.snapToValue; l[0] && r.seriesIndex == null && n.extend(r, l[0]), !a && e.snap && o.containData(u) && u != null && (t = u), i.showPointer(e, t, l, r), i.showTooltip(e, s, u) } else i.showPointer(e, t) } function f (e, t) { var i = t.axis; var n = i.dim; var a = e; var r = []; var o = Number.MAX_VALUE; var s = -1; return l(t.seriesModels, function (t, u) { var c; var h; var d = t.getData().mapDimension(n, !0); if (t.getAxisTooltipData) { var f = t.getAxisTooltipData(d, e, i); h = f.dataIndices, c = f.nestestValue } else { if (h = t.getData().indicesOfNearest(d[0], e, i.type === 'category' ? 0.5 : null), !h.length) return; c = t.getData().get(d[0], h[0]) } if (c != null && isFinite(c)) { var p = e - c; var g = Math.abs(p); g <= o && ((g < o || p >= 0 && s < 0) && (o = g, s = p, a = c, r.length = 0), l(h, function (e) { r.push({ seriesIndex: t.seriesIndex, dataIndexInside: e, dataIndex: t.getData().getRawIndex(e) }) })) } }), { payloadBatch: r, snapToValue: a } } function p (e, t, i, n) { e[t.key] = { value: i, payloadBatch: n } } function g (e, t, i, n) { var a = i.payloadBatch; var r = t.axis; var s = r.model; var l = t.axisPointerModel; if (t.triggerTooltip && a.length) { var u = t.coordSys.model; var c = o.makeKey(u); var h = e.map[c]; h || (h = e.map[c] = { coordSysId: u.id, coordSysIndex: u.componentIndex, coordSysType: u.type, coordSysMainType: u.mainType, dataByAxis: [] }, e.list.push(h)), h.dataByAxis.push({ axisDim: r.dim, axisIndex: s.componentIndex, axisType: s.type, axisId: s.id, value: n, valueLabelOpt: { precision: l.get('label.precision'), formatter: l.get('label.formatter') }, seriesDataIndices: a.slice() }) } } function m (e, t, i) { var n = i.axesInfo = []; l(t, function (t, i) { var a = t.axisPointerModel.option; var r = e[i]; r ? (!t.useHandle && (a.status = 'show'), a.value = r.value, a.seriesDataIndices = (r.payloadBatch || []).slice()) : !t.useHandle && (a.status = 'hide'), a.status === 'show' && n.push({ axisDim: t.axis.dim, axisIndex: t.axis.model.componentIndex, value: a.value }) }) } function v (e, t, i, n) { if (!b(t) && e.list.length) { var a = ((e.list[0].dataByAxis[0] || {}).seriesDataIndices || [])[0] || {}; n({ type: 'showTip', escapeConnect: !0, x: t[0], y: t[1], tooltipOption: i.tooltipOption, position: i.position, dataIndexInside: a.dataIndexInside, dataIndex: a.dataIndex, seriesIndex: a.seriesIndex, dataByCoordSys: e.list }) } else n({ type: 'hideTip' }) } function y (e, t, i) { var a = i.getZr(); var r = 'axisPointerLastHighlights'; var o = c(a)[r] || {}; var s = c(a)[r] = {}; l(e, function (e, t) { var i = e.axisPointerModel.option; i.status === 'show' && l(i.seriesDataIndices, function (e) { var t = e.seriesIndex + ' | ' + e.dataIndex; s[t] = e }) }); var u = []; var h = []; n.each(o, function (e, t) { !s[t] && h.push(e) }), n.each(s, function (e, t) { !o[t] && u.push(e) }), h.length && i.dispatchAction({ type: 'downplay', escapeConnect: !0, batch: h }), u.length && i.dispatchAction({ type: 'highlight', escapeConnect: !0, batch: u }) } function x (e, t) { for (var i = 0; i < (e || []).length; i++) { var n = e[i]; if (t.axis.dim === n.axisDim && t.axis.model.componentIndex === n.axisIndex) return n } } function _ (e) { var t = e.axis.model; var i = {}; var n = i.axisDim = e.axis.dim; return i.axisIndex = i[n + 'AxisIndex'] = t.componentIndex, i.axisName = i[n + 'AxisName'] = t.name, i.axisId = i[n + 'AxisId'] = t.id, i } function b (e) { return !e || e[0] == null || isNaN(e[0]) || e[1] == null || isNaN(e[1]) }e.exports = h }, ebf9: function (e, t, i) { var n = i('3eba'); n.registerAction('legendScroll', 'legendscroll', function (e, t) { var i = e.scrollDataIndex; i != null && t.eachComponent({ mainType: 'legend', subType: 'scroll', query: e }, function (e) { e.setScrollDataIndex(i) }) }) }, ec02: function (e, t, i) { var n = i('6d8b'); var a = i('84ce'); var r = function (e, t, i, n, r) { a.call(this, e, t, i), this.type = n || 'value', this.position = r || 'bottom' }; r.prototype = { constructor: r, index: 0, getAxesOnZeroOf: null, model: null, isHorizontal: function () { var e = this.position; return e === 'top' || e === 'bottom' }, getGlobalExtent: function (e) { var t = this.getExtent(); return t[0] = this.toGlobalCoord(t[0]), t[1] = this.toGlobalCoord(t[1]), e && t[0] > t[1] && t.reverse(), t }, getOtherAxis: function () { this.grid.getOtherAxis() }, pointToData: function (e, t) { return this.coordToData(this.toLocalCoord(e[this.dim === 'x' ? 0 : 1]), t) }, toLocalCoord: null, toGlobalCoord: null }, n.inherits(r, a); var o = r; e.exports = o }, ec34: function (e, t, i) { var n = i('4e08'); var a = (n.__DEV__, i('6d8b')); var r = a.createHashMap; var o = a.isString; var s = a.isArray; var l = a.each; var u = (a.assert, i('3041')); var c = u.parseXML; var h = r(); var d = { registerMap: function (e, t, i) { var n; return s(t) ? n = t : t.svg ? n = [{ type: 'svg', source: t.svg, specialAreas: t.specialAreas }] : (t.geoJson && !t.features && (i = t.specialAreas, t = t.geoJson), n = [{ type: 'geoJSON', source: t, specialAreas: i }]), l(n, function (e) { var t = e.type; t === 'geoJson' && (t = e.type = 'geoJSON'); var i = f[t]; i(e) }), h.set(e, n) }, retrieveMap: function (e) { return h.get(e) } }; var f = { geoJSON: function (e) { var t = e.source; e.geoJSON = o(t) ? typeof JSON !== 'undefined' && JSON.parse ? JSON.parse(t) : new Function('return (' + t + ');')() : t }, svg: function (e) { e.svgXML = c(e.source) } }; e.exports = d }, ec6f: function (e, t, i) { var n = i('6d8b'); var a = n.createHashMap; var r = n.isTypedArray; var o = i('625e'); var s = o.enableClassCheck; var l = i('93d0'); var u = l.SOURCE_FORMAT_ORIGINAL; var c = l.SERIES_LAYOUT_BY_COLUMN; var h = l.SOURCE_FORMAT_UNKNOWN; var d = l.SOURCE_FORMAT_TYPED_ARRAY; var f = l.SOURCE_FORMAT_KEYED_COLUMNS; function p (e) { this.fromDataset = e.fromDataset, this.data = e.data || (e.sourceFormat === f ? {} : []), this.sourceFormat = e.sourceFormat || h, this.seriesLayoutBy = e.seriesLayoutBy || c, this.dimensionsDefine = e.dimensionsDefine, this.encodeDefine = e.encodeDefine && a(e.encodeDefine), this.startIndex = e.startIndex || 0, this.dimensionsDetectCount = e.dimensionsDetectCount }p.seriesDataToSource = function (e) { return new p({ data: e, sourceFormat: r(e) ? d : u, fromDataset: !1 }) }, s(p); var g = p; e.exports = g }, ecf8: function (e, t, i) { var n = i('6d8b'); var a = i('3842'); var r = a.parsePercent; var o = n.each; function s (e) { var t = l(e); o(t, function (e) { var t = e.seriesModels; t.length && (u(e), o(t, function (t, i) { c(t, e.boxOffsetList[i], e.boxWidthList[i]) })) }) } function l (e) { var t = []; var i = []; return e.eachSeriesByType('boxplot', function (e) { var a = e.getBaseAxis(); var r = n.indexOf(i, a); r < 0 && (r = i.length, i[r] = a, t[r] = { axis: a, seriesModels: [] }), t[r].seriesModels.push(e) }), t } function u (e) { var t; var i; var a = e.axis; var s = e.seriesModels; var l = s.length; var u = e.boxWidthList = []; var c = e.boxOffsetList = []; var h = []; if (a.type === 'category')i = a.getBandWidth(); else { var d = 0; o(s, function (e) { d = Math.max(d, e.getData().count()) }), t = a.getExtent(), Math.abs(t[1] - t[0]) }o(s, function (e) { var t = e.get('boxWidth'); n.isArray(t) || (t = [t, t]), h.push([r(t[0], i) || 0, r(t[1], i) || 0]) }); var f = 0.8 * i - 2; var p = f / l * 0.3; var g = (f - p * (l - 1)) / l; var m = g / 2 - f / 2; o(s, function (e, t) { c.push(m), m += p + g, u.push(Math.min(Math.max(g, h[t][0]), h[t][1])) }) } function c (e, t, i) { var n = e.coordinateSystem; var a = e.getData(); var r = i / 2; var o = e.get('layout') === 'horizontal' ? 0 : 1; var s = 1 - o; var l = ['x', 'y']; var u = a.mapDimension(l[o]); var c = a.mapDimension(l[s], !0); if (!(u == null || c.length < 5)) for (var h = 0; h < a.count(); h++) { var d = a.get(u, h); var f = x(d, c[2], h); var p = x(d, c[0], h); var g = x(d, c[1], h); var m = x(d, c[3], h); var v = x(d, c[4], h); var y = []; _(y, g, 0), _(y, m, 1), y.push(p, g, v, m), b(y, p), b(y, v), b(y, f), a.setItemLayout(h, { initBaseline: f[s], ends: y }) } function x (e, i, r) { var l; var u = a.get(i, r); var c = []; return c[o] = e, c[s] = u, isNaN(e) || isNaN(u) ? l = [NaN, NaN] : (l = n.dataToPoint(c), l[o] += t), l } function _ (e, t, i) { var n = t.slice(); var a = t.slice(); n[o] += r, a[o] -= r, i ? e.push(n, a) : e.push(a, n) } function b (e, t) { var i = t.slice(); var n = t.slice(); i[o] -= r, n[o] += r, e.push(i, n) } }e.exports = s }, ed21: function (e, t, i) { var n = i('2cf4c'); var a = n.devicePixelRatio; var r = i('6d8b'); var o = i('4942'); var s = i('9850'); var l = i('04f6'); var u = i('5e68'); var c = i('98b7'); var h = i('0da8'); var d = i('22d1'); var f = 1e5; var p = 314159; var g = 0.01; var m = 0.001; function v (e) { return parseInt(e, 10) } function y (e) { return !!e && (!!e.__builtin__ || typeof e.resize === 'function' && typeof e.refresh === 'function') } var x = new s(0, 0, 0, 0); var _ = new s(0, 0, 0, 0); function b (e, t, i) { return x.copy(e.getBoundingRect()), e.transform && x.applyTransform(e.transform), _.width = t, _.height = i, !x.intersect(_) } function w (e, t) { if (e === t) return !1; if (!e || !t || e.length !== t.length) return !0; for (var i = 0; i < e.length; i++) if (e[i] !== t[i]) return !0; return !1 } function S (e, t) { for (var i = 0; i < e.length; i++) { var n = e[i]; n.setTransform(t), t.beginPath(), n.buildPath(t, n.shape), t.clip(), n.restoreTransform(t) } } function M (e, t) { var i = document.createElement('div'); return i.style.cssText = ['position:relative', 'width:' + e + 'px', 'height:' + t + 'px', 'padding:0', 'margin:0', 'border-width:0'].join(';') + ';', i } var I = function (e, t, i) { this.type = 'canvas'; var n = !e.nodeName || e.nodeName.toUpperCase() === 'CANVAS'; this._opts = i = r.extend({}, i || {}), this.dpr = i.devicePixelRatio || a, this._singleCanvas = n, this.root = e; var o = e.style; o && (o['-webkit-tap-highlight-color'] = 'transparent', o['-webkit-user-select'] = o['user-select'] = o['-webkit-touch-callout'] = 'none', e.innerHTML = ''), this.storage = t; var s = this._zlevelList = []; var l = this._layers = {}; if (this._layerConfig = {}, this._needsManuallyCompositing = !1, n) { var c = e.width; var h = e.height; i.width != null && (c = i.width), i.height != null && (h = i.height), this.dpr = i.devicePixelRatio || 1, e.width = c * this.dpr, e.height = h * this.dpr, this._width = c, this._height = h; var d = new u(e, this, this.dpr); d.__builtin__ = !0, d.initContext(), l[p] = d, d.zlevel = p, s.push(p), this._domRoot = e } else { this._width = this._getSize(0), this._height = this._getSize(1); var f = this._domRoot = M(this._width, this._height); e.appendChild(f) } this._hoverlayer = null, this._hoverElements = [] }; I.prototype = { constructor: I, getType: function () { return 'canvas' }, isSingleCanvas: function () { return this._singleCanvas }, getViewportRoot: function () { return this._domRoot }, getViewportRootOffset: function () { var e = this.getViewportRoot(); if (e) return { offsetLeft: e.offsetLeft || 0, offsetTop: e.offsetTop || 0 } }, refresh: function (e) { var t = this.storage.getDisplayList(!0); var i = this._zlevelList; this._redrawId = Math.random(), this._paintList(t, e, this._redrawId); for (var n = 0; n < i.length; n++) { var a = i[n]; var r = this._layers[a]; if (!r.__builtin__ && r.refresh) { var o = n === 0 ? this._backgroundColor : null; r.refresh(o) } } return this.refreshHover(), this }, addHover: function (e, t) { if (!e.__hoverMir) { var i = new e.constructor({ style: e.style, shape: e.shape, z: e.z, z2: e.z2, silent: e.silent }); return i.__from = e, e.__hoverMir = i, t && i.setStyle(t), this._hoverElements.push(i), i } }, removeHover: function (e) { var t = e.__hoverMir; var i = this._hoverElements; var n = r.indexOf(i, t); n >= 0 && i.splice(n, 1), e.__hoverMir = null }, clearHover: function (e) { for (var t = this._hoverElements, i = 0; i < t.length; i++) { var n = t[i].__from; n && (n.__hoverMir = null) }t.length = 0 }, refreshHover: function () { var e = this._hoverElements; var t = e.length; var i = this._hoverlayer; if (i && i.clear(), t) { l(e, this.storage.displayableSortFunc), i || (i = this._hoverlayer = this.getLayer(f)); var n = {}; i.ctx.save(); for (var a = 0; a < t;) { var r = e[a]; var o = r.__from; o && o.__zr ? (a++, o.invisible || (r.transform = o.transform, r.invTransform = o.invTransform, r.__clipPaths = o.__clipPaths, this._doPaintEl(r, i, !0, n))) : (e.splice(a, 1), o.__hoverMir = null, t--) }i.ctx.restore() } }, getHoverLayer: function () { return this.getLayer(f) }, _paintList: function (e, t, i) { if (this._redrawId === i) { t = t || !1, this._updateLayerStatus(e); var n = this._doPaintList(e, t); if (this._needsManuallyCompositing && this._compositeManually(), !n) { var a = this; c(function () { a._paintList(e, t, i) }) } } }, _compositeManually: function () { var e = this.getLayer(p).ctx; var t = this._domRoot.width; var i = this._domRoot.height; e.clearRect(0, 0, t, i), this.eachBuiltinLayer(function (n) { n.virtual && e.drawImage(n.dom, 0, 0, t, i) }) }, _doPaintList: function (e, t) { for (var i = [], n = 0; n < this._zlevelList.length; n++) { var a = this._zlevelList[n]; var o = this._layers[a]; o.__builtin__ && o !== this._hoverlayer && (o.__dirty || t) && i.push(o) } for (var s = !0, l = 0; l < i.length; l++) { o = i[l]; var u = o.ctx; var c = {}; u.save(); var h = t ? o.__startIndex : o.__drawIndex; var f = !t && o.incremental && Date.now; var p = f && Date.now(); var g = o.zlevel === this._zlevelList[0] ? this._backgroundColor : null; if (o.__startIndex === o.__endIndex)o.clear(!1, g); else if (h === o.__startIndex) { var m = e[h]; m.incremental && m.notClear && !t || o.clear(!1, g) }h === -1 && (console.error('For some unknown reason. drawIndex is -1'), h = o.__startIndex); for (var v = h; v < o.__endIndex; v++) { var y = e[v]; if (this._doPaintEl(y, o, t, c), y.__dirty = y.__dirtyText = !1, f) { var x = Date.now() - p; if (x > 15) break } }o.__drawIndex = v, o.__drawIndex < o.__endIndex && (s = !1), c.prevElClipPaths && u.restore(), u.restore() } return d.wxa && r.each(this._layers, function (e) { e && e.ctx && e.ctx.draw && e.ctx.draw() }), s }, _doPaintEl: function (e, t, i, n) { var a = t.ctx; var r = e.transform; if ((t.__dirty || i) && !e.invisible && e.style.opacity !== 0 && (!r || r[0] || r[3]) && (!e.culling || !b(e, this._width, this._height))) { var o = e.__clipPaths; var s = n.prevElClipPaths; s && !w(o, s) || (s && (a.restore(), n.prevElClipPaths = null, n.prevEl = null), o && (a.save(), S(o, a), n.prevElClipPaths = o)), e.beforeBrush && e.beforeBrush(a), e.brush(a, n.prevEl || null), n.prevEl = e, e.afterBrush && e.afterBrush(a) } }, getLayer: function (e, t) { this._singleCanvas && !this._needsManuallyCompositing && (e = p); var i = this._layers[e]; return i || (i = new u('zr_' + e, this, this.dpr), i.zlevel = e, i.__builtin__ = !0, this._layerConfig[e] ? r.merge(i, this._layerConfig[e], !0) : this._layerConfig[e - g] && r.merge(i, this._layerConfig[e - g], !0), t && (i.virtual = t), this.insertLayer(e, i), i.initContext()), i }, insertLayer: function (e, t) { var i = this._layers; var n = this._zlevelList; var a = n.length; var r = null; var s = -1; var l = this._domRoot; if (i[e])o('ZLevel ' + e + ' has been used already'); else if (y(t)) { if (a > 0 && e > n[0]) { for (s = 0; s < a - 1; s++) if (n[s] < e && n[s + 1] > e) break; r = i[n[s]] } if (n.splice(s + 1, 0, e), i[e] = t, !t.virtual) if (r) { var u = r.dom; u.nextSibling ? l.insertBefore(t.dom, u.nextSibling) : l.appendChild(t.dom) } else l.firstChild ? l.insertBefore(t.dom, l.firstChild) : l.appendChild(t.dom) } else o('Layer of zlevel ' + e + ' is not valid') }, eachLayer: function (e, t) { var i; var n; var a = this._zlevelList; for (n = 0; n < a.length; n++)i = a[n], e.call(t, this._layers[i], i) }, eachBuiltinLayer: function (e, t) { var i; var n; var a; var r = this._zlevelList; for (a = 0; a < r.length; a++)n = r[a], i = this._layers[n], i.__builtin__ && e.call(t, i, n) }, eachOtherLayer: function (e, t) { var i; var n; var a; var r = this._zlevelList; for (a = 0; a < r.length; a++)n = r[a], i = this._layers[n], i.__builtin__ || e.call(t, i, n) }, getLayers: function () { return this._layers }, _updateLayerStatus: function (e) { function t (e) { r && (r.__endIndex !== e && (r.__dirty = !0), r.__endIndex = e) } if (this.eachBuiltinLayer(function (e, t) { e.__dirty = e.__used = !1 }), this._singleCanvas) for (var i = 1; i < e.length; i++) { var n = e[i]; if (n.zlevel !== e[i - 1].zlevel || n.incremental) { this._needsManuallyCompositing = !0; break } } var a; var r = null; var s = 0; for (i = 0; i < e.length; i++) { n = e[i]; var l; var u = n.zlevel; a !== u && (a = u, s = 0), n.incremental ? (l = this.getLayer(u + m, this._needsManuallyCompositing), l.incremental = !0, s = 1) : l = this.getLayer(u + (s > 0 ? g : 0), this._needsManuallyCompositing), l.__builtin__ || o('ZLevel ' + u + ' has been used by unkown layer ' + l.id), l !== r && (l.__used = !0, l.__startIndex !== i && (l.__dirty = !0), l.__startIndex = i, l.incremental ? l.__drawIndex = -1 : l.__drawIndex = i, t(i), r = l), n.__dirty && (l.__dirty = !0, l.incremental && l.__drawIndex < 0 && (l.__drawIndex = i)) }t(i), this.eachBuiltinLayer(function (e, t) { !e.__used && e.getElementCount() > 0 && (e.__dirty = !0, e.__startIndex = e.__endIndex = e.__drawIndex = 0), e.__dirty && e.__drawIndex < 0 && (e.__drawIndex = e.__startIndex) }) }, clear: function () { return this.eachBuiltinLayer(this._clearLayer), this }, _clearLayer: function (e) { e.clear() }, setBackgroundColor: function (e) { this._backgroundColor = e }, configLayer: function (e, t) { if (t) { var i = this._layerConfig; i[e] ? r.merge(i[e], t, !0) : i[e] = t; for (var n = 0; n < this._zlevelList.length; n++) { var a = this._zlevelList[n]; if (a === e || a === e + g) { var o = this._layers[a]; r.merge(o, i[e], !0) } } } }, delLayer: function (e) { var t = this._layers; var i = this._zlevelList; var n = t[e]; n && (n.dom.parentNode.removeChild(n.dom), delete t[e], i.splice(r.indexOf(i, e), 1)) }, resize: function (e, t) { if (this._domRoot.style) { var i = this._domRoot; i.style.display = 'none'; var n = this._opts; if (e != null && (n.width = e), t != null && (n.height = t), e = this._getSize(0), t = this._getSize(1), i.style.display = '', this._width !== e || t !== this._height) { for (var a in i.style.width = e + 'px', i.style.height = t + 'px', this._layers) this._layers.hasOwnProperty(a) && this._layers[a].resize(e, t); r.each(this._progressiveLayers, function (i) { i.resize(e, t) }), this.refresh(!0) } this._width = e, this._height = t } else { if (e == null || t == null) return; this._width = e, this._height = t, this.getLayer(p).resize(e, t) } return this }, clearLayer: function (e) { var t = this._layers[e]; t && t.clear() }, dispose: function () { this.root.innerHTML = '', this.root = this.storage = this._domRoot = this._layers = null }, getRenderedCanvas: function (e) { if (e = e || {}, this._singleCanvas && !this._compositeManually) return this._layers[p].dom; var t = new u('image', this, e.pixelRatio || this.dpr); if (t.initContext(), t.clear(!1, e.backgroundColor || this._backgroundColor), e.pixelRatio <= this.dpr) { this.refresh(); var i = t.dom.width; var n = t.dom.height; var a = t.ctx; this.eachLayer(function (e) { e.__builtin__ ? a.drawImage(e.dom, 0, 0, i, n) : e.renderToCanvas && (t.ctx.save(), e.renderToCanvas(t.ctx), t.ctx.restore()) }) } else for (var r = {}, o = this.storage.getDisplayList(!0), s = 0; s < o.length; s++) { var l = o[s]; this._doPaintEl(l, t, !0, r) } return t.dom }, getWidth: function () { return this._width }, getHeight: function () { return this._height }, _getSize: function (e) { var t = this._opts; var i = ['width', 'height'][e]; var n = ['clientWidth', 'clientHeight'][e]; var a = ['paddingLeft', 'paddingTop'][e]; var r = ['paddingRight', 'paddingBottom'][e]; if (t[i] != null && t[i] !== 'auto') return parseFloat(t[i]); var o = this.root; var s = document.defaultView.getComputedStyle(o); return (o[n] || v(s[i]) || v(o.style[i])) - (v(s[a]) || 0) - (v(s[r]) || 0) | 0 }, pathToImage: function (e, t) { t = t || this.dpr; var i = document.createElement('canvas'); var n = i.getContext('2d'); var a = e.getBoundingRect(); var r = e.style; var o = r.shadowBlur * t; var s = r.shadowOffsetX * t; var l = r.shadowOffsetY * t; var u = r.hasStroke() ? r.lineWidth : 0; var c = Math.max(u / 2, -s + o); var d = Math.max(u / 2, s + o); var f = Math.max(u / 2, -l + o); var p = Math.max(u / 2, l + o); var g = a.width + c + d; var m = a.height + f + p; i.width = g * t, i.height = m * t, n.scale(t, t), n.clearRect(0, 0, g, m), n.dpr = t; var v = { position: e.position, rotation: e.rotation, scale: e.scale }; e.position = [c - a.x, f - a.y], e.rotation = 0, e.scale = [1, 1], e.updateTransform(), e && e.brush(n); var y = h; var x = new y({ style: { x: 0, y: 0, image: i } }); return v.position != null && (x.position = e.position = v.position), v.rotation != null && (x.rotation = e.rotation = v.rotation), v.scale != null && (x.scale = e.scale = v.scale), x } }; var A = I; e.exports = A }, eda2: function (e, t, i) { var n = i('6d8b'); var a = i('e86a'); var r = i('3842'); function o (e) { return isNaN(e) ? '-' : (e = (e + '').split('.'), e[0].replace(/(\d{1,3})(?=(?:\d{3})+(?!\d))/g, '$1,') + (e.length > 1 ? '.' + e[1] : '')) } function s (e, t) { return e = (e || '').toLowerCase().replace(/-(.)/g, function (e, t) { return t.toUpperCase() }), t && e && (e = e.charAt(0).toUpperCase() + e.slice(1)), e } var l = n.normalizeCssArray; var u = /([&<>"'])/g; var c = { '&': '&amp;', '<': '&lt;', '>': '&gt;', '"': '&quot;', "'": '&#39;' }; function h (e) { return e == null ? '' : (e + '').replace(u, function (e, t) { return c[t] }) } var d = ['a', 'b', 'c', 'd', 'e', 'f', 'g']; var f = function (e, t) { return '{' + e + (t == null ? '' : t) + '}' }; function p (e, t, i) { n.isArray(t) || (t = [t]); var a = t.length; if (!a) return ''; for (var r = t[0].$vars || [], o = 0; o < r.length; o++) { var s = d[o]; e = e.replace(f(s), f(s, 0)) } for (var l = 0; l < a; l++) for (var u = 0; u < r.length; u++) { var c = t[l][r[u]]; e = e.replace(f(d[u], l), i ? h(c) : c) } return e } function g (e, t, i) { return n.each(t, function (t, n) { e = e.replace('{' + n + '}', i ? h(t) : t) }), e } function m (e, t) { e = n.isString(e) ? { color: e, extraCssText: t } : e || {}; var i = e.color; var a = e.type; var r = (t = e.extraCssText, e.renderMode || 'html'); var o = e.markerId || 'X'; return i ? r === 'html' ? a === 'subItem' ? '<span style="display:inline-block;vertical-align:middle;margin-right:8px;margin-left:3px;border-radius:4px;width:4px;height:4px;background-color:' + h(i) + ';' + (t || '') + '"></span>' : '<span style="display:inline-block;margin-right:5px;border-radius:10px;width:10px;height:10px;background-color:' + h(i) + ';' + (t || '') + '"></span>' : { renderMode: r, content: '{marker' + o + '|}  ', style: { color: i } } : '' } function v (e, t) { return e += '', '0000'.substr(0, t - e.length) + e } function y (e, t, i) { e !== 'week' && e !== 'month' && e !== 'quarter' && e !== 'half-year' && e !== 'year' || (e = 'MM-dd\nyyyy'); var n = r.parseDate(t); var a = i ? 'UTC' : ''; var o = n['get' + a + 'FullYear'](); var s = n['get' + a + 'Month']() + 1; var l = n['get' + a + 'Date'](); var u = n['get' + a + 'Hours'](); var c = n['get' + a + 'Minutes'](); var h = n['get' + a + 'Seconds'](); var d = n['get' + a + 'Milliseconds'](); return e = e.replace('MM', v(s, 2)).replace('M', s).replace('yyyy', o).replace('yy', o % 100).replace('dd', v(l, 2)).replace('d', l).replace('hh', v(u, 2)).replace('h', u).replace('mm', v(c, 2)).replace('m', c).replace('ss', v(h, 2)).replace('s', h).replace('SSS', v(d, 3)), e } function x (e) { return e ? e.charAt(0).toUpperCase() + e.substr(1) : e } var _ = a.truncateText; function b (e) { return a.getBoundingRect(e.text, e.font, e.textAlign, e.textVerticalAlign, e.textPadding, e.textLineHeight, e.rich, e.truncate) } function w (e, t, i, n, r, o, s, l) { return a.getBoundingRect(e, t, i, n, r, l, o, s) } function S (e, t) { if (t === '_blank' || t === 'blank') { var i = window.open(); i.opener = null, i.location = e } else window.open(e, t) }t.addCommas = o, t.toCamelCase = s, t.normalizeCssArray = l, t.encodeHTML = h, t.formatTpl = p, t.formatTplSimple = g, t.getTooltipMarker = m, t.formatTime = y, t.capitalFirst = x, t.truncateText = _, t.getTextBoundingRect = b, t.getTextRect = w, t.windowOpen = S }, edaf: function (e, t, i) { var n = i('6d8b'); var a = i('6cb7'); var r = i('6179'); var o = i('e0d3'); var s = a.extend({ type: 'timeline', layoutMode: 'box', defaultOption: { zlevel: 0, z: 4, show: !0, axisType: 'time', realtime: !0, left: '20%', top: null, right: '20%', bottom: 0, width: null, height: 40, padding: 5, controlPosition: 'left', autoPlay: !1, rewind: !1, loop: !0, playInterval: 2e3, currentIndex: 0, itemStyle: {}, label: { color: '#000' }, data: [] }, init: function (e, t, i) { this._data, this._names, this.mergeDefaultAndTheme(e, i), this._initData() }, mergeOption: function (e) { s.superApply(this, 'mergeOption', arguments), this._initData() }, setCurrentIndex: function (e) { e == null && (e = this.option.currentIndex); var t = this._data.count(); this.option.loop ? e = (e % t + t) % t : (e >= t && (e = t - 1), e < 0 && (e = 0)), this.option.currentIndex = e }, getCurrentIndex: function () { return this.option.currentIndex }, isIndexMax: function () { return this.getCurrentIndex() >= this._data.count() - 1 }, setPlayState: function (e) { this.option.autoPlay = !!e }, getPlayState: function () { return !!this.option.autoPlay }, _initData: function () { var e = this.option; var t = e.data || []; var i = e.axisType; var a = this._names = []; if (i === 'category') { var s = []; n.each(t, function (e, t) { var i; var r = o.getDataItemValue(e); n.isObject(e) ? (i = n.clone(e), i.value = t) : i = t, s.push(i), n.isString(r) || r != null && !isNaN(r) || (r = ''), a.push(r + '') }), t = s } var l = { category: 'ordinal', time: 'time' }[i] || 'number'; var u = this._data = new r([{ name: 'value', type: l }], this); u.initData(t, a) }, getData: function () { return this._data }, getCategories: function () { if (this.get('axisType') === 'category') return this._names.slice() } }); var l = s; e.exports = l }, edb9: function (e, t, i) { var n = i('6d8b'); function a (e, t) { t = t || {}; var i = e.coordinateSystem; var a = e.axis; var r = {}; var o = a.position; var s = a.orient; var l = i.getRect(); var u = [l.x, l.x + l.width, l.y, l.y + l.height]; var c = { horizontal: { top: u[2], bottom: u[3] }, vertical: { left: u[0], right: u[1] } }; r.position = [s === 'vertical' ? c.vertical[o] : u[0], s === 'horizontal' ? c.horizontal[o] : u[3]]; var h = { horizontal: 0, vertical: 1 }; r.rotation = Math.PI / 2 * h[s]; var d = { top: -1, bottom: 1, right: 1, left: -1 }; r.labelDirection = r.tickDirection = r.nameDirection = d[o], e.get('axisTick.inside') && (r.tickDirection = -r.tickDirection), n.retrieve(t.labelInside, e.get('axisLabel.inside')) && (r.labelDirection = -r.labelDirection); var f = t.rotate; return f == null && (f = e.get('axisLabel.rotate')), r.labelRotation = o === 'top' ? -f : f, r.z2 = 1, r }t.layout = a }, ee1a: function (e, t, i) { var n = i('6d8b'); var a = n.each; var r = n.isString; function o (e, t, i) { i = i || {}; var n; var o; var s; var l; var u = i.byIndex; var c = i.stackedCoordDimension; var h = !(!e || !e.get('stack')); if (a(t, function (e, i) { r(e) && (t[i] = e = { name: e }), h && !e.isExtraCoord && (u || n || !e.ordinalMeta || (n = e), o || e.type === 'ordinal' || e.type === 'time' || c && c !== e.coordDim || (o = e)) }), !o || u || n || (u = !0), o) { s = '__\0ecstackresult', l = '__\0ecstackedover', n && (n.createInvertedIndices = !0); var d = o.coordDim; var f = o.type; var p = 0; a(t, function (e) { e.coordDim === d && p++ }), t.push({ name: s, coordDim: d, coordDimIndex: p, type: f, isExtraCoord: !0, isCalculationCoord: !0 }), p++, t.push({ name: l, coordDim: l, coordDimIndex: p, type: f, isExtraCoord: !0, isCalculationCoord: !0 }) } return { stackedDimension: o && o.name, stackedByDimension: n && n.name, isStackedByIndex: u, stackedOverDimension: l, stackResultDimension: s } } function s (e, t) { return !!t && t === e.getCalculationInfo('stackedDimension') } function l (e, t) { return s(e, t) ? e.getCalculationInfo('stackResultDimension') : t }t.enableDataStack = o, t.isDimensionStacked = s, t.getStackedDimension = l }, ee66: function (e, t, i) { var n = i('3eba'); var a = i('6d8b'); var r = i('2306'); var o = i('eda2'); var s = i('3842'); var l = { EN: ['Jan', 'Feb', 'Mar', 'Apr', 'May', 'Jun', 'Jul', 'Aug', 'Sep', 'Oct', 'Nov', 'Dec'], CN: ['一月', '二月', '三月', '四月', '五月', '六月', '七月', '八月', '九月', '十月', '十一月', '十二月'] }; var u = { EN: ['S', 'M', 'T', 'W', 'T', 'F', 'S'], CN: ['日', '一', '二', '三', '四', '五', '六'] }; var c = n.extendComponentView({ type: 'calendar', _tlpoints: null, _blpoints: null, _firstDayOfMonth: null, _firstDayPoints: null, render: function (e, t, i) { var n = this.group; n.removeAll(); var a = e.coordinateSystem; var r = a.getRangeInfo(); var o = a.getOrient(); this._renderDayRect(e, r, n), this._renderLines(e, r, o, n), this._renderYearText(e, r, o, n), this._renderMonthText(e, o, n), this._renderWeekText(e, r, o, n) }, _renderDayRect: function (e, t, i) { for (var n = e.coordinateSystem, a = e.getModel('itemStyle').getItemStyle(), o = n.getCellWidth(), s = n.getCellHeight(), l = t.start.time; l <= t.end.time; l = n.getNextNDay(l, 1).time) { var u = n.dataToRect([l], !1).tl; var c = new r.Rect({ shape: { x: u[0], y: u[1], width: o, height: s }, cursor: 'default', style: a }); i.add(c) } }, _renderLines: function (e, t, i, n) { var a = this; var r = e.coordinateSystem; var o = e.getModel('splitLine.lineStyle').getLineStyle(); var s = e.get('splitLine.show'); var l = o.lineWidth; this._tlpoints = [], this._blpoints = [], this._firstDayOfMonth = [], this._firstDayPoints = []; for (var u = t.start, c = 0; u.time <= t.end.time; c++) { d(u.formatedDate), c === 0 && (u = r.getDateInfo(t.start.y + '-' + t.start.m)); var h = u.date; h.setMonth(h.getMonth() + 1), u = r.getDateInfo(h) } function d (t) { a._firstDayOfMonth.push(r.getDateInfo(t)), a._firstDayPoints.push(r.dataToRect([t], !1).tl); var l = a._getLinePointsOfOneWeek(e, t, i); a._tlpoints.push(l[0]), a._blpoints.push(l[l.length - 1]), s && a._drawSplitline(l, o, n) }d(r.getNextNDay(t.end.time, 1).formatedDate), s && this._drawSplitline(a._getEdgesPoints(a._tlpoints, l, i), o, n), s && this._drawSplitline(a._getEdgesPoints(a._blpoints, l, i), o, n) }, _getEdgesPoints: function (e, t, i) { var n = [e[0].slice(), e[e.length - 1].slice()]; var a = i === 'horizontal' ? 0 : 1; return n[0][a] = n[0][a] - t / 2, n[1][a] = n[1][a] + t / 2, n }, _drawSplitline: function (e, t, i) { var n = new r.Polyline({ z2: 20, shape: { points: e }, style: t }); i.add(n) }, _getLinePointsOfOneWeek: function (e, t, i) { var n = e.coordinateSystem; t = n.getDateInfo(t); for (var a = [], r = 0; r < 7; r++) { var o = n.getNextNDay(t.time, r); var s = n.dataToRect([o.time], !1); a[2 * o.day] = s.tl, a[2 * o.day + 1] = s[i === 'horizontal' ? 'bl' : 'tr'] } return a }, _formatterLabel: function (e, t) { return typeof e === 'string' && e ? o.formatTplSimple(e, t) : typeof e === 'function' ? e(t) : t.nameMap }, _yearTextPositionControl: function (e, t, i, n, a) { t = t.slice(); var r = ['center', 'bottom']; n === 'bottom' ? (t[1] += a, r = ['center', 'top']) : n === 'left' ? t[0] -= a : n === 'right' ? (t[0] += a, r = ['center', 'top']) : t[1] -= a; var o = 0; return n !== 'left' && n !== 'right' || (o = Math.PI / 2), { rotation: o, position: t, style: { textAlign: r[0], textVerticalAlign: r[1] } } }, _renderYearText: function (e, t, i, n) { var a = e.getModel('yearLabel'); if (a.get('show')) { var o = a.get('margin'); var s = a.get('position'); s || (s = i !== 'horizontal' ? 'top' : 'left'); var l = [this._tlpoints[this._tlpoints.length - 1], this._blpoints[0]]; var u = (l[0][0] + l[1][0]) / 2; var c = (l[0][1] + l[1][1]) / 2; var h = i === 'horizontal' ? 0 : 1; var d = { top: [u, l[h][1]], bottom: [u, l[1 - h][1]], left: [l[1 - h][0], c], right: [l[h][0], c] }; var f = t.start.y; +t.end.y > +t.start.y && (f = f + '-' + t.end.y); var p = a.get('formatter'); var g = { start: t.start.y, end: t.end.y, nameMap: f }; var m = this._formatterLabel(p, g); var v = new r.Text({ z2: 30 }); r.setTextStyle(v.style, a, { text: m }), v.attr(this._yearTextPositionControl(v, d[s], i, s, o)), n.add(v) } }, _monthTextPositionControl: function (e, t, i, n, a) { var r = 'left'; var o = 'top'; var s = e[0]; var l = e[1]; return i === 'horizontal' ? (l += a, t && (r = 'center'), n === 'start' && (o = 'bottom')) : (s += a, t && (o = 'middle'), n === 'start' && (r = 'right')), { x: s, y: l, textAlign: r, textVerticalAlign: o } }, _renderMonthText: function (e, t, i) { var n = e.getModel('monthLabel'); if (n.get('show')) { var o = n.get('nameMap'); var s = n.get('margin'); var u = n.get('position'); var c = n.get('align'); var h = [this._tlpoints, this._blpoints]; a.isString(o) && (o = l[o.toUpperCase()] || []); var d = u === 'start' ? 0 : 1; var f = t === 'horizontal' ? 0 : 1; s = u === 'start' ? -s : s; for (var p = c === 'center', g = 0; g < h[d].length - 1; g++) { var m = h[d][g].slice(); var v = this._firstDayOfMonth[g]; if (p) { var y = this._firstDayPoints[g]; m[f] = (y[f] + h[0][g + 1][f]) / 2 } var x = n.get('formatter'); var _ = o[+v.m - 1]; var b = { yyyy: v.y, yy: (v.y + '').slice(2), MM: v.m, M: +v.m, nameMap: _ }; var w = this._formatterLabel(x, b); var S = new r.Text({ z2: 30 }); a.extend(r.setTextStyle(S.style, n, { text: w }), this._monthTextPositionControl(m, p, t, u, s)), i.add(S) } } }, _weekTextPositionControl: function (e, t, i, n, a) { var r = 'center'; var o = 'middle'; var s = e[0]; var l = e[1]; var u = i === 'start'; return t === 'horizontal' ? (s = s + n + (u ? 1 : -1) * a[0] / 2, r = u ? 'right' : 'left') : (l = l + n + (u ? 1 : -1) * a[1] / 2, o = u ? 'bottom' : 'top'), { x: s, y: l, textAlign: r, textVerticalAlign: o } }, _renderWeekText: function (e, t, i, n) { var o = e.getModel('dayLabel'); if (o.get('show')) { var l = e.coordinateSystem; var c = o.get('position'); var h = o.get('nameMap'); var d = o.get('margin'); var f = l.getFirstDayOfWeek(); a.isString(h) && (h = u[h.toUpperCase()] || []); var p = l.getNextNDay(t.end.time, 7 - t.lweek).time; var g = [l.getCellWidth(), l.getCellHeight()]; d = s.parsePercent(d, g[i === 'horizontal' ? 0 : 1]), c === 'start' && (p = l.getNextNDay(t.start.time, -(7 + t.fweek)).time, d = -d); for (var m = 0; m < 7; m++) { var v = l.getNextNDay(p, m); var y = l.dataToRect([v.time], !1).center; var x = m; x = Math.abs((m + f) % 7); var _ = new r.Text({ z2: 30 }); a.extend(r.setTextStyle(_.style, o, { text: h[x] }), this._weekTextPositionControl(y, i, c, d, g)), n.add(_) } } } }); e.exports = c }, ee84: function (e, t, i) { var n = i('20c8'); var a = i('401b'); var r = a.applyTransform; var o = n.CMD; var s = [[], [], []]; var l = Math.sqrt; var u = Math.atan2; function c (e, t) { var i; var n; var a; var c; var h; var d = e.data; var f = o.M; var p = o.C; var g = o.L; var m = o.R; var v = o.A; var y = o.Q; for (a = 0, c = 0; a < d.length;) { switch (i = d[a++], c = a, n = 0, i) { case f:n = 1; break; case g:n = 1; break; case p:n = 3; break; case y:n = 2; break; case v:var x = t[4]; var _ = t[5]; var b = l(t[0] * t[0] + t[1] * t[1]); var w = l(t[2] * t[2] + t[3] * t[3]); var S = u(-t[1] / w, t[0] / b); d[a] *= b, d[a++] += x, d[a] *= w, d[a++] += _, d[a++] *= b, d[a++] *= w, d[a++] += S, d[a++] += S, a += 2, c = a; break; case m:M[0] = d[a++], M[1] = d[a++], r(M, M, t), d[c++] = M[0], d[c++] = M[1], M[0] += d[a++], M[1] += d[a++], r(M, M, t), d[c++] = M[0], d[c++] = M[1] } for (h = 0; h < n; h++) { var M = s[h]; M[0] = d[a++], M[1] = d[a++], r(M, M, t), d[c++] = M[0], d[c++] = M[1] } } }e.exports = c }, ee95: function (e, t, i) { var n = i('3eba'); var a = i('66a4'); i('a04e'), i('3942'), i('dd7e'), i('347f'), n.registerPreprocessor(a) }, ee98: function (e, t) { function i (e) { return e instanceof Array || (e = [e, e]), e } var n = 'lineStyle.opacity'.split('.'); var a = { seriesType: 'lines', reset: function (e, t, a) { var r = i(e.get('symbol')); var o = i(e.get('symbolSize')); var s = e.getData(); function l (e, t) { var a = e.getItemModel(t); var r = i(a.getShallow('symbol', !0)); var o = i(a.getShallow('symbolSize', !0)); var s = a.get(n); r[0] && e.setItemVisual(t, 'fromSymbol', r[0]), r[1] && e.setItemVisual(t, 'toSymbol', r[1]), o[0] && e.setItemVisual(t, 'fromSymbolSize', o[0]), o[1] && e.setItemVisual(t, 'toSymbolSize', o[1]), e.setItemVisual(t, 'opacity', s) } return s.setVisual('fromSymbol', r && r[0]), s.setVisual('toSymbol', r && r[1]), s.setVisual('fromSymbolSize', o && o[0]), s.setVisual('toSymbolSize', o && o[1]), s.setVisual('opacity', e.get(n)), { dataEach: s.hasItemOption ? l : null } } }; e.exports = a }, eeea: function (e, t, i) { var n = i('4e08'); var a = (n.__DEV__, i('3eba')); var r = i('6d8b'); var o = i('0141'); var s = i('f934'); var l = i('3842'); var u = i('5b87'); var c = i('ec34'); function h (e, t) { var i = e.get('boundingCoords'); if (i != null) { var n = i[0]; var a = i[1]; isNaN(n[0]) || isNaN(n[1]) || isNaN(a[0]) || isNaN(a[1]) || this.setBoundingRect(n[0], n[1], a[0] - n[0], a[1] - n[1]) } var r; var o = this.getBoundingRect(); var u = e.get('layoutCenter'); var c = e.get('layoutSize'); var h = t.getWidth(); var d = t.getHeight(); var f = o.width / o.height * this.aspectScale; var p = !1; if (u && c && (u = [l.parsePercent(u[0], h), l.parsePercent(u[1], d)], c = l.parsePercent(c, Math.min(h, d)), isNaN(u[0]) || isNaN(u[1]) || isNaN(c) || (p = !0)), p) { var g = {}; f > 1 ? (g.width = c, g.height = c / f) : (g.height = c, g.width = c * f), g.y = u[1] - g.height / 2, g.x = u[0] - g.width / 2 } else r = e.getBoxLayoutParams(), r.aspect = f, g = s.getLayoutRect(r, { width: h, height: d }); this.setViewRect(g.x, g.y, g.width, g.height), this.setCenter(e.get('center')), this.setZoom(e.get('zoom')) } function d (e, t) { r.each(t.get('geoCoord'), function (t, i) { e.addGeoCoord(i, t) }) } var f = { dimensions: o.prototype.dimensions, create: function (e, t) { var i = []; e.eachComponent('geo', function (e, n) { var a = e.get('map'); var r = e.get('aspectScale'); var s = !0; var l = c.retrieveMap(a); l && l[0] && l[0].type === 'svg' ? (r == null && (r = 1), s = !1) : r == null && (r = 0.75); var u = new o(a + n, a, e.get('nameMap'), s); u.aspectScale = r, u.zoomLimit = e.get('scaleLimit'), i.push(u), d(u, e), e.coordinateSystem = u, u.model = e, u.resize = h, u.resize(e, t) }), e.eachSeries(function (e) { var t = e.get('coordinateSystem'); if (t === 'geo') { var n = e.get('geoIndex') || 0; e.coordinateSystem = i[n] } }); var n = {}; return e.eachSeriesByType('map', function (e) { if (!e.getHostGeoModel()) { var t = e.getMapType(); n[t] = n[t] || [], n[t].push(e) } }), r.each(n, function (e, n) { var a = r.map(e, function (e) { return e.get('nameMap') }); var s = new o(n, n, r.mergeAll(a)); s.zoomLimit = r.retrieve.apply(null, r.map(e, function (e) { return e.get('scaleLimit') })), i.push(s), s.resize = h, s.aspectScale = e[0].get('aspectScale'), s.resize(e[0], t), r.each(e, function (e) { e.coordinateSystem = s, d(s, e) }) }), i }, getFilledRegions: function (e, t, i) { for (var n = (e || []).slice(), a = r.createHashMap(), o = 0; o < n.length; o++)a.set(n[o].name, n[o]); var s = u.load(t, i); return r.each(s.regions, function (e) { var t = e.name; !a.get(t) && n.push({ name: t }) }), n } }; a.registerCoordinateSystem('geo', f); var p = f; e.exports = p }, ef2b: function (e, t, i) { var n = i('401b'); var a = n.scaleAndAdd; function r (e, t, i) { for (var r = i.rect, o = r.width, s = r.height, l = [r.x + o / 2, r.y + s / 2], u = i.gravity == null ? 0.1 : i.gravity, c = 0; c < e.length; c++) { var h = e[c]; h.p || (h.p = n.create(o * (Math.random() - 0.5) + l[0], s * (Math.random() - 0.5) + l[1])), h.pp = n.clone(h.p), h.edges = null } var d = i.friction == null ? 0.6 : i.friction; var f = d; return { warmUp: function () { f = 0.8 * d }, setFixed: function (t) { e[t].fixed = !0 }, setUnfixed: function (t) { e[t].fixed = !1 }, step: function (i) { for (var r = [], o = e.length, s = 0; s < t.length; s++) { var c = t[s]; if (!c.ignoreForceLayout) { var h = c.n1; var d = c.n2; n.sub(r, d.p, h.p); var p = n.len(r) - c.d; var g = d.w / (h.w + d.w); isNaN(g) && (g = 0), n.normalize(r, r), !h.fixed && a(h.p, h.p, r, g * p * f), !d.fixed && a(d.p, d.p, r, -(1 - g) * p * f) } } for (s = 0; s < o; s++) { var m = e[s]; m.fixed || (n.sub(r, l, m.p), a(m.p, m.p, r, u * f)) } for (s = 0; s < o; s++) { h = e[s]; for (var v = s + 1; v < o; v++) { d = e[v]; n.sub(r, d.p, h.p); p = n.len(r); p === 0 && (n.set(r, Math.random() - 0.5, Math.random() - 0.5), p = 1); var y = (h.rep + d.rep) / p / p; !h.fixed && a(h.pp, h.pp, r, y), !d.fixed && a(d.pp, d.pp, r, -y) } } var x = []; for (s = 0; s < o; s++) { m = e[s]; m.fixed || (n.sub(x, m.p, m.pp), a(m.p, m.p, x, f), n.copy(m.pp, m.p)) }f *= 0.992, i && i(e, t, f < 0.01) } } }t.forceLayout = r }, ef6a: function (e, t) { function i (e, t, i, r, o, s) { e = e || 0; var l = i[1] - i[0]; if (o != null && (o = a(o, [0, l])), s != null && (s = Math.max(s, o != null ? o : 0)), r === 'all') { var u = Math.abs(t[1] - t[0]); u = a(u, [0, l]), o = s = a(u, [o, s]), r = 0 }t[0] = a(t[0], i), t[1] = a(t[1], i); var c = n(t, r); t[r] += e; var h = o || 0; var d = i.slice(); c.sign < 0 ? d[0] += h : d[1] -= h, t[r] = a(t[r], d); var f = n(t, r); o != null && (f.sign !== c.sign || f.span < o) && (t[1 - r] = t[r] + c.sign * o); f = n(t, r); return s != null && f.span > s && (t[1 - r] = t[r] + f.sign * s), t } function n (e, t) { var i = e[t] - e[1 - t]; return { span: Math.abs(i), sign: i > 0 ? -1 : i < 0 ? 1 : t ? -1 : 1 } } function a (e, t) { return Math.min(t[1] != null ? t[1] : 1 / 0, Math.max(t[0] != null ? t[0] : -1 / 0, e)) }e.exports = i }, ef97: function (e, t, i) { var n = i('3eba'); i('217b'), i('f17f'); var a = i('7f96'); var r = i('87c3'); var o = i('fdde'); i('01ed'), n.registerVisual(a('line', 'circle', 'line')), n.registerLayout(r('line')), n.registerProcessor(n.PRIORITY.PROCESSOR.STATISTIC, o('line')) }, ef97a: function (e, t, i) { var n = i('3eba'); i('2163'), i('6cd8'), i('bf9b'); var a = i('7f96'); var r = i('ca29'); n.registerVisual(a('tree', 'circle')), n.registerLayout(r) }, f123: function (e, t, i) { var n = i('9f82'); var a = n.prepareDataCoordInfo; var r = n.getStackedOnPoint; function o (e, t) { var i = []; return t.diff(e).add(function (e) { i.push({ cmd: '+', idx: e }) }).update(function (e, t) { i.push({ cmd: '=', idx: t, idx1: e }) }).remove(function (e) { i.push({ cmd: '-', idx: e }) }).execute(), i } function s (e, t, i, n, s, l, u, c) { for (var h = o(e, t), d = [], f = [], p = [], g = [], m = [], v = [], y = [], x = a(s, t, u), _ = a(l, e, c), b = 0; b < h.length; b++) { var w = h[b]; var S = !0; switch (w.cmd) { case '=':var M = e.getItemLayout(w.idx); var I = t.getItemLayout(w.idx1); (isNaN(M[0]) || isNaN(M[1])) && (M = I.slice()), d.push(M), f.push(I), p.push(i[w.idx]), g.push(n[w.idx1]), y.push(t.getRawIndex(w.idx1)); break; case '+':var A = w.idx; d.push(s.dataToPoint([t.get(x.dataDimsForPoint[0], A), t.get(x.dataDimsForPoint[1], A)])), f.push(t.getItemLayout(A).slice()), p.push(r(x, s, t, A)), g.push(n[A]), y.push(t.getRawIndex(A)); break; case '-':A = w.idx; var T = e.getRawIndex(A); T !== A ? (d.push(e.getItemLayout(A)), f.push(l.dataToPoint([e.get(_.dataDimsForPoint[0], A), e.get(_.dataDimsForPoint[1], A)])), p.push(i[A]), g.push(r(_, l, e, A)), y.push(T)) : S = !1 }S && (m.push(w), v.push(v.length)) }v.sort(function (e, t) { return y[e] - y[t] }); var C = []; var D = []; var L = []; var P = []; var k = []; for (b = 0; b < v.length; b++) { A = v[b]; C[b] = d[A], D[b] = f[A], L[b] = p[A], P[b] = g[A], k[b] = m[A] } return { current: C, next: D, stackedOnCurrent: L, stackedOnNext: P, status: k } }e.exports = s }, f138: function (e, t, i) { var n = i('dcb3'); var a = i('ff2e'); var r = i('edb9'); var o = i('6679'); var s = ['x', 'y']; var l = ['width', 'height']; var u = n.extend({ makeElOption: function (e, t, i, n, o) { var s = i.axis; var l = s.coordinateSystem; var u = d(l, 1 - h(s)); var f = l.dataToPoint(t)[0]; var p = n.get('type'); if (p && p !== 'none') { var g = a.buildElStyle(n); var m = c[p](s, f, u); m.style = g, e.graphicKey = m.type, e.pointer = m } var v = r.layout(i); a.buildCartesianSingleLabelElOption(t, e, v, i, n, o) }, getHandleTransform: function (e, t, i) { var n = r.layout(t, { labelInside: !1 }); return n.labelMargin = i.get('handle.margin'), { position: a.getTransformedPosition(t.axis, e, n), rotation: n.rotation + (n.labelDirection < 0 ? Math.PI : 0) } }, updateHandleTransform: function (e, t, i, n) { var a = i.axis; var r = a.coordinateSystem; var o = h(a); var s = d(r, o); var l = e.position; l[o] += t[o], l[o] = Math.min(s[1], l[o]), l[o] = Math.max(s[0], l[o]); var u = d(r, 1 - o); var c = (u[1] + u[0]) / 2; var f = [c, c]; return f[o] = l[o], { position: l, rotation: e.rotation, cursorPoint: f, tooltipOption: { verticalAlign: 'middle' } } } }); var c = { line: function (e, t, i) { var n = a.makeLineShape([t, i[0]], [t, i[1]], h(e)); return { type: 'Line', subPixelOptimize: !0, shape: n } }, shadow: function (e, t, i) { var n = e.getBandWidth(); var r = i[1] - i[0]; return { type: 'Rect', shape: a.makeRectShape([t - n / 2, i[0]], [n, r], h(e)) } } }; function h (e) { return e.isHorizontal() ? 0 : 1 } function d (e, t) { var i = e.getRect(); return [i[s[t]], i[s[t]] + i[l[t]]] }o.registerAxisPointerClass('SingleAxisPointer', u); var f = u; e.exports = f }, f14c: function (e, t, i) { var n = i('84d5'); var a = i('f934'); var r = a.mergeLayoutParam; var o = a.getLayoutParams; var s = n.extend({ type: 'legend.scroll', setScrollDataIndex: function (e) { this.option.scrollDataIndex = e }, defaultOption: { scrollDataIndex: 0, pageButtonItemGap: 5, pageButtonGap: null, pageButtonPosition: 'end', pageFormatter: '{current}/{total}', pageIcons: { horizontal: ['M0,0L12,-10L12,10z', 'M0,0L-12,-10L-12,10z'], vertical: ['M0,0L20,0L10,-20z', 'M0,0L20,0L10,20z'] }, pageIconColor: '#2f4554', pageIconInactiveColor: '#aaa', pageIconSize: 15, pageTextStyle: { color: '#333' }, animationDurationUpdate: 800 }, init: function (e, t, i, n) { var a = o(e); s.superCall(this, 'init', e, t, i, n), l(this, e, a) }, mergeOption: function (e, t) { s.superCall(this, 'mergeOption', e, t), l(this, this.option, e) } }); function l (e, t, i) { var n = e.getOrient(); var a = [1, 1]; a[n.index] = 0, r(t, i, { type: 'box', ignoreSize: a }) } var u = s; e.exports = u }, f170: function (e, t, i) { i('a87d'); var n = i('697e7'); var a = n.registerPainter; var r = i('e9f9'); a('vml', r) }, f17f: function (e, t, i) { var n = i('4e08'); var a = (n.__DEV__, i('6d8b')); var r = i('e263'); var o = r.fromPoints; var s = i('f706'); var l = i('1418'); var u = i('f123'); var c = i('2306'); var h = i('e0d3'); var d = i('d4d1'); var f = d.Polyline; var p = d.Polygon; var g = i('e887'); var m = i('9f82'); var v = m.prepareDataCoordInfo; var y = m.getStackedOnPoint; var x = i('b0af'); var _ = x.createGridClipPath; var b = x.createPolarClipPath; function w (e, t) { if (e.length === t.length) { for (var i = 0; i < e.length; i++) { var n = e[i]; var a = t[i]; if (n[0] !== a[0] || n[1] !== a[1]) return } return !0 } } function S (e, t) { var i = []; var n = []; var a = []; var r = []; return o(e, i, n), o(t, a, r), Math.max(Math.abs(i[0] - a[0]), Math.abs(i[1] - a[1]), Math.abs(n[0] - r[0]), Math.abs(n[1] - r[1])) } function M (e) { return typeof e === 'number' ? e : e ? 0.5 : 0 } function I (e, t, i) { if (!i.valueDim) return []; for (var n = [], a = 0, r = t.count(); a < r; a++)n.push(y(i, e, t, a)); return n } function A (e, t, i) { for (var n = t.getBaseAxis(), a = n.dim === 'x' || n.dim === 'radius' ? 0 : 1, r = [], o = 0; o < e.length - 1; o++) { var s = e[o + 1]; var l = e[o]; r.push(l); var u = []; switch (i) { case 'end':u[a] = s[a], u[1 - a] = l[1 - a], r.push(u); break; case 'middle':var c = (l[a] + s[a]) / 2; var h = []; u[a] = h[a] = c, u[1 - a] = l[1 - a], h[1 - a] = s[1 - a], r.push(u), r.push(h); break; default:u[a] = l[a], u[1 - a] = s[1 - a], r.push(u) } } return e[o] && r.push(e[o]), r } function T (e, t) { var i = e.getVisual('visualMeta'); if (i && i.length && e.count() && t.type === 'cartesian2d') { for (var n, r, o = i.length - 1; o >= 0; o--) { var s = i[o].dimension; var l = e.dimensions[s]; var u = e.getDimensionInfo(l); if (n = u && u.coordDim, n === 'x' || n === 'y') { r = i[o]; break } } if (r) { var h = t.getAxis(n); var d = a.map(r.stops, function (e) { return { coord: h.toGlobalCoord(h.dataToCoord(e.value)), color: e.color } }); var f = d.length; var p = r.outerColors.slice(); f && d[0].coord > d[f - 1].coord && (d.reverse(), p.reverse()); var g = 10; var m = d[0].coord - g; var v = d[f - 1].coord + g; var y = v - m; if (y < 0.001) return 'transparent'; a.each(d, function (e) { e.offset = (e.coord - m) / y }), d.push({ offset: f ? d[f - 1].offset : 0.5, color: p[1] || 'transparent' }), d.unshift({ offset: f ? d[0].offset : 0.5, color: p[0] || 'transparent' }); var x = new c.LinearGradient(0, 0, 0, 0, d, !0); return x[n] = m, x[n + '2'] = v, x } } } function C (e, t, i) { var n = e.get('showAllSymbol'); var r = n === 'auto'; if (!n || r) { var o = i.getAxesByScale('ordinal')[0]; if (o && (!r || !D(o, t))) { var s = t.mapDimension(o.dim); var l = {}; return a.each(o.getViewLabels(), function (e) { l[e.tickValue] = 1 }), function (e) { return !l.hasOwnProperty(t.get(s, e)) } } } } function D (e, t) { var i = e.getExtent(); var n = Math.abs(i[1] - i[0]) / e.scale.count(); isNaN(n) && (n = 0); for (var a = t.count(), r = Math.max(1, Math.round(a / 5)), o = 0; o < a; o += r) if (1.5 * l.getSymbolSize(t, o)[e.isHorizontal() ? 1 : 0] > n) return !1; return !0 } function L (e, t, i) { if (e.type === 'cartesian2d') { var n = e.getBaseAxis().isHorizontal(); var a = _(e, t, i); if (!i.get('clip', !0)) { var r = a.shape; var o = Math.max(r.width, r.height); n ? (r.y -= o, r.height += 2 * o) : (r.x -= o, r.width += 2 * o) } return a } return b(e, t, i) } var P = g.extend({ type: 'line', init: function () { var e = new c.Group(); var t = new s(); this.group.add(t.group), this._symbolDraw = t, this._lineGroup = e }, render: function (e, t, i) { var n = e.coordinateSystem; var r = this.group; var o = e.getData(); var s = e.getModel('lineStyle'); var l = e.getModel('areaStyle'); var u = o.mapArray(o.getItemLayout); var c = n.type === 'polar'; var h = this._coordSys; var d = this._symbolDraw; var f = this._polyline; var p = this._polygon; var g = this._lineGroup; var m = e.get('animation'); var y = !l.isEmpty(); var x = l.get('origin'); var _ = v(n, o, x); var b = I(n, o, _); var S = e.get('showSymbol'); var D = S && !c && C(e, o, n); var P = this._data; P && P.eachItemGraphicEl(function (e, t) { e.__temp && (r.remove(e), P.setItemGraphicEl(t, null)) }), S || d.remove(), r.add(g); var k; var O = !c && e.get('step'); n && n.getArea && e.get('clip', !0) && (k = n.getArea(), k.width != null ? (k.x -= 0.1, k.y -= 0.1, k.width += 0.2, k.height += 0.2) : k.r0 && (k.r0 -= 0.5, k.r1 += 0.5)), this._clipShapeForSymbol = k, f && h.type === n.type && O === this._step ? (y && !p ? p = this._newPolygon(u, b, n, m) : p && !y && (g.remove(p), p = this._polygon = null), g.setClipPath(L(n, !1, e)), S && d.updateData(o, { isIgnore: D, clipShape: k }), o.eachItemGraphicEl(function (e) { e.stopAnimation(!0) }), w(this._stackedOnPoints, b) && w(this._points, u) || (m ? this._updateAnimation(o, b, n, i, O, x) : (O && (u = A(u, n, O), b = A(b, n, O)), f.setShape({ points: u }), p && p.setShape({ points: u, stackedOnPoints: b })))) : (S && d.updateData(o, { isIgnore: D, clipShape: k }), O && (u = A(u, n, O), b = A(b, n, O)), f = this._newPolyline(u, n, m), y && (p = this._newPolygon(u, b, n, m)), g.setClipPath(L(n, !0, e))); var R = T(o, n) || o.getVisual('color'); f.useStyle(a.defaults(s.getLineStyle(), { fill: 'none', stroke: R, lineJoin: 'bevel' })); var E = e.get('smooth'); if (E = M(e.get('smooth')), f.setShape({ smooth: E, smoothMonotone: e.get('smoothMonotone'), connectNulls: e.get('connectNulls') }), p) { var N = o.getCalculationInfo('stackedOnSeries'); var z = 0; p.useStyle(a.defaults(l.getAreaStyle(), { fill: R, opacity: 0.7, lineJoin: 'bevel' })), N && (z = M(N.get('smooth'))), p.setShape({ smooth: E, stackedOnSmooth: z, smoothMonotone: e.get('smoothMonotone'), connectNulls: e.get('connectNulls') }) } this._data = o, this._coordSys = n, this._stackedOnPoints = b, this._points = u, this._step = O, this._valueOrigin = x }, dispose: function () {}, highlight: function (e, t, i, n) { var a = e.getData(); var r = h.queryDataIndex(a, n); if (!(r instanceof Array) && r != null && r >= 0) { var o = a.getItemGraphicEl(r); if (!o) { var s = a.getItemLayout(r); if (!s) return; if (this._clipShapeForSymbol && !this._clipShapeForSymbol.contain(s[0], s[1])) return; o = new l(a, r), o.position = s, o.setZ(e.get('zlevel'), e.get('z')), o.ignore = isNaN(s[0]) || isNaN(s[1]), o.__temp = !0, a.setItemGraphicEl(r, o), o.stopSymbolAnimation(!0), this.group.add(o) }o.highlight() } else g.prototype.highlight.call(this, e, t, i, n) }, downplay: function (e, t, i, n) { var a = e.getData(); var r = h.queryDataIndex(a, n); if (r != null && r >= 0) { var o = a.getItemGraphicEl(r); o && (o.__temp ? (a.setItemGraphicEl(r, null), this.group.remove(o)) : o.downplay()) } else g.prototype.downplay.call(this, e, t, i, n) }, _newPolyline: function (e) { var t = this._polyline; return t && this._lineGroup.remove(t), t = new f({ shape: { points: e }, silent: !0, z2: 10 }), this._lineGroup.add(t), this._polyline = t, t }, _newPolygon: function (e, t) { var i = this._polygon; return i && this._lineGroup.remove(i), i = new p({ shape: { points: e, stackedOnPoints: t }, silent: !0 }), this._lineGroup.add(i), this._polygon = i, i }, _updateAnimation: function (e, t, i, n, a, r) { var o = this._polyline; var s = this._polygon; var l = e.hostModel; var h = u(this._data, e, this._stackedOnPoints, t, this._coordSys, i, this._valueOrigin, r); var d = h.current; var f = h.stackedOnCurrent; var p = h.next; var g = h.stackedOnNext; if (a && (d = A(h.current, i, a), f = A(h.stackedOnCurrent, i, a), p = A(h.next, i, a), g = A(h.stackedOnNext, i, a)), S(d, p) > 3e3 || s && S(f, g) > 3e3) return o.setShape({ points: p }), void (s && s.setShape({ points: p, stackedOnPoints: g })); o.shape.__points = h.current, o.shape.points = d, c.updateProps(o, { shape: { points: p } }, l), s && (s.setShape({ points: d, stackedOnPoints: f }), c.updateProps(s, { shape: { points: p, stackedOnPoints: g } }, l)); for (var m = [], v = h.status, y = 0; y < v.length; y++) { var x = v[y].cmd; if (x === '=') { var _ = e.getItemGraphicEl(v[y].idx1); _ && m.push({ el: _, ptIdx: y }) } }o.animators && o.animators.length && o.animators[0].during(function () { for (var e = 0; e < m.length; e++) { var t = m[e].el; t.attr('position', o.shape.__points[m[e].ptIdx]) } }) }, remove: function (e) { var t = this.group; var i = this._data; this._lineGroup.removeAll(), this._symbolDraw.remove(!0), i && i.eachItemGraphicEl(function (e, n) { e.__temp && (t.remove(e), i.setItemGraphicEl(n, null)) }), this._polyline = this._polygon = this._coordSys = this._points = this._stackedOnPoints = this._data = null } }); e.exports = P }, f219: function (e, t) { var i = '#eee'; var n = function () { return { axisLine: { lineStyle: { color: i } }, axisTick: { lineStyle: { color: i } }, axisLabel: { textStyle: { color: i } }, splitLine: { lineStyle: { type: 'dashed', color: '#aaa' } }, splitArea: { areaStyle: { color: i } } } }; var a = ['#dd6b66', '#759aa0', '#e69d87', '#8dc1a9', '#ea7e53', '#eedd78', '#73a373', '#73b9bc', '#7289ab', '#91ca8c', '#f49f42']; var r = { color: a, backgroundColor: '#333', tooltip: { axisPointer: { lineStyle: { color: i }, crossStyle: { color: i }, label: { color: '#000' } } }, legend: { textStyle: { color: i } }, textStyle: { color: i }, title: { textStyle: { color: i } }, toolbox: { iconStyle: { normal: { borderColor: i } } }, dataZoom: { textStyle: { color: i } }, visualMap: { textStyle: { color: i } }, timeline: { lineStyle: { color: i }, itemStyle: { normal: { color: a[1] } }, label: { normal: { textStyle: { color: i } } }, controlStyle: { normal: { color: i, borderColor: i } } }, timeAxis: n(), logAxis: n(), valueAxis: n(), categoryAxis: n(), line: { symbol: 'circle' }, graph: { color: a }, gauge: { title: { textStyle: { color: i } } }, candlestick: { itemStyle: { normal: { color: '#FD1050', color0: '#0CF49B', borderColor: '#FD1050', borderColor0: '#0CF49B' } } } }; r.categoryAxis.splitLine.show = !1; var o = r; e.exports = o }, f273: function (e, t, i) { var n = i('6d8b'); var a = i('2306'); var r = i('fab2'); var o = i('6679'); var s = i('0156'); var l = i('58df'); var u = l.rectCoordAxisBuildSplitArea; var c = l.rectCoordAxisHandleRemove; var h = ['axisLine', 'axisTickLabel', 'axisName']; var d = ['splitArea', 'splitLine', 'minorSplitLine']; var f = o.extend({ type: 'cartesianAxis', axisPointerClass: 'CartesianAxisPointer', render: function (e, t, i, o) { this.group.removeAll(); var l = this._axisGroup; if (this._axisGroup = new a.Group(), this.group.add(this._axisGroup), e.get('show')) { var u = e.getCoordSysModel(); var c = s.layout(u, e); var p = new r(e, c); n.each(h, p.add, p), this._axisGroup.add(p.getGroup()), n.each(d, function (t) { e.get(t + '.show') && this['_' + t](e, u) }, this), a.groupTransition(l, this._axisGroup, e), f.superCall(this, 'render', e, t, i, o) } }, remove: function () { c(this) }, _splitLine: function (e, t) { var i = e.axis; if (!i.scale.isBlank()) { var r = e.getModel('splitLine'); var o = r.getModel('lineStyle'); var s = o.get('color'); s = n.isArray(s) ? s : [s]; for (var l = t.coordinateSystem.getRect(), u = i.isHorizontal(), c = 0, h = i.getTicksCoords({ tickModel: r }), d = [], f = [], p = o.getLineStyle(), g = 0; g < h.length; g++) { var m = i.toGlobalCoord(h[g].coord); u ? (d[0] = m, d[1] = l.y, f[0] = m, f[1] = l.y + l.height) : (d[0] = l.x, d[1] = m, f[0] = l.x + l.width, f[1] = m); var v = c++ % s.length; var y = h[g].tickValue; this._axisGroup.add(new a.Line({ anid: y != null ? 'line_' + h[g].tickValue : null, subPixelOptimize: !0, shape: { x1: d[0], y1: d[1], x2: f[0], y2: f[1] }, style: n.defaults({ stroke: s[v] }, p), silent: !0 })) } } }, _minorSplitLine: function (e, t) { var i = e.axis; var n = e.getModel('minorSplitLine'); var r = n.getModel('lineStyle'); var o = t.coordinateSystem.getRect(); var s = i.isHorizontal(); var l = i.getMinorTicksCoords(); if (l.length) for (var u = [], c = [], h = r.getLineStyle(), d = 0; d < l.length; d++) for (var f = 0; f < l[d].length; f++) { var p = i.toGlobalCoord(l[d][f].coord); s ? (u[0] = p, u[1] = o.y, c[0] = p, c[1] = o.y + o.height) : (u[0] = o.x, u[1] = p, c[0] = o.x + o.width, c[1] = p), this._axisGroup.add(new a.Line({ anid: 'minor_line_' + l[d][f].tickValue, subPixelOptimize: !0, shape: { x1: u[0], y1: u[1], x2: c[0], y2: c[1] }, style: h, silent: !0 })) } }, _splitArea: function (e, t) { u(this, this._axisGroup, e, t) } }); f.extend({ type: 'xAxis' }), f.extend({ type: 'yAxis' }) }, f279: function (e, t, i) { var n = i('9850'); var a = i('e263'); var r = i('401b'); var o = i('0655'); function s (e, t, i) { if (this.name = e, this.geometries = t, i)i = [i[0], i[1]]; else { var n = this.getBoundingRect(); i = [n.x + n.width / 2, n.y + n.height / 2] } this.center = i }s.prototype = { constructor: s, properties: null, getBoundingRect: function () { var e = this._rect; if (e) return e; for (var t = Number.MAX_VALUE, i = [t, t], o = [-t, -t], s = [], l = [], u = this.geometries, c = 0; c < u.length; c++) if (u[c].type === 'polygon') { var h = u[c].exterior; a.fromPoints(h, s, l), r.min(i, i, s), r.max(o, o, l) } return c === 0 && (i[0] = i[1] = o[0] = o[1] = 0), this._rect = new n(i[0], i[1], o[0] - i[0], o[1] - i[1]) }, contain: function (e) { var t = this.getBoundingRect(); var i = this.geometries; if (!t.contain(e[0], e[1])) return !1; e:for (var n = 0, a = i.length; n < a; n++) if (i[n].type === 'polygon') { var r = i[n].exterior; var s = i[n].interiors; if (o.contain(r, e[0], e[1])) { for (var l = 0; l < (s ? s.length : 0); l++) if (o.contain(s[l])) continue e; return !0 } } return !1 }, transformTo: function (e, t, i, a) { var o = this.getBoundingRect(); var s = o.width / o.height; i ? a || (a = i / s) : i = s * a; for (var l = new n(e, t, i, a), u = o.calculateTransform(l), c = this.geometries, h = 0; h < c.length; h++) if (c[h].type === 'polygon') { for (var d = c[h].exterior, f = c[h].interiors, p = 0; p < d.length; p++)r.applyTransform(d[p], d[p], u); for (var g = 0; g < (f ? f.length : 0); g++) for (p = 0; p < f[g].length; p++)r.applyTransform(f[g][p], f[g][p], u) }o = this._rect, o.copy(l), this.center = [o.x + o.width / 2, o.y + o.height / 2] }, cloneShallow: function (e) { e == null && (e = this.name); var t = new s(e, this.geometries, this.center); return t._rect = this._rect, t.transformTo = null, t } }; var l = s; e.exports = l }, f306: function (e, t, i) { var n = i('3eba'); var a = i('6d8b'); var r = i('88b3'); var o = i('6569'); i('849b'), i('217c'), i('c515'); var s = 5; n.extendComponentView({ type: 'parallel', render: function (e, t, i) { this._model = e, this._api = i, this._handlers || (this._handlers = {}, a.each(l, function (e, t) { i.getZr().on(t, this._handlers[t] = a.bind(e, this)) }, this)), r.createOrUpdate(this, '_throttledDispatchExpand', e.get('axisExpandRate'), 'fixRate') }, dispose: function (e, t) { a.each(this._handlers, function (e, i) { t.getZr().off(i, e) }), this._handlers = null }, _throttledDispatchExpand: function (e) { this._dispatchExpand(e) }, _dispatchExpand: function (e) { e && this._api.dispatchAction(a.extend({ type: 'parallelAxisExpand' }, e)) } }); var l = { mousedown: function (e) { u(this, 'click') && (this._mouseDownPoint = [e.offsetX, e.offsetY]) }, mouseup: function (e) { var t = this._mouseDownPoint; if (u(this, 'click') && t) { var i = [e.offsetX, e.offsetY]; var n = Math.pow(t[0] - i[0], 2) + Math.pow(t[1] - i[1], 2); if (n > s) return; var a = this._model.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX, e.offsetY]); a.behavior !== 'none' && this._dispatchExpand({ axisExpandWindow: a.axisExpandWindow }) } this._mouseDownPoint = null }, mousemove: function (e) { if (!this._mouseDownPoint && u(this, 'mousemove')) { var t = this._model; var i = t.coordinateSystem.getSlidedAxisExpandWindow([e.offsetX, e.offsetY]); var n = i.behavior; n === 'jump' && this._throttledDispatchExpand.debounceNextCall(t.get('axisExpandDebounce')), this._throttledDispatchExpand(n === 'none' ? null : { axisExpandWindow: i.axisExpandWindow, animation: n === 'jump' && null }) } } }; function u (e, t) { var i = e._model; return i.get('axisExpandable') && i.get('axisExpandTriggerOn') === t }n.registerPreprocessor(o) }, f31f: function (e, t, i) { var n = i('4e08'); var a = (n.__DEV__, i('3eba')); var r = i('6d8b'); var o = i('2b8c'); var s = i('4319'); var l = ['#ddd']; var u = a.extendComponentModel({ type: 'brush', dependencies: ['geo', 'grid', 'xAxis', 'yAxis', 'parallel', 'series'], defaultOption: { toolbox: null, brushLink: null, seriesIndex: 'all', geoIndex: null, xAxisIndex: null, yAxisIndex: null, brushType: 'rect', brushMode: 'single', transformable: !0, brushStyle: { borderWidth: 1, color: 'rgba(120,140,180,0.3)', borderColor: 'rgba(120,140,180,0.8)' }, throttleType: 'fixRate', throttleDelay: 0, removeOnClick: !0, z: 1e4 }, areas: [], brushType: null, brushOption: {}, coordInfoList: [], optionUpdated: function (e, t) { var i = this.option; !t && o.replaceVisualOption(i, e, ['inBrush', 'outOfBrush']); var n = i.inBrush = i.inBrush || {}; i.outOfBrush = i.outOfBrush || { color: l }, n.hasOwnProperty('liftZ') || (n.liftZ = 5) }, setAreas: function (e) { e && (this.areas = r.map(e, function (e) { return c(this.option, e) }, this)) }, setBrushOption: function (e) { this.brushOption = c(this.option, e), this.brushType = this.brushOption.brushType } }); function c (e, t) { return r.merge({ brushType: e.brushType, brushMode: e.brushMode, transformable: e.transformable, brushStyle: new s(e.brushStyle).getItemStyle(), removeOnClick: e.removeOnClick, z: e.z }, t, !0) } var h = u; e.exports = h }, f47d: function (e, t, i) { var n = i('6d8b'); var a = (n.assert, n.isArray); var r = i('4e08'); r.__DEV__; function o (e) { return new s(e) } function s (e) { e = e || {}, this._reset = e.reset, this._plan = e.plan, this._count = e.count, this._onDirty = e.onDirty, this._dirty = !0, this.context } var l = s.prototype; l.perform = function (e) { var t; var i = this._upstream; var n = e && e.skip; if (this._dirty && i) { var r = this.context; r.data = r.outputData = i.context.outputData } this.__pipeline && (this.__pipeline.currentTask = this), this._plan && !n && (t = this._plan(this.context)); var o; var s = f(this._modBy); var l = this._modDataCount || 0; var u = f(e && e.modBy); var d = e && e.modDataCount || 0; function f (e) { return !(e >= 1) && (e = 1), e }s === u && l === d || (t = 'reset'), (this._dirty || t === 'reset') && (this._dirty = !1, o = h(this, n)), this._modBy = u, this._modDataCount = d; var p = e && e.step; if (this._dueEnd = i ? i._outputDueEnd : this._count ? this._count(this.context) : 1 / 0, this._progress) { var g = this._dueIndex; var m = Math.min(p != null ? this._dueIndex + p : 1 / 0, this._dueEnd); if (!n && (o || g < m)) { var v = this._progress; if (a(v)) for (var y = 0; y < v.length; y++)c(this, v[y], g, m, u, d); else c(this, v, g, m, u, d) } this._dueIndex = m; var x = this._settedOutputEnd != null ? this._settedOutputEnd : m; this._outputDueEnd = x } else this._dueIndex = this._outputDueEnd = this._settedOutputEnd != null ? this._settedOutputEnd : this._dueEnd; return this.unfinished() }; var u = (function () { var e; var t; var i; var n; var a; var r = { reset: function (l, u, c, h) { t = l, e = u, i = c, n = h, a = Math.ceil(n / i), r.next = i > 1 && n > 0 ? s : o } }; return r; function o () { return t < e ? t++ : null } function s () { var r = t % a * i + Math.ceil(t / a); var o = t >= e ? null : r < n ? r : t; return t++, o } }()); function c (e, t, i, n, a, r) { u.reset(i, n, a, r), e._callingProgress = t, e._callingProgress({ start: i, end: n, count: n - i, next: u.next }, e.context) } function h (e, t) { var i, n; e._dueIndex = e._outputDueEnd = e._dueEnd = 0, e._settedOutputEnd = null, !t && e._reset && (i = e._reset(e.context), i && i.progress && (n = i.forceFirstProgress, i = i.progress), a(i) && !i.length && (i = null)), e._progress = i, e._modBy = e._modDataCount = null; var r = e._downstream; return r && r.dirty(), n }l.dirty = function () { this._dirty = !0, this._onDirty && this._onDirty(this.context) }, l.unfinished = function () { return this._progress && this._dueIndex < this._dueEnd }, l.pipe = function (e) { (this._downstream !== e || this._dirty) && (this._downstream = e, e._upstream = this, e.dirty()) }, l.dispose = function () { this._disposed || (this._upstream && (this._upstream._downstream = null), this._downstream && (this._downstream._upstream = null), this._dirty = !1, this._disposed = !0) }, l.getUpstream = function () { return this._upstream }, l.getDownstream = function () { return this._downstream }, l.setOutputEnd = function (e) { this._outputDueEnd = this._settedOutputEnd = e }, t.createTask = o }, f4a2: function (e, t, i) { var n = i('9850'); var a = i('c526'); var r = a.onIrrelevantElement; var o = i('2306'); function s (e) { return e = c(e), function (t, i) { return o.clipPointsByRect(t, e) } } function l (e, t) { return e = c(e), function (i) { var n = t != null ? t : i; var a = n ? e.width : e.height; var r = n ? e.x : e.y; return [r, r + (a || 0)] } } function u (e, t, i) { return e = c(e), function (n, a, o) { return e.contain(a[0], a[1]) && !r(n, t, i) } } function c (e) { return n.create(e) }t.makeRectPanelClipPath = s, t.makeLinearBrushOtherExtent = l, t.makeRectIsTargetByCursor = u }, f5e6: function (e, t, i) { i('1ccf'), i('b419') }, f610: function (e, t, i) { var n = i('2306'); var a = i('f934'); var r = i('6d8b'); var o = i('55ac'); var s = o.wrapTreePathInfo; var l = 8; var u = 8; var c = 5; function h (e) { this.group = new n.Group(), e.add(this.group) } function d (e, t, i, n, a, r) { var o = [[a ? e : e - c, t], [e + i, t], [e + i, t + n], [a ? e : e - c, t + n]]; return !r && o.splice(2, 0, [e + i + c, t + n / 2]), !a && o.push([e, t + n / 2]), o } function f (e, t, i) { e.eventData = { componentType: 'series', componentSubType: 'treemap', componentIndex: t.componentIndex, seriesIndex: t.componentIndex, seriesName: t.name, seriesType: 'treemap', selfType: 'breadcrumb', nodeData: { dataIndex: i && i.dataIndex, name: i && i.name }, treePathInfo: i && s(i, t) } }h.prototype = { constructor: h, render: function (e, t, i, n) { var r = e.getModel('breadcrumb'); var o = this.group; if (o.removeAll(), r.get('show') && i) { var s = r.getModel('itemStyle'); var l = s.getModel('textStyle'); var u = { pos: { left: r.get('left'), right: r.get('right'), top: r.get('top'), bottom: r.get('bottom') }, box: { width: t.getWidth(), height: t.getHeight() }, emptyItemWidth: r.get('emptyItemWidth'), totalWidth: 0, renderList: [] }; this._prepare(i, u, l), this._renderContent(e, u, s, l, n), a.positionElement(o, u.pos, u.box) } }, _prepare: function (e, t, i) { for (var n = e; n; n = n.parentNode) { var a = n.getModel().get('name'); var r = i.getTextRect(a); var o = Math.max(r.width + 2 * l, t.emptyItemWidth); t.totalWidth += o + u, t.renderList.push({ node: n, text: a, width: o }) } }, _renderContent: function (e, t, i, o, s) { for (var l = 0, c = t.emptyItemWidth, h = e.get('breadcrumb.height'), p = a.getAvailableSize(t.pos, t.box), g = t.totalWidth, m = t.renderList, v = m.length - 1; v >= 0; v--) { var y = m[v]; var x = y.node; var _ = y.width; var b = y.text; g > p.width && (g -= _ - c, _ = c, b = null); var w = new n.Polygon({ shape: { points: d(l, 0, _, h, v === m.length - 1, v === 0) }, style: r.defaults(i.getItemStyle(), { lineJoin: 'bevel', text: b, textFill: o.getTextColor(), textFont: o.getFont() }), z: 10, onclick: r.curry(s, x) }); this.group.add(w), f(w, e, x), l += _ + u } }, remove: function () { this.group.removeAll() } }; var p = h; e.exports = p }, f6ed: function (e, t, i) { var n = i('6d8b'); function a (e, t) { var i = {}; return n.each(e, function (e) { e.each(e.mapDimension('value'), function (t, n) { var a = 'ec-' + e.getName(n); i[a] = i[a] || [], isNaN(t) || i[a].push(t) }) }), e[0].map(e[0].mapDimension('value'), function (n, a) { for (var r, o = 'ec-' + e[0].getName(a), s = 0, l = 1 / 0, u = -1 / 0, c = i[o].length, h = 0; h < c; h++)l = Math.min(l, i[o][h]), u = Math.max(u, i[o][h]), s += i[o][h]; return r = t === 'min' ? l : t === 'max' ? u : t === 'average' ? s / c : s, c === 0 ? NaN : r }) } function r (e) { var t = {}; e.eachSeriesByType('map', function (e) { var i = e.getHostGeoModel(); var n = i ? 'o' + i.id : 'i' + e.getMapType(); (t[n] = t[n] || []).push(e) }), n.each(t, function (e, t) { for (var i = a(n.map(e, function (e) { return e.getData() }), e[0].get('mapValueCalculation')), r = 0; r < e.length; r++)e[r].originalData = e[r].getData(); for (r = 0; r < e.length; r++)e[r].seriesGroup = e, e[r].needsDrawMap = r === 0 && !e[r].getHostGeoModel(), e[r].setData(i.cloneShallow()), e[r].mainSeries = e[0] }) }e.exports = r }, f706: function (e, t, i) { var n = i('2306'); var a = i('1418'); var r = i('6d8b'); var o = r.isObject; function s (e) { this.group = new n.Group(), this._symbolCtor = e || a } var l = s.prototype; function u (e, t, i, n) { return t && !isNaN(t[0]) && !isNaN(t[1]) && !(n.isIgnore && n.isIgnore(i)) && !(n.clipShape && !n.clipShape.contain(t[0], t[1])) && e.getItemVisual(i, 'symbol') !== 'none' } function c (e) { return e == null || o(e) || (e = { isIgnore: e }), e || {} } function h (e) { var t = e.hostModel; return { itemStyle: t.getModel('itemStyle').getItemStyle(['color']), hoverItemStyle: t.getModel('emphasis.itemStyle').getItemStyle(), symbolRotate: t.get('symbolRotate'), symbolOffset: t.get('symbolOffset'), hoverAnimation: t.get('hoverAnimation'), labelModel: t.getModel('label'), hoverLabelModel: t.getModel('emphasis.label'), cursorStyle: t.get('cursor') } }l.updateData = function (e, t) { t = c(t); var i = this.group; var a = e.hostModel; var r = this._data; var o = this._symbolCtor; var s = h(e); r || i.removeAll(), e.diff(r).add(function (n) { var a = e.getItemLayout(n); if (u(e, a, n, t)) { var r = new o(e, n, s); r.attr('position', a), e.setItemGraphicEl(n, r), i.add(r) } }).update(function (l, c) { var h = r.getItemGraphicEl(c); var d = e.getItemLayout(l); u(e, d, l, t) ? (h ? (h.updateData(e, l, s), n.updateProps(h, { position: d }, a)) : (h = new o(e, l), h.attr('position', d)), i.add(h), e.setItemGraphicEl(l, h)) : i.remove(h) }).remove(function (e) { var t = r.getItemGraphicEl(e); t && t.fadeOut(function () { i.remove(t) }) }).execute(), this._data = e }, l.isPersistent = function () { return !0 }, l.updateLayout = function () { var e = this._data; e && e.eachItemGraphicEl(function (t, i) { var n = e.getItemLayout(i); t.attr('position', n) }) }, l.incrementalPrepareUpdate = function (e) { this._seriesScope = h(e), this._data = null, this.group.removeAll() }, l.incrementalUpdate = function (e, t, i) { function n (e) { e.isGroup || (e.incremental = e.useHoverLayer = !0) }i = c(i); for (var a = e.start; a < e.end; a++) { var r = t.getItemLayout(a); if (u(t, r, a, i)) { var o = new this._symbolCtor(t, a, this._seriesScope); o.traverse(n), o.attr('position', r), this.group.add(o), t.setItemGraphicEl(a, o) } } }, l.remove = function (e) { var t = this.group; var i = this._data; i && e ? i.eachItemGraphicEl(function (e) { e.fadeOut(function () { t.remove(e) }) }) : t.removeAll() }; var d = s; e.exports = d }, f7c6: function (e, t, i) { var n = i('3eba'); var a = i('e46b'); var r = i('6d8b'); var o = i('e0d3'); var s = i('3842'); var l = s.getPercentWithPrecision; var u = i('7023'); var c = i('2b17'); var h = c.retrieveRawAttr; var d = i('0f99'); var f = d.makeSeriesEncodeForNameBased; var p = i('c4a3'); var g = n.extendSeriesModel({ type: 'series.pie', init: function (e) { g.superApply(this, 'init', arguments), this.legendVisualProvider = new p(r.bind(this.getData, this), r.bind(this.getRawData, this)), this.updateSelectedMap(this._createSelectableList()), this._defaultLabelLine(e) }, mergeOption: function (e) { g.superCall(this, 'mergeOption', e), this.updateSelectedMap(this._createSelectableList()) }, getInitialData: function (e, t) { return a(this, { coordDimensions: ['value'], encodeDefaulter: r.curry(f, this) }) }, _createSelectableList: function () { for (var e = this.getRawData(), t = e.mapDimension('value'), i = [], n = 0, a = e.count(); n < a; n++)i.push({ name: e.getName(n), value: e.get(t, n), selected: h(e, n, 'selected') }); return i }, getDataParams: function (e) { var t = this.getData(); var i = g.superCall(this, 'getDataParams', e); var n = []; return t.each(t.mapDimension('value'), function (e) { n.push(e) }), i.percent = l(n, e, t.hostModel.get('percentPrecision')), i.$vars.push('percent'), i }, _defaultLabelLine: function (e) { o.defaultEmphasis(e, 'labelLine', ['show']); var t = e.labelLine; var i = e.emphasis.labelLine; t.show = t.show && e.label.show, i.show = i.show && e.emphasis.label.show }, defaultOption: { zlevel: 0, z: 2, legendHoverLink: !0, hoverAnimation: !0, center: ['50%', '50%'], radius: [0, '75%'], clockwise: !0, startAngle: 90, minAngle: 0, minShowLabelAngle: 0, selectedOffset: 10, hoverOffset: 10, avoidLabelOverlap: !0, percentPrecision: 2, stillShowZeroSum: !0, left: 0, top: 0, right: 0, bottom: 0, width: null, height: null, label: { rotate: !1, show: !0, position: 'outer', alignTo: 'none', margin: '25%', bleedMargin: 10, distanceToLabelLine: 5 }, labelLine: { show: !0, length: 15, length2: 15, smooth: !1, lineStyle: { width: 1, type: 'solid' } }, itemStyle: { borderWidth: 1 }, animationType: 'expansion', animationTypeUpdate: 'transition', animationEasing: 'cubicOut' } }); r.mixin(g, u); var m = g; e.exports = m }, f934: function (e, t, i) { var n = i('6d8b'); var a = i('9850'); var r = i('3842'); var o = r.parsePercent; var s = i('eda2'); var l = n.each; var u = ['left', 'right', 'top', 'bottom', 'width', 'height']; var c = [['width', 'left', 'right'], ['height', 'top', 'bottom']]; function h (e, t, i, n, a) { var r = 0; var o = 0; n == null && (n = 1 / 0), a == null && (a = 1 / 0); var s = 0; t.eachChild(function (l, u) { var c; var h; var d = l.position; var f = l.getBoundingRect(); var p = t.childAt(u + 1); var g = p && p.getBoundingRect(); if (e === 'horizontal') { var m = f.width + (g ? -g.x + f.x : 0); c = r + m, c > n || l.newline ? (r = 0, c = m, o += s + i, s = f.height) : s = Math.max(s, f.height) } else { var v = f.height + (g ? -g.y + f.y : 0); h = o + v, h > a || l.newline ? (r += s + i, o = 0, h = v, s = f.width) : s = Math.max(s, f.width) }l.newline || (d[0] = r, d[1] = o, e === 'horizontal' ? r = c + i : o = h + i) }) } var d = h; var f = n.curry(h, 'vertical'); var p = n.curry(h, 'horizontal'); function g (e, t, i) { var n = t.width; var a = t.height; var r = o(e.x, n); var l = o(e.y, a); var u = o(e.x2, n); var c = o(e.y2, a); return (isNaN(r) || isNaN(parseFloat(e.x))) && (r = 0), (isNaN(u) || isNaN(parseFloat(e.x2))) && (u = n), (isNaN(l) || isNaN(parseFloat(e.y))) && (l = 0), (isNaN(c) || isNaN(parseFloat(e.y2))) && (c = a), i = s.normalizeCssArray(i || 0), { width: Math.max(u - r - i[1] - i[3], 0), height: Math.max(c - l - i[0] - i[2], 0) } } function m (e, t, i) { i = s.normalizeCssArray(i || 0); var n = t.width; var r = t.height; var l = o(e.left, n); var u = o(e.top, r); var c = o(e.right, n); var h = o(e.bottom, r); var d = o(e.width, n); var f = o(e.height, r); var p = i[2] + i[0]; var g = i[1] + i[3]; var m = e.aspect; switch (isNaN(d) && (d = n - c - g - l), isNaN(f) && (f = r - h - p - u), m != null && (isNaN(d) && isNaN(f) && (m > n / r ? d = 0.8 * n : f = 0.8 * r), isNaN(d) && (d = m * f), isNaN(f) && (f = d / m)), isNaN(l) && (l = n - c - d - g), isNaN(u) && (u = r - h - f - p), e.left || e.right) { case 'center':l = n / 2 - d / 2 - i[3]; break; case 'right':l = n - d - g; break } switch (e.top || e.bottom) { case 'middle':case 'center':u = r / 2 - f / 2 - i[0]; break; case 'bottom':u = r - f - p; break }l = l || 0, u = u || 0, isNaN(d) && (d = n - g - l - (c || 0)), isNaN(f) && (f = r - p - u - (h || 0)); var v = new a(l + i[3], u + i[0], d, f); return v.margin = i, v } function v (e, t, i, r, o) { var s = !o || !o.hv || o.hv[0]; var l = !o || !o.hv || o.hv[1]; var u = o && o.boundingMode || 'all'; if (s || l) { var c; if (u === 'raw')c = e.type === 'group' ? new a(0, 0, +t.width || 0, +t.height || 0) : e.getBoundingRect(); else if (c = e.getBoundingRect(), e.needLocalTransform()) { var h = e.getLocalTransform(); c = c.clone(), c.applyTransform(h) }t = m(n.defaults({ width: c.width, height: c.height }, t), i, r); var d = e.position; var f = s ? t.x - c.x : 0; var p = l ? t.y - c.y : 0; e.attr('position', u === 'raw' ? [f, p] : [d[0] + f, d[1] + p]) } } function y (e, t) { return e[c[t][0]] != null || e[c[t][1]] != null && e[c[t][2]] != null } function x (e, t, i) { !n.isObject(i) && (i = {}); var a = i.ignoreSize; !n.isArray(a) && (a = [a, a]); var r = s(c[0], 0); var o = s(c[1], 1); function s (i, n) { var r = {}; var o = 0; var s = {}; var c = 0; var d = 2; if (l(i, function (t) { s[t] = e[t] }), l(i, function (e) { u(t, e) && (r[e] = s[e] = t[e]), h(r, e) && o++, h(s, e) && c++ }), a[n]) return h(t, i[1]) ? s[i[2]] = null : h(t, i[2]) && (s[i[1]] = null), s; if (c !== d && o) { if (o >= d) return r; for (var f = 0; f < i.length; f++) { var p = i[f]; if (!u(r, p) && u(e, p)) { r[p] = e[p]; break } } return r } return s } function u (e, t) { return e.hasOwnProperty(t) } function h (e, t) { return e[t] != null && e[t] !== 'auto' } function d (e, t, i) { l(e, function (e) { t[e] = i[e] }) }d(c[0], e, r), d(c[1], e, o) } function _ (e) { return b({}, e) } function b (e, t) { return t && e && l(u, function (i) { t.hasOwnProperty(i) && (e[i] = t[i]) }), e }t.LOCATION_PARAMS = u, t.HV_NAMES = c, t.box = d, t.vbox = f, t.hbox = p, t.getAvailableSize = g, t.getLayoutRect = m, t.positionElement = v, t.sizeCalculable = y, t.mergeLayoutParam = x, t.getLayoutParams = _, t.copyLayoutParams = b }, fa52: function (e, t, i) { var n = i('3eba'); i('febc'), i('dcea'); var a = i('2f91'); var r = i('ecf8'); n.registerVisual(a), n.registerLayout(r) }, fab2: function (e, t, i) { var n = i('6d8b'); var a = n.retrieve; var r = n.defaults; var o = n.extend; var s = n.each; var l = i('eda2'); var u = i('2306'); var c = i('4319'); var h = i('3842'); var d = h.isRadianAroundZero; var f = h.remRadian; var p = i('a15a'); var g = p.createSymbol; var m = i('1687'); var v = i('401b'); var y = v.applyTransform; var x = i('697e'); var _ = x.shouldShowAllLabels; var b = Math.PI; var w = function (e, t) { this.opt = t, this.axisModel = e, r(t, { labelOffset: 0, nameDirection: 1, tickDirection: 1, labelDirection: 1, silent: !0 }), this.group = new u.Group(); var i = new u.Group({ position: t.position.slice(), rotation: t.rotation }); i.updateTransform(), this._transform = i.transform, this._dumbGroup = i }; w.prototype = { constructor: w, hasBuilder: function (e) { return !!S[e] }, add: function (e) { S[e].call(this) }, getGroup: function () { return this.group } }; var S = { axisLine: function () { var e = this.opt; var t = this.axisModel; if (t.get('axisLine.show')) { var i = this.axisModel.axis.getExtent(); var n = this._transform; var a = [i[0], 0]; var r = [i[1], 0]; n && (y(a, a, n), y(r, r, n)); var l = o({ lineCap: 'round' }, t.getModel('axisLine.lineStyle').getLineStyle()); this.group.add(new u.Line({ anid: 'line', subPixelOptimize: !0, shape: { x1: a[0], y1: a[1], x2: r[0], y2: r[1] }, style: l, strokeContainThreshold: e.strokeContainThreshold || 5, silent: !0, z2: 1 })); var c = t.get('axisLine.symbol'); var h = t.get('axisLine.symbolSize'); var d = t.get('axisLine.symbolOffset') || 0; if (typeof d === 'number' && (d = [d, d]), c != null) { typeof c === 'string' && (c = [c, c]), typeof h !== 'string' && typeof h !== 'number' || (h = [h, h]); var f = h[0]; var p = h[1]; s([{ rotate: e.rotation + Math.PI / 2, offset: d[0], r: 0 }, { rotate: e.rotation - Math.PI / 2, offset: d[1], r: Math.sqrt((a[0] - r[0]) * (a[0] - r[0]) + (a[1] - r[1]) * (a[1] - r[1])) }], function (t, i) { if (c[i] !== 'none' && c[i] != null) { var n = g(c[i], -f / 2, -p / 2, f, p, l.stroke, !0); var r = t.r + t.offset; var o = [a[0] + r * Math.cos(e.rotation), a[1] - r * Math.sin(e.rotation)]; n.attr({ rotation: t.rotate, position: o, silent: !0, z2: 11 }), this.group.add(n) } }, this) } } }, axisTickLabel: function () { var e = this.axisModel; var t = this.opt; var i = O(this, e, t); var n = E(this, e, t); C(e, n, i), R(this, e, t) }, axisName: function () { var e = this.opt; var t = this.axisModel; var i = a(e.axisName, t.get('name')); if (i) { var n; var r; var s = t.get('nameLocation'); var c = e.nameDirection; var h = t.getModel('nameTextStyle'); var d = t.get('nameGap') || 0; var f = this.axisModel.axis.getExtent(); var p = f[0] > f[1] ? -1 : 1; var g = [s === 'start' ? f[0] - p * d : s === 'end' ? f[1] + p * d : (f[0] + f[1]) / 2, P(s) ? e.labelOffset + c * d : 0]; var m = t.get('nameRotate'); m != null && (m = m * b / 180), P(s) ? n = I(e.rotation, m != null ? m : e.rotation, c) : (n = A(e, s, m || 0, f), r = e.axisNameAvailableWidth, r != null && (r = Math.abs(r / Math.sin(n.rotation)), !isFinite(r) && (r = null))); var v = h.getFont(); var y = t.get('nameTruncate', !0) || {}; var x = y.ellipsis; var _ = a(e.nameTruncateMaxWidth, y.maxWidth, r); var w = x != null && _ != null ? l.truncateText(i, _, v, x, { minChar: 2, placeholder: y.placeholder }) : i; var S = t.get('tooltip', !0); var C = t.mainType; var D = { componentType: C, name: i, $vars: ['name'] }; D[C + 'Index'] = t.componentIndex; var L = new u.Text({ anid: 'name', __fullText: i, __truncatedText: w, position: g, rotation: n.rotation, silent: T(t), z2: 1, tooltip: S && S.show ? o({ content: i, formatter: function () { return i }, formatterParams: D }, S) : null }); u.setTextStyle(L.style, h, { text: w, textFont: v, textFill: h.getTextColor() || t.get('axisLine.lineStyle.color'), textAlign: h.get('align') || n.textAlign, textVerticalAlign: h.get('verticalAlign') || n.textVerticalAlign }), t.get('triggerEvent') && (L.eventData = M(t), L.eventData.targetType = 'axisName', L.eventData.name = i), this._dumbGroup.add(L), L.updateTransform(), this.group.add(L), L.decomposeTransform() } } }; var M = w.makeAxisEventDataBase = function (e) { var t = { componentType: e.mainType, componentIndex: e.componentIndex }; return t[e.mainType + 'Index'] = e.componentIndex, t }; var I = w.innerTextLayout = function (e, t, i) { var n; var a; var r = f(t - e); return d(r) ? (a = i > 0 ? 'top' : 'bottom', n = 'center') : d(r - b) ? (a = i > 0 ? 'bottom' : 'top', n = 'center') : (a = 'middle', n = r > 0 && r < b ? i > 0 ? 'right' : 'left' : i > 0 ? 'left' : 'right'), { rotation: r, textAlign: n, textVerticalAlign: a } }; function A (e, t, i, n) { var a; var r; var o = f(i - e.rotation); var s = n[0] > n[1]; var l = t === 'start' && !s || t !== 'start' && s; return d(o - b / 2) ? (r = l ? 'bottom' : 'top', a = 'center') : d(o - 1.5 * b) ? (r = l ? 'top' : 'bottom', a = 'center') : (r = 'middle', a = o < 1.5 * b && o > b / 2 ? l ? 'left' : 'right' : l ? 'right' : 'left'), { rotation: o, textAlign: a, textVerticalAlign: r } } var T = w.isLabelSilent = function (e) { var t = e.get('tooltip'); return e.get('silent') || !(e.get('triggerEvent') || t && t.show) }; function C (e, t, i) { if (!_(e.axis)) { var n = e.get('axisLabel.showMinLabel'); var a = e.get('axisLabel.showMaxLabel'); t = t || [], i = i || []; var r = t[0]; var o = t[1]; var s = t[t.length - 1]; var l = t[t.length - 2]; var u = i[0]; var c = i[1]; var h = i[i.length - 1]; var d = i[i.length - 2]; !1 === n ? (D(r), D(u)) : L(r, o) && (n ? (D(o), D(c)) : (D(r), D(u))), !1 === a ? (D(s), D(h)) : L(l, s) && (a ? (D(l), D(d)) : (D(s), D(h))) } } function D (e) { e && (e.ignore = !0) } function L (e, t, i) { var n = e && e.getBoundingRect().clone(); var a = t && t.getBoundingRect().clone(); if (n && a) { var r = m.identity([]); return m.rotate(r, r, -e.rotation), n.applyTransform(m.mul([], r, e.getLocalTransform())), a.applyTransform(m.mul([], r, t.getLocalTransform())), n.intersect(a) } } function P (e) { return e === 'middle' || e === 'center' } function k (e, t, i, n, a) { for (var r = [], o = [], s = [], l = 0; l < e.length; l++) { var c = e[l].coord; o[0] = c, o[1] = 0, s[0] = c, s[1] = i, t && (y(o, o, t), y(s, s, t)); var h = new u.Line({ anid: a + '_' + e[l].tickValue, subPixelOptimize: !0, shape: { x1: o[0], y1: o[1], x2: s[0], y2: s[1] }, style: n, z2: 2, silent: !0 }); r.push(h) } return r } function O (e, t, i) { var n = t.axis; var a = t.getModel('axisTick'); if (a.get('show') && !n.scale.isBlank()) { for (var o = a.getModel('lineStyle'), s = i.tickDirection * a.get('length'), l = n.getTicksCoords(), u = k(l, e._transform, s, r(o.getLineStyle(), { stroke: t.get('axisLine.lineStyle.color') }), 'ticks'), c = 0; c < u.length; c++)e.group.add(u[c]); return u } } function R (e, t, i) { var n = t.axis; var a = t.getModel('minorTick'); if (a.get('show') && !n.scale.isBlank()) { var o = n.getMinorTicksCoords(); if (o.length) for (var s = a.getModel('lineStyle'), l = i.tickDirection * a.get('length'), u = r(s.getLineStyle(), r(t.getModel('axisTick').getLineStyle(), { stroke: t.get('axisLine.lineStyle.color') })), c = 0; c < o.length; c++) for (var h = k(o[c], e._transform, l, u, 'minorticks_' + c), d = 0; d < h.length; d++)e.group.add(h[d]) } } function E (e, t, i) { var n = t.axis; var r = a(i.axisLabelShow, t.get('axisLabel.show')); if (r && !n.scale.isBlank()) { var o = t.getModel('axisLabel'); var l = o.get('margin'); var h = n.getViewLabels(); var d = (a(i.labelRotate, o.get('rotate')) || 0) * b / 180; var f = I(i.rotation, d, i.labelDirection); var p = t.getCategories && t.getCategories(!0); var g = []; var m = T(t); var v = t.get('triggerEvent'); return s(h, function (a, r) { var s = a.tickValue; var h = a.formattedLabel; var d = a.rawLabel; var y = o; p && p[s] && p[s].textStyle && (y = new c(p[s].textStyle, o, t.ecModel)); var x = y.getTextColor() || t.get('axisLine.lineStyle.color'); var _ = n.dataToCoord(s); var b = [_, i.labelOffset + i.labelDirection * l]; var w = new u.Text({ anid: 'label_' + s, position: b, rotation: f.rotation, silent: m, z2: 10 }); u.setTextStyle(w.style, y, { text: h, textAlign: y.getShallow('align', !0) || f.textAlign, textVerticalAlign: y.getShallow('verticalAlign', !0) || y.getShallow('baseline', !0) || f.textVerticalAlign, textFill: typeof x === 'function' ? x(n.type === 'category' ? d : n.type === 'value' ? s + '' : s, r) : x }), v && (w.eventData = M(t), w.eventData.targetType = 'axisLabel', w.eventData.value = d), e._dumbGroup.add(w), w.updateTransform(), g.push(w), e.group.add(w), w.decomposeTransform() }), g } } var N = w; e.exports = N }, fb05: function (e, t, i) { var n = i('6d8b'); var a = n.each; var r = n.isArray; var o = n.isObject; var s = i('26e1'); var l = i('e0d3'); var u = l.normalizeToArray; function c (e, t) { t = t.split(','); for (var i = e, n = 0; n < t.length; n++) if (i = i && i[t[n]], i == null) break; return i } function h (e, t, i, n) { t = t.split(','); for (var a, r = e, o = 0; o < t.length - 1; o++)a = t[o], r[a] == null && (r[a] = {}), r = r[a]; (n || r[t[o]] == null) && (r[t[o]] = i) } function d (e) { a(f, function (t) { t[0] in e && !(t[1] in e) && (e[t[1]] = e[t[0]]) }) } var f = [['x', 'left'], ['y', 'top'], ['x2', 'right'], ['y2', 'bottom']]; var p = ['grid', 'geo', 'parallel', 'legend', 'toolbox', 'title', 'visualMap', 'dataZoom', 'timeline']; function g (e, t) { s(e, t), e.series = u(e.series), a(e.series, function (e) { if (o(e)) { var t = e.type; if (t === 'line')e.clipOverflow != null && (e.clip = e.clipOverflow); else if (t === 'pie' || t === 'gauge')e.clockWise != null && (e.clockwise = e.clockWise); else if (t === 'gauge') { var i = c(e, 'pointer.color'); i != null && h(e, 'itemStyle.color', i) }d(e) } }), e.dataRange && (e.visualMap = e.dataRange), a(p, function (t) { var i = e[t]; i && (r(i) || (i = [i]), a(i, function (e) { d(e) })) }) }e.exports = g }, fc82: function (e, t, i) { var n = i('4e08'); var a = (n.__DEV__, i('6d8b')); var r = i('1fab'); var o = i('2306'); var s = i('a4fe'); var l = i('80f0'); var u = a.curry; var c = a.each; var h = a.map; var d = Math.min; var f = Math.max; var p = Math.pow; var g = 1e4; var m = 6; var v = 6; var y = 'globalPan'; var x = { w: [0, 0], e: [0, 1], n: [1, 0], s: [1, 1] }; var _ = { w: 'ew', e: 'ew', n: 'ns', s: 'ns', ne: 'nesw', sw: 'nesw', nw: 'nwse', se: 'nwse' }; var b = { brushStyle: { lineWidth: 2, stroke: 'rgba(0,0,0,0.3)', fill: 'rgba(0,0,0,0.1)' }, transformable: !0, brushMode: 'single', removeOnClick: !1 }; var w = 0; function S (e) { r.call(this), this._zr = e, this.group = new o.Group(), this._brushType, this._brushOption, this._panels, this._track = [], this._dragging, this._covers = [], this._creatingCover, this._creatingPanel, this._enableGlobalPan, this._uid = 'brushController_' + w++, this._handlers = {}, c(ae, function (e, t) { this._handlers[t] = a.bind(e, this) }, this) } function M (e, t) { var i = e._zr; e._enableGlobalPan || s.take(i, y, e._uid), A(i, e._handlers), e._brushType = t.brushType, e._brushOption = a.merge(a.clone(b), t, !0) } function I (e) { var t = e._zr; s.release(t, y, e._uid), T(t, e._handlers), e._brushType = e._brushOption = null } function A (e, t) { c(t, function (t, i) { e.on(i, t) }) } function T (e, t) { c(t, function (t, i) { e.off(i, t) }) } function C (e, t) { var i = se[t.brushType].createCover(e, t); return i.__brushOption = t, P(i, t), e.group.add(i), i } function D (e, t) { var i = O(t); return i.endCreating && (i.endCreating(e, t), P(t, t.__brushOption)), t } function L (e, t) { var i = t.__brushOption; O(t).updateCoverShape(e, t, i.range, i) } function P (e, t) { var i = t.z; i == null && (i = g), e.traverse(function (e) { e.z = i, e.z2 = i }) } function k (e, t) { O(t).updateCommon(e, t), L(e, t) } function O (e) { return se[e.__brushOption.brushType] } function R (e, t, i) { var n; var a = e._panels; if (!a) return !0; var r = e._transform; return c(a, function (e) { e.isTargetByCursor(t, i, r) && (n = e) }), n } function E (e, t) { var i = e._panels; if (!i) return !0; var n = t.__brushOption.panelId; return n == null || i[n] } function N (e) { var t = e._covers; var i = t.length; return c(t, function (t) { e.group.remove(t) }, e), t.length = 0, !!i } function z (e, t) { var i = h(e._covers, function (e) { var t = e.__brushOption; var i = a.clone(t.range); return { brushType: t.brushType, panelId: t.panelId, range: i } }); e.trigger('brush', i, { isEnd: !!t.isEnd, removeOnClick: !!t.removeOnClick }) } function B (e) { var t = e._track; if (!t.length) return !1; var i = t[t.length - 1]; var n = t[0]; var a = i[0] - n[0]; var r = i[1] - n[1]; var o = p(a * a + r * r, 0.5); return o > m } function V (e) { var t = e.length - 1; return t < 0 && (t = 0), [e[0], e[t]] } function G (e, t, i, n) { var a = new o.Group(); return a.add(new o.Rect({ name: 'main', style: U(i), silent: !0, draggable: !0, cursor: 'move', drift: u(e, t, a, 'nswe'), ondragend: u(z, t, { isEnd: !0 }) })), c(n, function (i) { a.add(new o.Rect({ name: i, style: { opacity: 0 }, draggable: !0, silent: !0, invisible: !0, drift: u(e, t, a, i), ondragend: u(z, t, { isEnd: !0 }) })) }), a } function F (e, t, i, n) { var a = n.brushStyle.lineWidth || 0; var r = f(a, v); var o = i[0][0]; var s = i[1][0]; var l = o - a / 2; var u = s - a / 2; var c = i[0][1]; var h = i[1][1]; var d = c - r + a / 2; var p = h - r + a / 2; var g = c - o; var m = h - s; var y = g + a; var x = m + a; W(e, t, 'main', o, s, g, m), n.transformable && (W(e, t, 'w', l, u, r, x), W(e, t, 'e', d, u, r, x), W(e, t, 'n', l, u, y, r), W(e, t, 's', l, p, y, r), W(e, t, 'nw', l, u, r, r), W(e, t, 'ne', d, u, r, r), W(e, t, 'sw', l, p, r, r), W(e, t, 'se', d, p, r, r)) } function H (e, t) { var i = t.__brushOption; var n = i.transformable; var a = t.childAt(0); a.useStyle(U(i)), a.attr({ silent: !n, cursor: n ? 'move' : 'default' }), c(['w', 'e', 'n', 's', 'se', 'sw', 'ne', 'nw'], function (i) { var a = t.childOfName(i); var r = j(e, i); a && a.attr({ silent: !n, invisible: !n, cursor: n ? _[r] + '-resize' : null }) }) } function W (e, t, i, n, a, r, o) { var s = t.childOfName(i); s && s.setShape(J(K(e, t, [[n, a], [n + r, a + o]]))) } function U (e) { return a.defaults({ strokeNoScale: !0 }, e.brushStyle) } function Z (e, t, i, n) { var a = [d(e, i), d(t, n)]; var r = [f(e, i), f(t, n)]; return [[a[0], r[0]], [a[1], r[1]]] } function Y (e) { return o.getTransform(e.group) } function j (e, t) { if (t.length > 1) { t = t.split(''); var i = [j(e, t[0]), j(e, t[1])]; return (i[0] === 'e' || i[0] === 'w') && i.reverse(), i.join('') } var n = { w: 'left', e: 'right', n: 'top', s: 'bottom' }; var a = { left: 'w', right: 'e', top: 'n', bottom: 's' }; i = o.transformDirection(n[t], Y(e)); return a[i] } function X (e, t, i, n, a, r, o, s) { var l = n.__brushOption; var u = e(l.range); var h = $(i, r, o); c(a.split(''), function (e) { var t = x[e]; u[t[0]][t[1]] += h[t[0]] }), l.range = t(Z(u[0][0], u[1][0], u[0][1], u[1][1])), k(i, n), z(i, { isEnd: !1 }) } function q (e, t, i, n, a) { var r = t.__brushOption.range; var o = $(e, i, n); c(r, function (e) { e[0] += o[0], e[1] += o[1] }), k(e, t), z(e, { isEnd: !1 }) } function $ (e, t, i) { var n = e.group; var a = n.transformCoordToLocal(t, i); var r = n.transformCoordToLocal(0, 0); return [a[0] - r[0], a[1] - r[1]] } function K (e, t, i) { var n = E(e, t); return n && !0 !== n ? n.clipPath(i, e._transform) : a.clone(i) } function J (e) { var t = d(e[0][0], e[1][0]); var i = d(e[0][1], e[1][1]); var n = f(e[0][0], e[1][0]); var a = f(e[0][1], e[1][1]); return { x: t, y: i, width: n - t, height: a - i } } function Q (e, t, i) { if (e._brushType && !oe(e, t)) { var n = e._zr; var a = e._covers; var r = R(e, t, i); if (!e._dragging) for (var o = 0; o < a.length; o++) { var s = a[o].__brushOption; if (r && (!0 === r || s.panelId === r.panelId) && se[s.brushType].contain(a[o], i[0], i[1])) return }r && n.setCursorStyle('crosshair') } } function ee (e) { var t = e.event; t.preventDefault && t.preventDefault() } function te (e, t, i) { return e.childOfName('main').contain(t, i) } function ie (e, t, i, n) { var r; var o = e._creatingCover; var s = e._creatingPanel; var l = e._brushOption; if (e._track.push(i.slice()), B(e) || o) { if (s && !o) { l.brushMode === 'single' && N(e); var u = a.clone(l); u.brushType = ne(u.brushType, s), u.panelId = !0 === s ? null : s.panelId, o = e._creatingCover = C(e, u), e._covers.push(o) } if (o) { var c = se[ne(e._brushType, s)]; var h = o.__brushOption; h.range = c.getCreatingRange(K(e, o, e._track)), n && (D(e, o), c.updateCommon(e, o)), L(e, o), r = { isEnd: n } } } else n && l.brushMode === 'single' && l.removeOnClick && R(e, t, i) && N(e) && (r = { isEnd: n, removeOnClick: !0 }); return r } function ne (e, t) { return e === 'auto' ? t.defaultBrushType : e }S.prototype = { constructor: S, enableBrush: function (e) { return this._brushType && I(this), e.brushType && M(this, e), this }, setPanels: function (e) { if (e && e.length) { var t = this._panels = {}; a.each(e, function (e) { t[e.panelId] = a.clone(e) }) } else this._panels = null; return this }, mount: function (e) { e = e || {}, this._enableGlobalPan = e.enableGlobalPan; var t = this.group; return this._zr.add(t), t.attr({ position: e.position || [0, 0], rotation: e.rotation || 0, scale: e.scale || [1, 1] }), this._transform = t.getLocalTransform(), this }, eachCover: function (e, t) { c(this._covers, e, t) }, updateCovers: function (e) { e = a.map(e, function (e) { return a.merge(a.clone(b), e, !0) }); var t = '\0-brush-index-'; var i = this._covers; var n = this._covers = []; var r = this; var o = this._creatingCover; return new l(i, e, u, s).add(c).update(c).remove(h).execute(), this; function s (e, i) { return (e.id != null ? e.id : t + i) + '-' + e.brushType } function u (e, t) { return s(e.__brushOption, t) } function c (t, a) { var s = e[t]; if (a != null && i[a] === o)n[t] = i[a]; else { var l = n[t] = a != null ? (i[a].__brushOption = s, i[a]) : D(r, C(r, s)); k(r, l) } } function h (e) { i[e] !== o && r.group.remove(i[e]) } }, unmount: function () { return this.enableBrush(!1), N(this), this._zr.remove(this.group), this }, dispose: function () { this.unmount(), this.off() } }, a.mixin(S, r); var ae = { mousedown: function (e) { if (this._dragging)re(this, e); else if (!e.target || !e.target.draggable) { ee(e); var t = this.group.transformCoordToLocal(e.offsetX, e.offsetY); this._creatingCover = null; var i = this._creatingPanel = R(this, e, t); i && (this._dragging = !0, this._track = [t.slice()]) } }, mousemove: function (e) { var t = e.offsetX; var i = e.offsetY; var n = this.group.transformCoordToLocal(t, i); if (Q(this, e, n), this._dragging) { ee(e); var a = ie(this, e, n, !1); a && z(this, a) } }, mouseup: function (e) { re(this, e) } }; function re (e, t) { if (e._dragging) { ee(t); var i = t.offsetX; var n = t.offsetY; var a = e.group.transformCoordToLocal(i, n); var r = ie(e, t, a, !0); e._dragging = !1, e._track = [], e._creatingCover = null, r && z(e, r) } } function oe (e, t, i) { var n = e._zr; return t < 0 || t > n.getWidth() || i < 0 || i > n.getHeight() } var se = { lineX: le(0), lineY: le(1), rect: { createCover: function (e, t) { return G(u(X, function (e) { return e }, function (e) { return e }), e, t, ['w', 'e', 'n', 's', 'se', 'sw', 'ne', 'nw']) }, getCreatingRange: function (e) { var t = V(e); return Z(t[1][0], t[1][1], t[0][0], t[0][1]) }, updateCoverShape: function (e, t, i, n) { F(e, t, i, n) }, updateCommon: H, contain: te }, polygon: { createCover: function (e, t) { var i = new o.Group(); return i.add(new o.Polyline({ name: 'main', style: U(t), silent: !0 })), i }, getCreatingRange: function (e) { return e }, endCreating: function (e, t) { t.remove(t.childAt(0)), t.add(new o.Polygon({ name: 'main', draggable: !0, drift: u(q, e, t), ondragend: u(z, e, { isEnd: !0 }) })) }, updateCoverShape: function (e, t, i, n) { t.childAt(0).setShape({ points: K(e, t, i) }) }, updateCommon: H, contain: te } }; function le (e) { return { createCover: function (t, i) { return G(u(X, function (t) { var i = [t, [0, 100]]; return e && i.reverse(), i }, function (t) { return t[e] }), t, i, [['w', 'e'], ['n', 's']][e]) }, getCreatingRange: function (t) { var i = V(t); var n = d(i[0][e], i[1][e]); var a = f(i[0][e], i[1][e]); return [n, a] }, updateCoverShape: function (t, i, n, a) { var r; var o = E(t, i); if (!0 !== o && o.getLinearBrushOtherExtent)r = o.getLinearBrushOtherExtent(e, t._transform); else { var s = t._zr; r = [0, [s.getWidth(), s.getHeight()][1 - e]] } var l = [n, r]; e && l.reverse(), F(t, i, l, a) }, updateCommon: H, contain: te } } var ue = S; e.exports = ue }, fd27: function (e, t, i) { var n = i('9273'); var a = i('a991'); var r = function (e) { this.name = e || '', this.cx = 0, this.cy = 0, this._radiusAxis = new n(), this._angleAxis = new a(), this._radiusAxis.polar = this._angleAxis.polar = this }; r.prototype = { type: 'polar', axisPointerEnabled: !0, constructor: r, dimensions: ['radius', 'angle'], model: null, containPoint: function (e) { var t = this.pointToCoord(e); return this._radiusAxis.contain(t[0]) && this._angleAxis.contain(t[1]) }, containData: function (e) { return this._radiusAxis.containData(e[0]) && this._angleAxis.containData(e[1]) }, getAxis: function (e) { return this['_' + e + 'Axis'] }, getAxes: function () { return [this._radiusAxis, this._angleAxis] }, getAxesByScale: function (e) { var t = []; var i = this._angleAxis; var n = this._radiusAxis; return i.scale.type === e && t.push(i), n.scale.type === e && t.push(n), t }, getAngleAxis: function () { return this._angleAxis }, getRadiusAxis: function () { return this._radiusAxis }, getOtherAxis: function (e) { var t = this._angleAxis; return e === t ? this._radiusAxis : t }, getBaseAxis: function () { return this.getAxesByScale('ordinal')[0] || this.getAxesByScale('time')[0] || this.getAngleAxis() }, getTooltipAxes: function (e) { var t = e != null && e !== 'auto' ? this.getAxis(e) : this.getBaseAxis(); return { baseAxes: [t], otherAxes: [this.getOtherAxis(t)] } }, dataToPoint: function (e, t) { return this.coordToPoint([this._radiusAxis.dataToRadius(e[0], t), this._angleAxis.dataToAngle(e[1], t)]) }, pointToData: function (e, t) { var i = this.pointToCoord(e); return [this._radiusAxis.radiusToData(i[0], t), this._angleAxis.angleToData(i[1], t)] }, pointToCoord: function (e) { var t = e[0] - this.cx; var i = e[1] - this.cy; var n = this.getAngleAxis(); var a = n.getExtent(); var r = Math.min(a[0], a[1]); var o = Math.max(a[0], a[1]); n.inverse ? r = o - 360 : o = r + 360; var s = Math.sqrt(t * t + i * i); t /= s, i /= s; var l = Math.atan2(-i, t) / Math.PI * 180; var u = l < r ? 1 : -1; while (l < r || l > o)l += 360 * u; return [s, l] }, coordToPoint: function (e) { var t = e[0]; var i = e[1] / 180 * Math.PI; var n = Math.cos(i) * t + this.cx; var a = -Math.sin(i) * t + this.cy; return [n, a] }, getArea: function () { var e = this.getAngleAxis(); var t = this.getRadiusAxis(); var i = t.getExtent().slice(); i[0] > i[1] && i.reverse(); var n = e.getExtent(); var a = Math.PI / 180; return { cx: this.cx, cy: this.cy, r0: i[0], r: i[1], startAngle: -n[0] * a, endAngle: -n[1] * a, clockwise: e.inverse, contain: function (e, t) { var i = e - this.cx; var n = t - this.cy; var a = i * i + n * n; var r = this.r; var o = this.r0; return a <= r * r && a >= o * o } } } }; var o = r; e.exports = o }, fd63: function (e, t, i) { var n = i('42e5'); var a = i('6d8b'); var r = a.isFunction; var o = { createOnAllSeries: !0, performRawSeries: !0, reset: function (e, t) { var i = e.getData(); var a = (e.visualColorAccessPath || 'itemStyle.color').split('.'); var o = e.get(a); var s = !r(o) || o instanceof n ? null : o; o && !s || (o = e.getColorFromPalette(e.name, null, t.getSeriesCount())), i.setVisual('color', o); var l = (e.visualBorderColorAccessPath || 'itemStyle.borderColor').split('.'); var u = e.get(l); if (i.setVisual('borderColor', u), !t.isSeriesFiltered(e)) { s && i.each(function (t) { i.setItemVisual(t, 'color', s(e.getDataParams(t))) }); var c = function (e, t) { var i = e.getItemModel(t); var n = i.get(a, !0); var r = i.get(l, !0); n != null && e.setItemVisual(t, 'color', n), r != null && e.setItemVisual(t, 'borderColor', r) }; return { dataEach: i.hasItemOption ? c : null } } } }; e.exports = o }, fdde: function (e, t) { var i = { average: function (e) { for (var t = 0, i = 0, n = 0; n < e.length; n++)isNaN(e[n]) || (t += e[n], i++); return i === 0 ? NaN : t / i }, sum: function (e) { for (var t = 0, i = 0; i < e.length; i++)t += e[i] || 0; return t }, max: function (e) { for (var t = -1 / 0, i = 0; i < e.length; i++)e[i] > t && (t = e[i]); return isFinite(t) ? t : NaN }, min: function (e) { for (var t = 1 / 0, i = 0; i < e.length; i++)e[i] < t && (t = e[i]); return isFinite(t) ? t : NaN }, nearest: function (e) { return e[0] } }; var n = function (e, t) { return Math.round(e.length / 2) }; function a (e) { return { seriesType: e, modifyOutputEnd: !0, reset: function (e, t, a) { var r = e.getData(); var o = e.get('sampling'); var s = e.coordinateSystem; if (s.type === 'cartesian2d' && o) { var l; var u = s.getBaseAxis(); var c = s.getOtherAxis(u); var h = u.getExtent(); var d = Math.abs(h[1] - h[0]); var f = Math.round(r.count() / d); if (f > 1) typeof o === 'string' ? l = i[o] : typeof o === 'function' && (l = o), l && e.setData(r.downSample(r.mapDimension(c.dim), 1 / f, l, n)) } } } }e.exports = a }, fe21: function (e, t, i) { var n = i('e86a'); var a = i('2306'); var r = ['textStyle', 'color']; var o = { getTextColor: function (e) { var t = this.ecModel; return this.getShallow('color') || (!e && t ? t.get(r) : null) }, getFont: function () { return a.getFont({ fontStyle: this.getShallow('fontStyle'), fontWeight: this.getShallow('fontWeight'), fontSize: this.getShallow('fontSize'), fontFamily: this.getShallow('fontFamily') }, this.ecModel) }, getTextRect: function (e) { return n.getBoundingRect(e, this.getFont(), this.getShallow('align'), this.getShallow('verticalAlign') || this.getShallow('baseline'), this.getShallow('padding'), this.getShallow('lineHeight'), this.getShallow('rich'), this.getShallow('truncateText')) } }; e.exports = o }, febc: function (e, t, i) { var n = i('6d8b'); var a = i('4f85'); var r = i('e468'); var o = r.seriesModelMixin; var s = a.extend({ type: 'series.boxplot', dependencies: ['xAxis', 'yAxis', 'grid'], defaultValueDimensions: [{ name: 'min', defaultTooltip: !0 }, { name: 'Q1', defaultTooltip: !0 }, { name: 'median', defaultTooltip: !0 }, { name: 'Q3', defaultTooltip: !0 }, { name: 'max', defaultTooltip: !0 }], dimensions: null, defaultOption: { zlevel: 0, z: 2, coordinateSystem: 'cartesian2d', legendHoverLink: !0, hoverAnimation: !0, layout: null, boxWidth: [7, 50], itemStyle: { color: '#fff', borderWidth: 1 }, emphasis: { itemStyle: { borderWidth: 2, shadowBlur: 5, shadowOffsetX: 2, shadowOffsetY: 2, shadowColor: 'rgba(0,0,0,0.4)' } }, animationEasing: 'elasticOut', animationDuration: 800 } }); n.mixin(s, o, !0); var l = s; e.exports = l }, fecb: function (e, t, i) { var n = i('6d8b'); var a = i('2145'); var r = i('29a8'); var o = r.toolbox.brush; function s (e, t, i) { this.model = e, this.ecModel = t, this.api = i, this._brushType, this._brushMode }s.defaultOption = { show: !0, type: ['rect', 'polygon', 'lineX', 'lineY', 'keep', 'clear'], icon: { rect: 'M7.3,34.7 M0.4,10V-0.2h9.8 M89.6,10V-0.2h-9.8 M0.4,60v10.2h9.8 M89.6,60v10.2h-9.8 M12.3,22.4V10.5h13.1 M33.6,10.5h7.8 M49.1,10.5h7.8 M77.5,22.4V10.5h-13 M12.3,31.1v8.2 M77.7,31.1v8.2 M12.3,47.6v11.9h13.1 M33.6,59.5h7.6 M49.1,59.5 h7.7 M77.5,47.6v11.9h-13', polygon: 'M55.2,34.9c1.7,0,3.1,1.4,3.1,3.1s-1.4,3.1-3.1,3.1 s-3.1-1.4-3.1-3.1S53.5,34.9,55.2,34.9z M50.4,51c1.7,0,3.1,1.4,3.1,3.1c0,1.7-1.4,3.1-3.1,3.1c-1.7,0-3.1-1.4-3.1-3.1 C47.3,52.4,48.7,51,50.4,51z M55.6,37.1l1.5-7.8 M60.1,13.5l1.6-8.7l-7.8,4 M59,19l-1,5.3 M24,16.1l6.4,4.9l6.4-3.3 M48.5,11.6 l-5.9,3.1 M19.1,12.8L9.7,5.1l1.1,7.7 M13.4,29.8l1,7.3l6.6,1.6 M11.6,18.4l1,6.1 M32.8,41.9 M26.6,40.4 M27.3,40.2l6.1,1.6 M49.9,52.1l-5.6-7.6l-4.9-1.2', lineX: 'M15.2,30 M19.7,15.6V1.9H29 M34.8,1.9H40.4 M55.3,15.6V1.9H45.9 M19.7,44.4V58.1H29 M34.8,58.1H40.4 M55.3,44.4 V58.1H45.9 M12.5,20.3l-9.4,9.6l9.6,9.8 M3.1,29.9h16.5 M62.5,20.3l9.4,9.6L62.3,39.7 M71.9,29.9H55.4', lineY: 'M38.8,7.7 M52.7,12h13.2v9 M65.9,26.6V32 M52.7,46.3h13.2v-9 M24.9,12H11.8v9 M11.8,26.6V32 M24.9,46.3H11.8v-9 M48.2,5.1l-9.3-9l-9.4,9.2 M38.9-3.9V12 M48.2,53.3l-9.3,9l-9.4-9.2 M38.9,62.3V46.4', keep: 'M4,10.5V1h10.3 M20.7,1h6.1 M33,1h6.1 M55.4,10.5V1H45.2 M4,17.3v6.6 M55.6,17.3v6.6 M4,30.5V40h10.3 M20.7,40 h6.1 M33,40h6.1 M55.4,30.5V40H45.2 M21,18.9h62.9v48.6H21V18.9z', clear: 'M22,14.7l30.9,31 M52.9,14.7L22,45.7 M4.7,16.8V4.2h13.1 M26,4.2h7.8 M41.6,4.2h7.8 M70.3,16.8V4.2H57.2 M4.7,25.9v8.6 M70.3,25.9v8.6 M4.7,43.2v12.6h13.1 M26,55.8h7.8 M41.6,55.8h7.8 M70.3,43.2v12.6H57.2' }, title: n.clone(o.title) }; var l = s.prototype; l.render = l.updateView = function (e, t, i) { var a, r, o; t.eachComponent({ mainType: 'brush' }, function (e) { a = e.brushType, r = e.brushOption.brushMode || 'single', o |= e.areas.length }), this._brushType = a, this._brushMode = r, n.each(e.get('type', !0), function (t) { e.setIconStatus(t, (t === 'keep' ? r === 'multiple' : t === 'clear' ? o : t === a) ? 'emphasis' : 'normal') }) }, l.getIcons = function () { var e = this.model; var t = e.get('icon', !0); var i = {}; return n.each(e.get('type', !0), function (e) { t[e] && (i[e] = t[e]) }), i }, l.onclick = function (e, t, i) { var n = this._brushType; var a = this._brushMode; i === 'clear' ? (t.dispatchAction({ type: 'axisAreaSelect', intervals: [] }), t.dispatchAction({ type: 'brush', command: 'clear', areas: [] })) : t.dispatchAction({ type: 'takeGlobalCursor', key: 'brush', brushOption: { brushType: i === 'keep' ? n : n !== i && i, brushMode: i === 'keep' ? a === 'multiple' ? 'single' : 'multiple' : a } }) }, a.register('brush', s); var u = s; e.exports = u }, ff2e: function (e, t, i) { var n = i('6d8b'); var a = i('2306'); var r = i('e86a'); var o = i('eda2'); var s = i('1687'); var l = i('697e'); var u = i('fab2'); function c (e) { var t; var i = e.get('type'); var n = e.getModel(i + 'Style'); return i === 'line' ? (t = n.getLineStyle(), t.fill = null) : i === 'shadow' && (t = n.getAreaStyle(), t.stroke = null), t } function h (e, t, i, n, a) { var s = i.get('value'); var l = f(s, t.axis, t.ecModel, i.get('seriesDataIndices'), { precision: i.get('label.precision'), formatter: i.get('label.formatter') }); var u = i.getModel('label'); var c = o.normalizeCssArray(u.get('padding') || 0); var h = u.getFont(); var p = r.getBoundingRect(l, h); var g = a.position; var m = p.width + c[1] + c[3]; var v = p.height + c[0] + c[2]; var y = a.align; y === 'right' && (g[0] -= m), y === 'center' && (g[0] -= m / 2); var x = a.verticalAlign; x === 'bottom' && (g[1] -= v), x === 'middle' && (g[1] -= v / 2), d(g, m, v, n); var _ = u.get('backgroundColor'); _ && _ !== 'auto' || (_ = t.get('axisLine.lineStyle.color')), e.label = { shape: { x: 0, y: 0, width: m, height: v, r: u.get('borderRadius') }, position: g.slice(), style: { text: l, textFont: h, textFill: u.getTextColor(), textPosition: 'inside', textPadding: c, fill: _, stroke: u.get('borderColor') || 'transparent', lineWidth: u.get('borderWidth') || 0, shadowBlur: u.get('shadowBlur'), shadowColor: u.get('shadowColor'), shadowOffsetX: u.get('shadowOffsetX'), shadowOffsetY: u.get('shadowOffsetY') }, z2: 10 } } function d (e, t, i, n) { var a = n.getWidth(); var r = n.getHeight(); e[0] = Math.min(e[0] + t, a) - t, e[1] = Math.min(e[1] + i, r) - i, e[0] = Math.max(e[0], 0), e[1] = Math.max(e[1], 0) } function f (e, t, i, a, r) { e = t.scale.parse(e); var o = t.scale.getLabel(e, { precision: r.precision }); var s = r.formatter; if (s) { var u = { value: l.getAxisRawValue(t, e), axisDimension: t.dim, axisIndex: t.index, seriesData: [] }; n.each(a, function (e) { var t = i.getSeriesByIndex(e.seriesIndex); var n = e.dataIndexInside; var a = t && t.getDataParams(n); a && u.seriesData.push(a) }), n.isString(s) ? o = s.replace('{value}', o) : n.isFunction(s) && (o = s(u)) } return o } function p (e, t, i) { var n = s.create(); return s.rotate(n, n, i.rotation), s.translate(n, n, i.position), a.applyTransform([e.dataToCoord(t), (i.labelOffset || 0) + (i.labelDirection || 1) * (i.labelMargin || 0)], n) } function g (e, t, i, n, a, r) { var o = u.innerTextLayout(i.rotation, 0, i.labelDirection); i.labelMargin = a.get('label.margin'), h(t, n, a, r, { position: p(n.axis, e, i), align: o.textAlign, verticalAlign: o.textVerticalAlign }) } function m (e, t, i) { return i = i || 0, { x1: e[i], y1: e[1 - i], x2: t[i], y2: t[1 - i] } } function v (e, t, i) { return i = i || 0, { x: e[i], y: e[1 - i], width: t[i], height: t[1 - i] } } function y (e, t, i, n, a, r) { return { cx: e, cy: t, r0: i, r: n, startAngle: a, endAngle: r, clockwise: !0 } }t.buildElStyle = c, t.buildLabelElOption = h, t.getValueLabel = f, t.getTransformedPosition = p, t.buildCartesianSingleLabelElOption = g, t.makeLineShape = m, t.makeRectShape = v, t.makeSectorShape = y } }])
// # sourceMappingURL=chunk-8e889ea0.9974c083.js.map
