(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-e8753174"],{"25f0":function(t,e,a){"use strict";var n=a("6eeb"),r=a("825a"),o=a("d039"),s=a("ad6d"),c="toString",l=RegExp.prototype,u=l[c],i=o((function(){return"/a/b"!=u.call({source:"a",flags:"b"})})),m=u.name!=c;(i||m)&&n(RegExp.prototype,c,(function(){var t=r(this),e=String(t.source),a=t.flags,n=String(void 0===a&&t instanceof RegExp&&!("flags"in l)?s.call(t):a);return"/"+e+"/"+n}),{unsafe:!0})},"842d":function(t,e,a){"use strict";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"article-container"},[a("el-card",{staticClass:"box-card"},[a("div",{staticClass:"clearfix",attrs:{slot:"header"},slot:"header"},[a("my-breadcrumb",[t._v("评论管理")])],1),a("el-table",{attrs:{data:t.comments}},[a("el-table-column",{attrs:{label:"文章标题",prop:"title"}}),a("el-table-column",{attrs:{label:"总评论数",prop:"total_comment_count"}}),a("el-table-column",{attrs:{label:"粉丝评论数",prop:"fans_comment_count"}}),a("el-table-column",{attrs:{label:"评论状态"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.comment_status?a("el-tag",{attrs:{type:"success"}},[t._v("正常")]):a("el-tag",{attrs:{type:"error"}},[t._v("关闭")])]}}])}),a("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.comment_status?a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){return t.hToggleStatus(e.row)}}},[t._v("关闭")]):a("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(a){return t.hToggleStatus(e.row)}}},[t._v("打开")])]}}])})],1),a("el-pagination",{staticStyle:{"margin-top":"1em"},attrs:{background:"","page-size":10,layout:"prev, pager, next",total:t.total_count},on:{"current-change":t.hPageChange}})],1)],1)},r=[],o=(a("d3b7"),a("25f0"),a("96cf"),a("1da1")),s={name:"CommentIndex",props:{},components:{},data:function(){return{page:1,total_count:0,comments:[{title:"测试标题",num1:111}]}},created:function(){this.loadComments()},methods:{hPageChange:function(t){this.page=t,this.loadComments()},loadComments:function(){var t=this;return Object(o["a"])(regeneratorRuntime.mark((function e(){var a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.$http({url:"/mp/v1_0/articles",method:"GET",params:{page:t.page,response_type:"comment"}});case 2:a=e.sent,console.log(a),t.comments=a.data.data.results,t.total_count=a.data.data.total_count;case 6:case"end":return e.stop()}}),e)})))()},hToggleStatus:function(t){var e=this;return Object(o["a"])(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return console.log(t),a.prev=1,a.next=4,e.$http({url:"/mp/v1_0/comments/status",method:"PUT",params:{article_id:t.id.toString()},data:{allow_comment:!t.comment_status}});case 4:n=a.sent,console.log(n),e.$message.success("操作成功"),t.comment_status=!t.comment_status,a.next=14;break;case 10:a.prev=10,a.t0=a["catch"](1),console.log(a.t0),e.$message.error("操作失败");case 14:case"end":return a.stop()}}),a,null,[[1,10]])})))()}}},c=s,l=a("2877"),u=Object(l["a"])(c,n,r,!1,null,"a12af886",null);e["default"]=u.exports},ad6d:function(t,e,a){"use strict";var n=a("825a");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}}}]);
//# sourceMappingURL=chunk-e8753174.70cf3b18.js.map